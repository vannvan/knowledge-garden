# ç®—æ³•:å›æº¯ 
## ç‰¹å¾
å›æº¯æ˜¯ä¸€ç§æ¸è¿›å¼å¯»æ‰¾å¹¶æ„å»ºé—®é¢˜è§£å†³æ–¹å¼çš„ç­–ç•¥ã€‚æˆ‘ä»¬ä»ä¸€ä¸ªå¯èƒ½çš„åŠ¨ä½œå¼€å§‹å¹¶è¯•ç€ç”¨è¿™ä¸ªåŠ¨ä½œè§£å†³é—®é¢˜ã€‚å¦‚æœä¸èƒ½è§£å†³ï¼Œå°±å›æº¯å¹¶é€‰æ‹©å¦ä¸€ä¸ªåŠ¨ä½œç›´åˆ°å°†é—®é¢˜è§£å†³ã€‚æ ¹æ®è¿™ç§è¡Œä¸ºï¼Œå›æº¯ç®—æ³•ä¼šå°è¯•æ‰€æœ‰å¯èƒ½çš„åŠ¨ä½œï¼ˆå¦‚æœæ›´å¿«æ‰¾åˆ°äº†è§£å†³åŠæ³•å°±å°è¯•è¾ƒå°‘çš„æ¬¡æ•°ï¼‰æ¥è§£å†³é—®é¢˜ã€‚
PS:å›æº¯å’Œé€’å½’æ˜¯ç›¸è¾…ç›¸æˆçš„ï¼Œç›¸å¯¹æ¯”è¾ƒæš´åŠ›
## å¸¸è§é—®é¢˜

- ç»„åˆé—®é¢˜ï¼šNä¸ªæ•°é‡Œé¢æŒ‰ä¸€å®šè§„åˆ™æ‰¾å‡ºkä¸ªæ•°çš„é›†åˆ
- åˆ‡å‰²é—®é¢˜ï¼šä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰ä¸€å®šè§„åˆ™æœ‰å‡ ç§åˆ‡å‰²æ–¹å¼
- å­é›†é—®é¢˜ï¼šä¸€ä¸ªNä¸ªæ•°çš„é›†åˆé‡Œæœ‰å¤šå°‘ç¬¦åˆæ¡ä»¶çš„å­é›†
- æ’åˆ—é—®é¢˜ï¼šNä¸ªæ•°æŒ‰ä¸€å®šè§„åˆ™å…¨æ’åˆ—ï¼Œæœ‰å‡ ç§æ’åˆ—æ–¹å¼
- æ£‹ç›˜é—®é¢˜ï¼šNçš‡åï¼Œè§£æ•°ç‹¬ç­‰ç­‰
## è§£é¢˜æ¡†æ¶
### æ¨¡ç‰ˆ
```cpp
void backtracking(å‚æ•°) {
    if (ç»ˆæ­¢æ¡ä»¶) {
        å­˜æ”¾ç»“æœ;
        return;
    }

    for (é€‰æ‹©ï¼šæœ¬å±‚é›†åˆä¸­å…ƒç´ ï¼ˆæ ‘ä¸­èŠ‚ç‚¹å­©å­çš„æ•°é‡å°±æ˜¯é›†åˆçš„å¤§å°ï¼‰) {
        å¤„ç†èŠ‚ç‚¹;
        backtracking(è·¯å¾„ï¼Œé€‰æ‹©åˆ—è¡¨); // é€’å½’
        å›æº¯ï¼Œæ’¤é”€å¤„ç†ç»“æœ
    }
}
```
## ![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1678026607989-27c35012-8866-44ab-b14b-c572e471b1ec.png#averageHue=%23fcfbfb&clientId=u02abf051-78a8-4&from=paste&height=263&id=u3f74fb76&name=image.png&originHeight=734&originWidth=1672&originalType=binary&ratio=2&rotation=0&showTitle=false&size=351311&status=done&style=none&taskId=u38889c89-d114-468d-80d1-29ca90338a6&title=&width=600)
### è§£é¢˜è¦ç‚¹

1. è·¯å¾„ï¼šä¹Ÿå°±æ˜¯å·²ç»åšå‡ºçš„é€‰æ‹©ã€‚
2. é€‰æ‹©åˆ—è¡¨ï¼šä¹Ÿå°±æ˜¯ä½ å½“å‰å¯ä»¥åšçš„é€‰æ‹©ã€‚
3. ç»“æŸæ¡ä»¶ï¼šä¹Ÿå°±æ˜¯åˆ°è¾¾å†³ç­–æ ‘åº•å±‚ï¼Œæ— æ³•å†åšé€‰æ‹©çš„æ¡ä»¶ã€‚
## ä¾‹é¢˜
### å­é›†
> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ•°ç»„ä¸­çš„å…ƒç´  **äº’ä¸ç›¸åŒ** ã€‚è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚
> è§£é›† **ä¸èƒ½** åŒ…å«é‡å¤çš„å­é›†ã€‚ä½ å¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›è§£é›†ã€‚
> è¾“å…¥ï¼šnums = [1,2,3] è¾“å‡ºï¼š[[],[1],[2],[1,2],[3],[1,3],[2,3],[1,2,3]]
> æ¥æºï¼š[https://leetcode.cn/problems/subsets/](https://leetcode.cn/problems/subsets/)

#### ä»£ç å®ç°
```javascript
function subsets(nums: number[]): number[][] {
  // Think for yourself for 5 minutes...
	// å­˜æ”¾ç»“æœ
  const res: number[][] = [[]]
	// å›æº¯è·¯å¾„
  const stack: number[] = []

  const backTrack = (startIndex: number) => {
    // å‰åºéå†ä½ç½®ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯ä¸€ä¸ªå­é›†
    if (stack.length) {
      res.push([...stack])
    }

    for (let i = startIndex; i < nums.length; i++) {
      // åšé€‰æ‹©
      stack.push(nums[i])
      // å›æº¯ä¸‹ä¸€å±‚èŠ‚ç‚¹
      backTrack(i + 1)
      // æ’¤é”€é€‰æ‹©
      stack.pop()
    }
  }

  backTrack(0)
  return res
}
```
### ![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1678107135397-bdbf8e57-0696-44ff-9f23-dee7c5e53708.png#averageHue=%23f8f6f5&clientId=uf7789b61-6803-4&from=paste&height=306&id=u71f985da&name=image.png&originHeight=882&originWidth=1728&originalType=binary&ratio=2&rotation=0&showTitle=false&size=1832792&status=done&style=none&taskId=u3fe7bfb7-eb1e-4e1f-acc2-c15dfeea61d&title=&width=600)
### å­é›† II
> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œå…¶ä¸­**å¯èƒ½åŒ…å«é‡å¤å…ƒç´ **ï¼Œè¯·ä½ è¿”å›è¯¥æ•°ç»„**æ‰€æœ‰å¯èƒ½çš„å­é›†**ï¼ˆå¹‚é›†ï¼‰ã€‚
> è§£é›† **ä¸èƒ½ åŒ…å«é‡å¤çš„å­é›†**ã€‚è¿”å›çš„è§£é›†ä¸­ï¼Œå­é›†å¯ä»¥æŒ‰ ä»»æ„é¡ºåº æ’åˆ—ã€‚
> è¾“å…¥ï¼šnums = [1,2,2] è¾“å‡ºï¼š[[],[1],[1,2],[1,2,2],[2],[2,2]]
> æ¥æºï¼š[https://leetcode.cn/problems/subsets-ii](https://leetcode.cn/problems/subsets-ii)

#### ä»£ç å®ç°
```javascript

function subsetsWithDup(nums: number[]): number[][] {
  // Think for yourself for 5 minutes...

  const res: number[][] = []

  const track: number[] = []

  const backTrack = (nums: number[], startIndex: number) => {
    res.push([...track])
    for (let i = startIndex; i < nums.length; i++) {
      // ä»¥ 1 2 2 ä¸ºä¾‹
      // å½“é‡åˆ°ä»¥startIndexä¸º2ï¼Œå¦‚æœåé¢è¿˜æœ‰æ•°(i > startIndex ),åŒæ—¶å½“å‰é¡¹num[i]ä¸å‰ä¸€é¡¹nums[i-1]ç›¸ç­‰ï¼Œè¯´æ˜ç›¸é‚»ä¸¤ä¸ªå€¼ä¸€æ ·å•Š
      // é‚£ä¹ˆä¹‹å‰å·²ç»å­˜è¿‡ç›¸åº”çš„å­é›†äº†ï¼Œéœ€è¦è·³å‡ºå¾ªç¯
      if (i > startIndex && nums[i] == nums[i - 1]) continue
      track.push(nums[i])
      backTrack(nums, i + 1)
      track.pop()
    }
  }
	// ä¸ºæ–¹ä¾¿å‰ªæï¼Œéœ€è¦å…ˆæ’åº
  backTrack(nums.sort(), 0)
  return res
}
```
#### Setå»é‡çš„æ€è·¯
```javascript
function subsetsWithDupSet(nums: number[]): number[][] {
  // Think for yourself for 5 minutes...

  const res: number[][] = []

  const track: number[] = []

  const backTrack = (nums: number[], startIndex: number) => {
    res.push([...track])

    const usedSet = new Set()

    for (let i = startIndex; i < nums.length; i++) {
      // å¯ä»¥å»æ‰è¿™ä¸€è¡Œå¯¹æ¯”å®é™…çš„æ•ˆæœ
      if (usedSet.has(nums[i])) continue
      usedSet.add(nums[i])
      track.push(nums[i])
      backTrack(nums, i + 1)
      track.pop()
    }
  }

  backTrack(nums, 0)

  return res
}
```
### ğŸ‘‰å­é›†é—®é¢˜å½’çº³

1. å¯¹äºä¸å­˜åœ¨é‡å¤å…ƒç´ çš„æƒ…å†µï¼Œæ— è™šè€ƒè™‘æ ‘éå†è¿‡ç¨‹çš„é‡å¤å¯èƒ½æ€§ï¼Œå› æ­¤åªéœ€æ˜ç¡®startIndexçš„ä½œç”¨ï¼Œæ˜¯åœ¨å®Œæˆâ€œä¾æ¬¡â€éå†çš„åŠŸèƒ½å³å¯ã€‚
2. å¯¹äºå­˜åœ¨é‡å¤å…ƒç´ çš„æƒ…å†µ(éœ€è¦å…ˆæ’åºæ–¹ä¾¿æ“ä½œ)ï¼Œéœ€è¦è€ƒè™‘åœ¨åŒä¸€å±‚â€œåˆ†åˆ«â€å‘ä¸‹éå†æ—¶ï¼Œå½“å‰èŠ‚ç‚¹çš„å­é›†æ˜¯å¦å·²åœ¨ä¹‹å‰çš„å…„å¼ŸèŠ‚ç‚¹å­é›†å‡ºç°è¿‡äº†ï¼Œå› æ­¤è¿˜éœ€è¦å®šä¹‰å½“å‰å±‚çš„usedSetç”¨äºè®°å½•æ˜¯å¦åŒä¸€å…ƒç´ åœ¨åŒä¸€å±‚å·²ç»ä½¿ç”¨è¿‡ï¼Œå¦‚æœä½¿ç”¨è¿‡å°±è¦ç»•è¿‡ï¼Œå³continueè·³å‡ºæœ¬æ¬¡å¾ªç¯ã€‚
### ç»„åˆé—®é¢˜
> ç»™å®šä¸¤ä¸ªæ•´æ•° n å’Œ kï¼Œè¿”å›èŒƒå›´ [1, n] ä¸­æ‰€æœ‰å¯èƒ½çš„** k ä¸ªæ•°çš„ç»„åˆã€‚**
> ä½ å¯ä»¥æŒ‰ **ä»»ä½•é¡ºåº** è¿”å›ç­”æ¡ˆã€‚
> è¾“å…¥ï¼šn = 4, k = 2 è¾“å‡ºï¼š [   [2,4],   [3,4],   [2,3],   [1,2],   [1,3],   [1,4], ]
> æ¥æºï¼š[https://leetcode.cn/problems/combinations/](https://leetcode.cn/problems/combinations/)

#### ä»£ç å®ç°
```typescript

function combine(n: number, k: number): number[][] {
  // Think for yourself for 5 minutes...

  const  res: number[][] = []

  const track: number[] = []

  const backTracking = (n: number, k: number, startIndex: number): void => {
    if (track.length === k) {
      res.push([...track])
      return
    }
    // ä¸å‰ªæçš„æ–¹å¼
    // for (let i = startIndex; i <= n; i++) {
    //   track.push(i)
    //   backTracking(n, k, i + 1, track)
    //   // ä¸Šä¸€æ­¥returnäº†ä¹‹åæ‰ä¼šæ‰§è¡Œè¿™é‡Œçš„pop
    //   track.pop()
    // }

    // å‰ªæçš„æ“ä½œ
    for (let i = startIndex; i <= n - k + track.length + 1; i++) {
      track.push(i)
      //é€šè¿‡ startIndex å‚æ•°æ§åˆ¶æ ‘æçš„éå†ï¼Œé¿å…äº§ç”Ÿé‡å¤çš„å­é›†
      backTracking(n, k, i + 1)
      track.pop()
    }
  }

  backTracking(n, k, 1)
  return res
}
```
å®ç°æ€è·¯
æŠŠç»„åˆé—®é¢˜æŠ½è±¡ä¸ºå¦‚ä¸‹æ ‘ç»“æ„
![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1678026907650-c9e244de-53ce-441f-9612-85ee46056a66.png#averageHue=%23fefefe&clientId=u02abf051-78a8-4&from=paste&height=276&id=u6159ace0&name=image.png&originHeight=788&originWidth=1716&originalType=binary&ratio=2&rotation=0&showTitle=false&size=277186&status=done&style=none&taskId=uf8a3ca15-b044-4b6b-b057-e3fc5dcb2f5&title=&width=600)

å‰ªæè¿‡ç¨‹
![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1678029960575-e499563a-8c75-4397-a6d5-ddf61a15a5e0.png#averageHue=%23fdfcfc&clientId=u02abf051-78a8-4&from=paste&height=388&id=u8d137941&name=image.png&originHeight=1010&originWidth=1562&originalType=binary&ratio=2&rotation=0&showTitle=false&size=465900&status=done&style=none&taskId=u002831e2-e245-479b-a729-3272285727e&title=&width=600)

### ç»„åˆæ€»å’Œ
> ç»™ä½ ä¸€ä¸ª æ— é‡å¤å…ƒç´  çš„æ•´æ•°æ•°ç»„Â candidates å’Œä¸€ä¸ªç›®æ ‡æ•´æ•°Â targetÂ ï¼Œæ‰¾å‡ºÂ candidatesÂ ä¸­å¯ä»¥ä½¿æ•°å­—å’Œä¸ºç›®æ ‡æ•°Â target çš„ æ‰€æœ‰Â ä¸åŒç»„åˆ ï¼Œå¹¶ä»¥åˆ—è¡¨å½¢å¼è¿”å›ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›è¿™äº›ç»„åˆã€‚
> candidates ä¸­çš„** åŒä¸€ä¸ª æ•°å­—å¯ä»¥ æ— é™åˆ¶é‡å¤è¢«é€‰å– **ã€‚å¦‚æœè‡³å°‘ä¸€ä¸ªæ•°å­—çš„è¢«é€‰æ•°é‡ä¸åŒï¼Œåˆ™ä¸¤ç§ç»„åˆæ˜¯ä¸åŒçš„ã€‚Â 
> å¯¹äºç»™å®šçš„è¾“å…¥ï¼Œä¿è¯å’Œä¸ºÂ target çš„ä¸åŒç»„åˆæ•°å°‘äº 150 ä¸ªã€‚
> è¾“å…¥ï¼šcandidates = [2,3,6,7], target = 7
> è¾“å‡ºï¼š[[2,2,3],[7]]
> è§£é‡Šï¼š
> 2 å’Œ 3 å¯ä»¥å½¢æˆä¸€ç»„å€™é€‰ï¼Œ2 + 2 + 3 = 7 ã€‚æ³¨æ„ 2 å¯ä»¥ä½¿ç”¨å¤šæ¬¡ã€‚
> 7 ä¹Ÿæ˜¯ä¸€ä¸ªå€™é€‰ï¼Œ 7 = 7 ã€‚ä»…æœ‰è¿™ä¸¤ç§ç»„åˆã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/combination-sum](https://leetcode.cn/problems/combination-sum)

#### ä»£ç å®ç°
```typescript
function combinationSum(candidates: number[], target: number): number[][] {
  // Think for yourself for 5 minutes...

  const res: number[][] = []

  const track: number[] = []

  let numSum: number = 0

  const backTrack = (nums: number[], startIndex: number) => {
    if (numSum > target) {
      return
    }

    if (numSum === target) {
      res.push([...track])
      return
    }
	  // å‰ªæçš„æ“ä½œï¼Œå½“å‰å€¼å’ŒnumSumå¦‚æœå·²ç»å¤§äºæ€»å’Œäº†å°±æ²¡å¿…è¦è¿›å…¥ä¸‹ä¸€æ¬¡é€’å½’äº†
    // for (let i = startIndex; i < nums.length && numSum + nums[i] <= target; i++) {
    for (let i = startIndex; i < nums.length; i++) {

      numSum += nums[i]
      track.push(nums[i])

      // åŒä¸€å…ƒç´ å¯ä»¥é‡å¤ä½¿ç”¨ï¼Œå› æ­¤ä¸‹æ¬¡ä¹Ÿå¯ä»¥æ˜¯iå½“å‰å…ƒç´ 
      backTrack(nums, i)

      numSum -= nums[i]
      track.pop()
    }
  }

  backTrack(candidates, 0)

  return res
}

```
### ç»„åˆæ€»å’Œ II
> ç»™å®šä¸€ä¸ªå€™é€‰äººç¼–å·çš„é›†åˆÂ candidatesÂ å’Œä¸€ä¸ªç›®æ ‡æ•°Â targetÂ ï¼Œæ‰¾å‡ºÂ candidatesÂ ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸ºÂ targetÂ çš„ç»„åˆã€‚
> candidatesÂ ä¸­çš„**æ¯ä¸ªæ•°å­—åœ¨æ¯ä¸ªç»„åˆä¸­åªèƒ½ä½¿ç”¨Â ä¸€æ¬¡Â ã€‚**
> æ³¨æ„ï¼šè§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚Â 
> è¾“å…¥: candidates =Â [10,1,2,7,6,1,5], target =Â 8,
> è¾“å‡º: [[1,1,6],[1,2,5],[1,7],[2,6]]
> æ¥æºï¼š[https://leetcode.cn/problems/combination-sum-ii](https://leetcode.cn/problems/combination-sum-ii)

#### ä»£ç å®ç°
```javascript

// è¿™é‡Œå€Ÿç”¨å­é›†2çš„æ€è·¯ï¼Œå†ç»´æŠ¤ä¸€ä¸ªsubNumå³å¯
function combinationSum2(candidates: number[], target: number): number[][] {
  // Think for yourself for 5 minutes...

  const res: number[][] = []

  const track: number[] = []

  let sumNum: number = 0

  const backTrack = (nums: number[], startIndex: number) => {
    if (sumNum === target) {
      res.push([...track])
    }
  	// å½“å·²ç»å¤§äºç›®æ ‡å€¼äº†ï¼Œå°±ç›´æ¥è·³è¿‡
    if (sumNum > target) {
      return
    }

    
    for (let i = startIndex; i < nums.length; i++) {
      // ä»¥ 1 2 2 ä¸ºä¾‹
      // å½“é‡åˆ°ä»¥startIndexä¸º2ï¼Œå¦‚æœåé¢è¿˜æœ‰æ•°(i > startIndex ),åŒæ—¶å½“å‰é¡¹num[i]ä¸å‰ä¸€é¡¹nums[i-1]ç›¸ç­‰
      // é‚£ä¹ˆä¹‹å‰å·²ç»å­˜è¿‡ç›¸åº”çš„å­é›†äº†ï¼Œéœ€è¦è·³å‡ºå¾ªç¯
      if (i > startIndex && nums[i] == nums[i - 1]) continue
      
      track.push(nums[i])
      sumNum += nums[i]
      
      backTrack(nums, i + 1)
      
      track.pop()
      sumNum -= nums[i]
    }
  }

  backTrack(candidates.sort(), 0)

  return res
}
```
#### Setå»é‡çš„æ€è·¯
```javascript

function combinationSum2Set(candidates: number[], target: number): number[][] {
  // Think for yourself for 5 minutes...

  const res: number[][] = []

  const track: number[] = []

  let sumNum: number = 0

  const backTrack = (nums: number[], startIndex: number) => {
    if (sumNum > target) return

    if (sumNum === target) {
      res.push([...track])
      return
    }
    // åŒä¸€å±‚å»é‡
    const usedSet = new Set()

    for (let i = startIndex; i < nums.length; i++) {
      // å¯ä»¥å»æ‰è¿™ä¸€è¡Œå¯¹æ¯”å®é™…çš„æ•ˆæœ
      if (usedSet.has(nums[i])) continue

      usedSet.add(nums[i])
      track.push(nums[i])
      sumNum += nums[i]

      backTrack(nums, i + 1)

      track.pop()
      sumNum -= nums[i]
    }
  }

  backTrack(candidates.sort(), 0)

  return res
}
```
### ğŸ‘‰ç»„åˆé—®é¢˜å½’çº³

1. å¯¹äºé™å®šäº†åªéœ€è¦kä¸ªå…ƒç´ çš„å­é›†ï¼Œéœ€è¦è€ƒè™‘ä¸‹ä¸€å±‚éå†æ˜¯å¦ä¼šè¶…å‡ºå®é™…éœ€è¦ï¼Œå› æ­¤å°†forå¾ªç¯ç»ˆæ­¢æ¡ä»¶è°ƒæ•´ä¸ºi <= n - k + track.length + 1 å³ä¸ºå‰ªæï¼Œé¿å…å¯¹ç»“æœä¸äº§ç”Ÿæ„ä¹‰çš„å¤šä½™é€’å½’ã€‚
2. å¯¹äºå­˜åœ¨é‡å¤å…ƒç´ çš„å¾…é€‰æ•°ç»„(éœ€è¦å…ˆæ’åºæ–¹ä¾¿æ“ä½œ)ï¼Œå¦‚æœéœ€è¦è€ƒè™‘**æ¯ä¸ªæ•°å­—åœ¨æ¯ä¸ªç»„åˆä¸­åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œ**åŒæ ·è¦æƒ³åˆ°é‡‡ç”¨setå»æ ‡è®°åŒä¸€å±‚å…ƒç´ çš„ä½¿ç”¨è®°å½•æƒ…å†µ(æˆ–è€…å½“if (i > startIndex && nums[i] == nums[i - 1])) æ—¶ä¹Ÿè¡¨æ˜å½“å‰å…ƒç´ ä¸å‰ä¸€å…ƒç´ ç›¸åŒï¼Œé‚£ä¹ˆå½“å‰å…ƒç´ çš„å­é›†ä¸€å®šå·²ç»åœ¨å‰ä¸€å…ƒç´ çš„å­é›†éå†è¿‡äº†ï¼‰ï¼Œè¿™æ ·çš„æ€è·¯å»å®Œæˆå‰ªæã€‚
### å…¨æ’åˆ—
> ç»™å®šä¸€ä¸ª**ä¸å«é‡å¤æ•°å­—**çš„æ•°ç»„ nums ï¼Œè¿”å›å…¶ **æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ—** ã€‚ä½ å¯ä»¥ æŒ‰ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆã€‚
> è¾“å…¥ï¼šnums = [1,2,3] è¾“å‡ºï¼š[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
> æ¥æºï¼š[https://leetcode.cn/problems/permutations/](https://leetcode.cn/problems/permutations/)

#### ä»£ç å®ç°
```typescript

function permute(nums: number[]): number[][] {
  // Think for yourself for 5 minutes...
  const res: number[][] = []

  const track: number[] = []

  const used: boolean[] = []

  const backTrack = (nums: number[]) => {
    // æ»¡è¶³æ¡ä»¶æ·»åŠ åˆ°ç»“æœé›†
    if (track.length === nums.length) {
      res.push([...track])
    }

    for (let i = 0; i < nums.length; i++) {
      // å¦‚æœtrackä¸­å·²ç»é€‰æ‹©è¿‡ï¼Œå°±è¦è·³è¿‡
      if (used[i]) continue

      used[i] = true
      track.push(nums[i])
      backTrack(nums)
      track.pop()
      used[i] = false
    }
  }

  backTrack(nums)

  return res
}
```
### ![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1678241155991-9b80a583-8c6c-4f61-810a-9738c35c2385.png#averageHue=%23f3f3f3&clientId=u4ca02514-31db-4&from=paste&height=314&id=u84d0cff1&name=image.png&originHeight=790&originWidth=1510&originalType=binary&ratio=2&rotation=0&showTitle=false&size=261461&status=done&style=none&taskId=u02c2d8ad-38cb-44b8-8388-6210184de15&title=&width=600)
###  å…¨æ’åˆ— II
> ç»™å®šä¸€ä¸ªå¯åŒ…å«é‡å¤æ•°å­—çš„åºåˆ— nums ï¼Œ_**æŒ‰ä»»æ„é¡ºåº**_ è¿”å›æ‰€æœ‰**ä¸é‡å¤çš„å…¨æ’åˆ—**ã€‚
> è¾“å…¥ï¼šnums = [1,1,2] è¾“å‡ºï¼š [[1,1,2],  [1,2,1],  [2,1,1]]
> æ¥æºï¼š[https://leetcode.cn/problems/permutations-ii/](https://leetcode.cn/problems/permutations-ii/)

#### ä»£ç å®ç°
```javascript

function permuteUnique(nums: number[]): number[][] {
  // Think for yourself for 5 minutes...

  const res: number[][] = []

  const track: number[] = []

  const used: boolean[] = []

  const backTrack = (nums: number[]) => {
    if (track.length === nums.length) {
      res.push([...track])
      return
    }

    for (let i = 0; i < nums.length; i++) {
      // é€‰æ‹©è¿‡è¦è·³è¿‡
      if (used[i]) continue
    	// ç›¸é‚»å…ƒç´ ç›¸ç­‰ä¸”å‰ä¸€ä¸ªå…ƒç´ å·²ç”¨è¿‡ä¹Ÿè·³è¿‡
      // !used[i - 1] å’Œ used[i - 1] éƒ½èƒ½è·å–åˆ°ç»“æœï¼Œä½†æ˜¯used[i - 1]ä¼šç»è¿‡å¤šä½™çš„è·¯å¾„,å…·ä½“è¯¦è§£çœ‹labuladong
      if (nums[i] == nums[i - 1] && !used[i - 1]) continue
      
      used[i] = true
      track.push(nums[i])
      
      backTrack(nums)
      
      used[i] = false
      track.pop()
    }
  }

  backTrack(nums.sort())
  
  return res
}
```
#### Setå»é‡çš„æ€è·¯
```javascript

function permuteUniqueSet(nums: number[]): number[][] {
  // Think for yourself for 5 minutes...

  const res: number[][] = []

  const track: number[] = []

  const used: boolean[] = []

  const backTrack = (nums: number[]) => {
    if (track.length == nums.length) {
      res.push([...track])
      return
    }

    const usedSet = new Set()
    for (let i = 0; i < nums.length; i++) {
      if (usedSet.has(nums[i]) || used[i]) continue

      usedSet.add(nums[i])
      used[i] = true
      track.push(nums[i])

      backTrack(nums)
      track.pop()
      used[i] = false
    }
  }

  backTrack(nums.sort())

  return res
}
```
### ğŸ‘‰å…¨æ’åˆ—é—®é¢˜å½’çº³

1. å¯¹äºä¸å«é‡å¤æ•°å­—çš„æ•°ç»„ï¼Œå®ç°å…¨æ’åˆ—éœ€è¦æ˜ç¡®å› ä¸º[1,2]å’Œ[2,1]æ˜¯ä¸¤ç§ä¸åŒçš„å­é›†ï¼Œå› æ­¤æ¯æ¬¡éƒ½éœ€è¦ä»å¤´å¼€å§‹ï¼Œå› æ­¤å®ƒä¸éœ€è¦startIndexï¼Œè€Œusedæ˜¯ç”¨æ¥è®°å½•åœ¨åŒä¸€è·¯å¾„ä¸Šçš„ä½¿ç”¨è®°å½•ï¼Œå› ä¸ºâ€œæ’åˆ—â€å³ä¸å­˜åœ¨é‡å¤å…ƒç´ 
2. å¯¹äº**å¯èƒ½åŒ…å«é‡å¤å…ƒç´ **çš„æ•°ç»„(éœ€è¦å…ˆæ’åºæ–¹ä¾¿æ“ä½œ)ï¼Œéœ€è¦åœ¨usedè®°å½•è·¯å¾„ä¸Šä½¿ç”¨æƒ…å†µçš„åŒæ—¶ï¼Œé™„åŠ å½“å‰é¡¹åœ¨å‰ä¸€é¡¹æ˜¯å¦å·²éå†è¿‡å­é›†çš„æƒ…å†µï¼Œå³åŒä¸€å±‚å…ƒç´ ä¸èƒ½é‡å¤ï¼Œé‡‡ç”¨Setè®°å½•æˆ–nums[i]==nums[i-1]éƒ½å¯ä»¥å®ç°
### å¤åŸIP
> æœ‰æ•ˆ IP åœ°å€ æ­£å¥½ç”±å››ä¸ªæ•´æ•°ï¼ˆæ¯ä¸ªæ•´æ•°ä½äº 0 åˆ° 255 ä¹‹é—´ç»„æˆï¼Œä¸”ä¸èƒ½å«æœ‰å‰å¯¼ 0ï¼‰ï¼Œæ•´æ•°ä¹‹é—´ç”¨ '.' åˆ†éš”ã€‚
> ä¾‹å¦‚ï¼š"0.1.2.201" å’Œ "192.168.1.1" æ˜¯ æœ‰æ•ˆ IP åœ°å€ï¼Œä½†æ˜¯ "0.011.255.245"ã€"192.168.1.312" å’Œ "192.168@1.1" æ˜¯ æ— æ•ˆ IP åœ°å€ã€‚
> ç»™å®šä¸€ä¸ªåªåŒ…å«æ•°å­—çš„å­—ç¬¦ä¸² s ï¼Œç”¨ä»¥è¡¨ç¤ºä¸€ä¸ª IP åœ°å€ï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„æœ‰æ•ˆ IP åœ°å€ï¼Œè¿™äº›åœ°å€å¯ä»¥é€šè¿‡åœ¨ s ä¸­æ’å…¥Â '.' æ¥å½¢æˆã€‚ä½  ä¸èƒ½Â é‡æ–°æ’åºæˆ–åˆ é™¤ s ä¸­çš„ä»»ä½•æ•°å­—ã€‚ä½ å¯ä»¥æŒ‰ ä»»ä½• é¡ºåºè¿”å›ç­”æ¡ˆã€‚
> è¾“å…¥ï¼šs = "25525511135" è¾“å‡ºï¼š["255.255.11.135","255.255.111.35"]
> æ¥æºï¼š[https://leetcode.cn/problems/restore-ip-addresses](https://leetcode.cn/problems/restore-ip-addresses)

#### ä»£ç å®ç°
```javascript

function restoreIpAddresses(s: string): string[] {
  // Think for yourself for 5 minutes...

  // 1. ä¸èƒ½å¤šäº4ä¸ªæ•´æ•°
  // 2. æ¯ä¸€ä½åœ¨0-255èŒƒå›´å†…

  const res: string[] = []

  const isValid = (strArr: string[]) => {
    return (
      strArr.length == 4 &&
      strArr.join('') == s &&
      strArr.every(
        (item) => /^(0|[1-9][0-9]*)$/.test(item) && Number(item) >= 0 && Number(item) <= 255
      )
    )
  }

  const track: string[] = []

  const backTrack = (str: string, startIndex: number) => {
    // console.log('track', track)
    if (track.length > 4) return
    if (isValid(track)) {
      res.push(track.join('.'))
      return
    }

    for (let i = startIndex; i < str.length; i++) {
      const nextStr = str.slice(startIndex, i + 1)
      // å‰ªæ
      // å¦‚æœå½“å‰æ•°å­—é•¿åº¦å¤§äº3 ä¸”å¤§äº255 ä¸æ»¡è¶³æ¡ä»¶
      if (nextStr.length > 3 && +nextStr > 255) continue

      // å¦‚æœå½“å‰é•¿åº¦å¤§äº1 ä¸”ç¬¬ä¸€ä½æ˜¯0 ä¸æ»¡è¶³æ¡ä»¶
      if (nextStr.length > 1 && nextStr[0] === '0') continue

      track.push(nextStr)
      backTrack(str, i + 1)
      track.pop()
    }
  }

  backTrack(s, 0)
  return res
}

```
#### ä¸éœ€è¦éªŒè¯æ•°å­—æœ‰æ•ˆæ€§çš„ç‰ˆæœ¬
```javascript
function restoreIpAddresses(s: string): string[] {
  const res: string[] = []

  const track: string[] = []

  const backTrack = (str: string, startIndex: number) => {
    if (track.length > 4) return
    // å¦‚æœæ˜¯æœ‰æ•ˆçš„ä¸€å®šå¾—æ‰¾åˆ°æœ€åçš„å¶å­èŠ‚ç‚¹ä¸Šå»ï¼Œæ‰€ä»¥startIndex == str.lengthä¸€å®šä¸ä¼šå‡ºç°æ— æ•ˆæ•°å­—
    if (track.length === 4 && startIndex == str.length) {
      res.push(track.join('.'))
      return
    }

    for (let i = startIndex; i < str.length; i++) {
      const nextStr = str.slice(startIndex, i + 1)
      if (nextStr.length > 3 && +nextStr > 255) continue
      if (nextStr.length > 1 && nextStr[0] === '0') continue
      track.push(nextStr)
      backTrack(str, i + 1)
      track.pop()
    }
  }

  backTrack(s, 0)
  return res
}
```
### é€’å¢å­åºåˆ—
> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾å‡ºå¹¶è¿”å›æ‰€æœ‰è¯¥æ•°ç»„ä¸­ä¸åŒçš„é€’å¢å­åºåˆ—ï¼Œé€’å¢å­åºåˆ—ä¸­ è‡³å°‘æœ‰ä¸¤ä¸ªå…ƒç´  ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆã€‚
> æ•°ç»„ä¸­å¯èƒ½å«æœ‰é‡å¤å…ƒç´ ï¼Œå¦‚å‡ºç°ä¸¤ä¸ªæ•´æ•°ç›¸ç­‰ï¼Œä¹Ÿå¯ä»¥è§†ä½œé€’å¢åºåˆ—çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µã€‚
> è¾“å…¥ï¼šnums = [4,6,7,7]
> è¾“å‡ºï¼š[[4,6],[4,6,7],[4,6,7,7],[4,7],[4,7,7],[6,7],[6,7,7],[7,7]]
> æ¥æºï¼š[https://leetcode.cn/problems/non-decreasing-subsequences](https://leetcode.cn/problems/non-decreasing-subsequences)

#### ä»£ç å®ç°
```javascript
function findSubsequences(nums: number[]): number[][] {
  // Think for yourself for 5 minutes...

  // 1. è‡³å°‘ä¸¤ä¸ªå…ƒç´ 
  // 2. å¦‚æœç›¸é‚»ä¸¤æ•°ç›¸ç­‰ä¹Ÿå¯ä»¥

  const res: number[][] = []

  const track: number[] = []

  const backTrack = (nums: number[], startIndex: number) => {
    if (track.length >= 2) {
      res.push([...track])
    }
    // å£°æ˜åœ¨è¿™é‡Œè¡¨ç¤ºä»…åœ¨å½“å‰åŒä¸€å±‚é‡Œåˆ¤æ–­æ˜¯å¦å·²ä½¿ç”¨è¿‡
    const usedSet: Set<number> = new Set()
    for (let i = startIndex; i < nums.length; i++) {
      const curNum = nums[i]
      // å¦‚æœå½“å‰æ•°å°äºä¹‹å‰è·¯å¾„æœ€åä¸€ä¸ªæ•°è¯´æ˜ä¸æ»¡è¶³é€’å¢ï¼Œä¸”å½“åŒä¸€å±‚å·²ä½¿ç”¨è¿‡å°±ä¸èƒ½å†é‡å¤ä½¿ç”¨äº†
      if (curNum < track[track.length - 1] || usedSet.has(nums[i])) continue

      usedSet.add(nums[i])
      track.push(nums[i])

      backTrack(nums, i + 1)
      track.pop()
    }
  }

  backTrack(nums, 0)

  return res
}
// æ³¨ï¼šsetå¯ä»¥æ”¹ç”¨ä¸ºhashå­˜å‚¨
```
### ![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1678199290550-325f830f-ff70-4619-a527-d850271bb6cf.png#averageHue=%23f5f4f4&clientId=uadb1ed52-62b0-4&from=paste&height=313&id=u3b44ac46&name=image.png&originHeight=778&originWidth=1492&originalType=binary&ratio=2&rotation=0&showTitle=false&size=280121&status=done&style=none&taskId=ub58bce30-5082-4485-96f1-4bfedc7554e&title=&width=600)


### ç”µè¯å·ç çš„å­—æ¯ç»„åˆ
> ç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­—Â 2-9Â çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‰€æœ‰å®ƒèƒ½è¡¨ç¤ºçš„å­—æ¯ç»„åˆã€‚ç­”æ¡ˆå¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ã€‚
> ç»™å‡ºæ•°å­—åˆ°å­—æ¯çš„æ˜ å°„å¦‚ä¸‹ï¼ˆä¸ç”µè¯æŒ‰é”®ç›¸åŒï¼‰ã€‚æ³¨æ„ 1 ä¸å¯¹åº”ä»»ä½•å­—æ¯ã€‚
> ![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1678024704618-bf699aa3-379e-49f2-8c14-a33300c7485a.png#averageHue=%2360615d&clientId=u45a70db1-cf6a-4&from=paste&height=81&id=mhZ4Y&name=image.png&originHeight=162&originWidth=200&originalType=binary&ratio=2&rotation=0&showTitle=false&size=52943&status=done&style=none&taskId=u4207e51d-db26-4512-aa1e-4aa968eb305&title=&width=100)
> è¾“å…¥ï¼šdigits = "23" è¾“å‡ºï¼š["ad","ae","af","bd","be","bf","cd","ce","cf"]
> æ¥æºï¼š[https://leetcode.cn/problems/letter-combinations-of-a-phone-number/](https://leetcode.cn/problems/letter-combinations-of-a-phone-number/)

#### ä»£ç å®ç°
```javascript

function letterCombinations(digits: string): string[] {
  // Think for yourself for 5 minutes...

  const track: string[] = []

  const res: string[] = []

  const arr = [
    '', // 0
    '', // 1
    'abc', // 2
    'def', // 3
    'ghi', // 4
    'jkl', // 5
    'mno', // 6
    'pqrs', // 7
    'tuv', // 8
    'wxyz', // 9
  ]
  const k = digits.length
  // ç©ºå­—ç¬¦ä¸²
  if (!digits) return []

  // ä¸€ä¸ªæ•°å­—çš„æƒ…å†µ
  if (k === 1) return arr[digits].split('')

  const backTrack = (str: string, startIndex: number) => {
    if (track.length == k) {
      res.push(track.join(''))
      return
    }

    // å½“å‰ä½ç½®çš„å­—æ¯
    const letter = arr[str[startIndex]]

    // for (let i = 0; i < letter.length; i++) {
    //   track.push(letter[i])
    //   backTrack(str, startIndex + 1)
    //   track.pop()
    // }
    for (const v of letter) {
        track.push(v)
        backTrack(str, startIndex + 1)
        track.pop()
    }
  }

  backTrack(digits, 0)
  return res
}

```

### Nçš‡å
> æ¯ä¸€ç§è§£æ³•åŒ…å«ä¸€ä¸ªä¸åŒçš„ **n çš‡åé—®é¢˜** çš„æ£‹å­æ”¾ç½®æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆä¸­ 'Q' å’Œ '.' åˆ†åˆ«ä»£è¡¨äº†çš‡åå’Œç©ºä½ã€‚
> ![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1678202069066-f029e184-f130-415f-8be0-44085ef6f420.png#averageHue=%23161816&clientId=uadb1ed52-62b0-4&from=paste&height=374&id=uea84828c&name=image.png&originHeight=748&originWidth=1386&originalType=binary&ratio=2&rotation=0&showTitle=false&size=263770&status=done&style=none&taskId=ubba18cc8-529a-4c5f-9570-ec25782509a&title=&width=693)
> æ¥æºï¼š[https://leetcode.cn/problems/n-queens/](https://leetcode.cn/problems/n-queens/)

#### ä»£ç å®ç°
```typescript

function solveNQueens(n: number): string[][] {
  // Think for yourself for 5 minutes...

  const res: string[][] = []

  const solution: string[][] = new Array(n).fill([]).map(() => new Array(n).fill('.'))

  const isSafe = (row: number, col: number, solution: string[][], n: number) => {
    // æ£€æŸ¥åˆ—
    for (let i = 0; i < row; ++i) {
      if (solution[i][col] == 'Q') {
        return false
      }
    }

    // æ£€æŸ¥45åº¦å¯¹è§’çº¿ï¼Œå·¦ä¸Šè§’
    for (let i = row - 1, j = col - 1; i >= 0 && j >= 0; i--, j--) {
      if (solution[i][j] == 'Q') {
        return false
      }
    }

    // æ£€æŸ¥135åº¦å¯¹è§’çº¿ï¼Œå³ä¸Šè§’
    for (let i = row - 1, j = col + 1; i >= 0 && j <= n - 1; i--, j++) {
      if (solution[i][j] == 'Q') {
        return false
      }
    }
    return true
  }

  const formatSolution = (solution: string[][]) => {
    return [...solution].map((el) => el.join(''))
  }

  const backTrack = (row: number) => {
    if (row === n) {
      // console.log('solution', formatSolution(solution))
      res.push([...formatSolution(solution)])
      return
    }

    for (let col = 0; col < n; col++) {
      if (isSafe(row, col, solution, n)) {
        solution[row][col] = 'Q'
        backTrack(row + 1)
        solution[row][col] = '.'
      }
    }
  }
  // å…ˆä»ç¬¬ä¸€è¡Œå¼€å§‹
  backTrack(0)

  return res
}
```
### è¿·å®«è€é¼ 
![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1677330045008-98f03ead-37cc-40f2-83a1-2bbcc8fdd97e.png#averageHue=%23ececec&clientId=u931b9b52-9b22-4&from=paste&height=182&id=ub5fc120b&name=image.png&originHeight=556&originWidth=1830&originalType=binary&ratio=2&rotation=0&showTitle=false&size=153360&status=done&style=none&taskId=u0adc9ba3-b50a-4569-bf99-6362ca703d1&title=&width=600)
#### ä»£ç å®ç°
```javascript
/*
 * Description:  è¿·å®«è€é¼ 
 * 1 æ˜¯å¯ä»¥èµ°çš„ç‚¹ï¼Œ0æ˜¯è¢«é˜»æŒ¡çš„ç‚¹
 * [
 *  [1,0,0,0],
 *  [1,1,1,1],
 *  [0,0,1,0],
 *  [0,1,1,1]
 * ]
 */

const isSafe = (maze: number[][], x: number, y: number) => {
  const n = maze.length
  // è¾¹ç•Œ x>0 && y>0 && x<n && y<n
  if (x >= 0 && y >= 0 && x < n && y < n && maze[x][y] !== 0) {
    return true
  }
  return false
}

// å›æº¯ï¼Œå¤„ç†ç»“æœ
const findWay = (maze: number[][], x: number, y: number, solution: number[][]):boolean => {
  const n = maze.length
  // åˆ°è¾¾ç»ˆç‚¹äº†
  if (x === n - 1 && y === n - 1) {
    solution[x][y] = 1
    return true
  }

  if (isSafe(maze, x, y) === true) {
    solution[x][y] = 1

    // å‘å³ç§»åŠ¨
    if (findWay(maze, x + 1, y, solution) === true) {
      return true
    }

    // å‘ä¸‹ç§»åŠ¨
    if (findWay(maze, x, y + 1, solution) === true) {
      return true
    }
    // ä¸Šé¢å¦‚æœå‘å³æˆ–å‘ä¸‹ç§»åŠ¨æˆåŠŸå°±ä¸ä¼šèµ°åˆ°è¿™é‡Œ
    solution[x][y] = 0
    return false
  }
  return false
}

const ratInAMaze = (maze: number[][]) => {
  // å…ˆåˆå§‹åŒ–è§£å†³æ–¹æ¡ˆ
  const solution: number[][] = []
  for (let i = 0; i < maze.length; i++) {
    solution[i] = []
    for (let j = 0; j < maze.length; j++) {
      solution[i][j] = 0
    }
  }
  if (findWay(maze, 0, 0, solution) === true) {
    return solution
  }

  return 'empty'
}
// result
// [1, 0, 0, 0],
// [1, 1, 1, 0],
// [0, 0, 1, 0],
// [0, 0, 1, 1],

```
å®ç°è¿‡ç¨‹
step1: åˆå§‹åŒ–è§£å†³æ–¹æ¡ˆçŸ©é˜µ
step2: ä»0,0ç‚¹å‡ºå‘å¼€å§‹å°è¯•å‘å³å’Œå‘ä¸‹ç§»åŠ¨ï¼Œå°†å¯ä»¥ç§»åŠ¨çš„ç‚¹æ ‡è®°ä¸º1ï¼Œä¸èƒ½ç§»åŠ¨çš„ç‚¹æ ‡è®°ä¸º0ï¼ŒåŒæ—¶è¦ç¡®å®šè¾¹ç•Œï¼Œå½“å‰ç‚¹æ˜¯å¦åœ¨ä¸Šä¸‹å·¦å³è¾¹ç•Œå›´å†…
findWayç”±é€’å½’å®ç°ï¼Œé€’å½’ç»ˆæ­¢æ¡ä»¶æ˜¯x,yåˆ°è¾¾çŸ©é˜µçš„å³ä¸‹è§’
### æ•°ç‹¬è§£é¢˜
> ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œé€šè¿‡å¡«å……ç©ºæ ¼æ¥è§£å†³æ•°ç‹¬é—®é¢˜ã€‚
> æ•°ç‹¬çš„è§£æ³•éœ€ éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š
> æ•°å­—Â 1-9Â åœ¨æ¯ä¸€è¡Œåªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
> æ•°å­—Â 1-9Â åœ¨æ¯ä¸€åˆ—åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
> æ•°å­—Â 1-9Â åœ¨æ¯ä¸€ä¸ªä»¥ç²—å®çº¿åˆ†éš”çš„Â 3x3Â å®«å†…åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚ï¼ˆè¯·å‚è€ƒç¤ºä¾‹å›¾ï¼‰
> æ•°ç‹¬éƒ¨åˆ†ç©ºæ ¼å†…å·²å¡«å…¥äº†æ•°å­—ï¼Œç©ºç™½æ ¼ç”¨Â '.'Â è¡¨ç¤ºã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/sudoku-solver](https://leetcode.cn/problems/sudoku-solver)
> ![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1677331650755-8de23299-7fe0-4a4c-9456-b681b0d25ca0.png#averageHue=%23e1e1e0&clientId=u931b9b52-9b22-4&from=paste&height=291&id=ub7b627cd&name=image.png&originHeight=582&originWidth=580&originalType=binary&ratio=2&rotation=0&showTitle=false&size=117930&status=done&style=none&taskId=u8aef7507-4b49-4033-8073-6985efa782a&title=&width=290)

#### ä»£ç å®ç°
```javascript
// ç”¨ä¾‹
const board = [
      ['5', '3', '.', '.', '7', '.', '.', '.', '.'],
      ['6', '.', '.', '1', '9', '5', '.', '.', '.'],
      ['.', '9', '8', '.', '.', '.', '.', '6', '.'],
      ['8', '.', '.', '.', '6', '.', '.', '.', '3'],
      ['4', '.', '.', '8', '.', '3', '.', '.', '1'],
      ['7', '.', '.', '.', '2', '.', '.', '.', '6'],
      ['.', '6', '.', '.', '.', '.', '2', '8', '.'],
      ['.', '.', '.', '4', '1', '9', '.', '.', '5'],
      ['.', '.', '.', '.', '8', '.', '.', '7', '9'],
]


const UNASSIGNED = '.' // è¿˜æ²¡è¢«æ”¾çš„

const isSafe = (matrix: string[][], row: number, col: number, num: string) => {
  for (let row = 0; row < matrix.length; row++) {
    // åˆ—é‡Œæ˜¯å¦æœ‰é‡å¤
    if (matrix[row][col] === num) {
      return false
    }
  }
  for (let col = 0; col < matrix.length; col++) {
    // è¡Œé‡Œæ˜¯å¦æœ‰é‡å¤
    if (matrix[row][col] === num) {
      return false
    }
  }

  let startRow = row - (row % 3)
  let startCol = col - (col % 3)
  for (let i = 0; i < 3; i++) {
    // ä»¥å½“å‰ä½ç½®ä¸ºåŸºå‡†ï¼Œåˆ¤æ–­9æ–¹æ ¼é‡Œæ˜¯å¦æœ‰é‡å¤
    for (let j = 0; j < 3; j++) {
      if (matrix[i + startRow][j + startCol] === num) {
        return false
      }
    }
  }

  return true
}

const solveSudoku = (board: string[][]) => {
  let row = 0
  let col = 0
  let checkBlackSpace = false
  for (row = 0; row < board.length; row++) {
    for (col = 0; col < board[row].length; col++) {
      // å¦‚æœæœ‰ç©ºç™½éœ€è¦è·³å‡º
      if (board[row][col] === UNASSIGNED) {
        checkBlackSpace = true
        break
      }
    }
    if (checkBlackSpace === true) {
      break
    }
  }
  // è¯´æ˜æ²¡æœ‰ç©ºç™½ï¼Œå·²ç»è¢«è§£äº†
  if (checkBlackSpace === false) return board

  for (let num = 1; num <= 9; num++) {
    if (isSafe(board, row, col, String(num))) {
      board[row][col] = String(num)
      if (solveSudoku(board)) {
        return true
      }
      board[row][col] = UNASSIGNED
    }
  }

  return false
}

const sudokuSolver = (board: string[][]) => {
  if (solveSudoku(board)) {
    return board
  }
  return 'æ— è§£'
}
```

### æ‹¬å·ç”Ÿæˆ
> æ•°å­— n ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸” **æœ‰æ•ˆçš„ **æ‹¬å·ç»„åˆã€‚
> è¾“å…¥ï¼šn = 3 è¾“å‡ºï¼š["((()))","(()())","(())()","()(())","()()()"]
> æ¥æºï¼š[https://leetcode.cn/problems/generate-parentheses/](https://leetcode.cn/problems/generate-parentheses/)

#### ä»£ç å®ç°
```typescript
function generateParenthesis(n: number): string[] {
  // Think for yourself for 5 minutes...

  // q1. æ‰€æœ‰çš„æœ‰æ•ˆçš„æ‹¬å·
  // q2. å¦‚æœå·¦æ‹¬å·ä¸å¤§äºnï¼Œæˆ‘ä»¬å¯ä»¥æ”¾ä¸€ä¸ªå·¦æ‹¬å·ï¼Œå¦‚æœå³æ‹¬å·æ•°é‡å°äºå·¦æ‹¬å·æ•°é‡ï¼Œå¯ä»¥æ”¾ä¸€ä¸ªå³æ‹¬å·

  if (n == 1) return ['()']

  const res: string[] = []

  const track: string[] = []

  const backTrack = (open: number, close: number) => {
    // console.log('track', track)
    if (track.length == n * 2) {
      res.push([...track].join(''))
    }

    if (open < n) {
      track.push('(')
      backTrack(open + 1, close)
      track.pop()
    }

    if (close < open) {
      track.push(')')
      backTrack(open, close + 1)
      track.pop()
    }
  }

  backTrack(0, 0)

  return res
}
```

### ç›®æ ‡å’Œ
> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° target ã€‚
> å‘æ•°ç»„ä¸­çš„æ¯ä¸ªæ•´æ•°å‰æ·»åŠ Â '+' æˆ– '-' ï¼Œç„¶åä¸²è”èµ·æ‰€æœ‰æ•´æ•°ï¼Œå¯ä»¥æ„é€ ä¸€ä¸ª è¡¨è¾¾å¼ ï¼š
> ä¾‹å¦‚ï¼Œnums = [2, 1] ï¼Œå¯ä»¥åœ¨ 2 ä¹‹å‰æ·»åŠ  '+' ï¼Œåœ¨ 1 ä¹‹å‰æ·»åŠ  '-' ï¼Œç„¶åä¸²è”èµ·æ¥å¾—åˆ°è¡¨è¾¾å¼ "+2-1" ã€‚
> è¿”å›å¯ä»¥é€šè¿‡ä¸Šè¿°æ–¹æ³•æ„é€ çš„ã€è¿ç®—ç»“æœç­‰äº target çš„ä¸åŒ è¡¨è¾¾å¼ çš„æ•°ç›®ã€‚
> è¾“å…¥ï¼šnums = [1,1,1,1,1], target = 3  è¾“å‡ºï¼š5
> è§£é‡Šï¼šä¸€å…±æœ‰ 5 ç§æ–¹æ³•è®©æœ€ç»ˆç›®æ ‡å’Œä¸º 3 ã€‚
> -1 + 1 + 1 + 1 + 1 = 3
> +1 - 1 + 1 + 1 + 1 = 3
> +1 + 1 - 1 + 1 + 1 = 3
> +1 + 1 + 1 - 1 + 1 = 3
> +1 + 1 + 1 + 1 - 1 = 3
> æ¥æºï¼š[https://leetcode.cn/problems/target-sum](https://leetcode.cn/problems/target-sum)

#### ä»£ç å®ç°
```javascript
// æ­¤ç‰ˆæœ¬è¶…å‡ºé™åˆ¶
function findTargetSumWays1(nums: number[], target: number): number {
  // Think for yourself for 5 minutes...

  // q1. ç¬¬ä¸€é¡¹å…ƒç´ çš„å‰é¢å¯ä»¥åŠ ç¬¦å·
  // q2. trackçš„é•¿åº¦==nums.length çš„æ—¶å€™è¡¨ç¤ºæ‰€æœ‰æ•°å’Œèƒ½åŠ ç¬¦å·çš„ä½ç½®éƒ½æ»¡è¶³äº†

  let count = 0

  const track: string[] = []

  const symbol: string[] = ['-', '+']

  const formatSolute = (track: string[]): number => {
    let res: number = 0
    for (let i = 0; i < track.length; i++) {
      res += Number(track[i])
    }
    return res
  }

  const backTrack = (nums: number[], startIndex: number) => {
    // console.log('track', track)

    if (track.length === nums.length) {
      // console.log('track', track)
      const res = formatSolute(track)
      if (res == target) {
        count++
      }
    }

    for (let i = startIndex; i < nums.length; i++) {
      for (let j = 0; j < symbol.length; j++) {
        const cur = `${symbol[j]}${nums[i]}`
        track.push(cur)
        backTrack(nums, i + 1)
        track.pop()
      }
    }
  }

  backTrack(nums, 0)

  return count
}

function findTargetSumWays(nums: number[], target: number): number {
  let count = 0

  const backTrack = (nums: number[], index: number, sum: number) => {
    if (index === nums.length) {
      if (sum === target) {
        count++
      }
    } else {
      backTrack(nums, index + 1, sum + nums[index])
      backTrack(nums, index + 1, sum - nums[index])
    }
  }

  backTrack(nums, 0, 0)

  return count
}

```
## ğŸ‘‰æ€»ç»“å½’çº³
å½“é—®é¢˜çš„ç‰¹å¾å¯ä»¥é¢†ä¼šåˆ°â€œä»nä¸ªåºåˆ—ä¸­æ‰¾å‡ºkä¸ªå­åºåˆ—â€æˆ–â€œç”±nä¸ªåºåˆ—ç”Ÿæˆmä¸ªåºåˆ—â€ç±»ä¼¼çš„å«ä¹‰æ—¶ï¼Œè€ƒè™‘é‡‡ç”¨å›æº¯ã€‚
### æ¢³ç†
è„‘å­é‡Œè¦ç”Ÿæˆä¸€æ£µæ ‘ï¼Œå°†å…ƒç´ ç½—åˆ—å¼€ï¼Œé¡ºç€å•ä¸ªå…ƒç´ é“ºå¼€Nå‰æ ‘ï¼Œç¡®å®šè·¯å¾„ï¼Œâ€œä¸‹ä¸€æ¬¡â€æ˜¯é‡æ–°å¼€å§‹ï¼Œå¼€å§‹è¦ä»¥å½“å‰ç‚¹ä¸ºåŸºå‡†ç»§ç»­ï¼Œå› æ­¤éœ€è¦è€ƒè™‘ä½¿ç”¨startIndexçš„æƒ…å†µã€‚

å¯¹äºå¦‚ä½•å‰ªæï¼Œå­˜åœ¨ä¸¤ç§æƒ…å†µï¼Œå³æ¨ªå‘å‰ªæå’Œçºµå‘ç®€ç›´ï¼Œåœ¨åŒä¸€å±‚å‰ªæï¼Œéœ€è¦åœ¨forå¾ªç¯å¤–å±‚è®°å½•usedï¼Œæˆ–è€…åœ¨åŒä¸€è·¯å¾„å‰ªæï¼Œéœ€è¦åœ¨æœ€å¤–å±‚è®°å½•used(æ¯”è¾ƒæ¸…æ™°)ã€‚

å› ä¸ºå›æº¯å’Œé€’å½’æ˜¯ç›¸è¾…ç›¸æˆçš„ï¼Œå› æ­¤å¿…é¡»è€ƒè™‘é€’å½’çš„ç»ˆæ­¢æ¡ä»¶ï¼Œæ»¡è¶³ä»€ä¹ˆæ¡ä»¶å³å¯å°†è·¯å¾„pushåˆ°ç»“æœã€‚

è¯¥ç±»é—®é¢˜é€šå¸¸ä¼šå¤šåŠ ä¸€ä¸ªé™å®šæ¡ä»¶ä»¥åŠ å¤§é¢˜ç›®éš¾åº¦ï¼Œä¾‹å¦‚ç»„åˆæ±‚å’Œã€ç”µè¯å·ç å­—æ¯ç»„åˆã€å¤åŸIPï¼Œä½†è¿˜æ˜¯ä¿æŒå›æº¯çš„æ•´ä½“æ¡†æ¶ä¸å˜ï¼Œå°†é™„åŠ æ¡ä»¶åœ¨pushç»“æœçš„æ—¶å€™åŒæ—¶åˆ¤æ–­é™åˆ¶å³å¯ã€‚

åœ¨Nçš‡åã€è¿·å®«è€é¼ ã€æ•°ç‹¬è§£é¢˜çš„é—®é¢˜ä¸­ï¼Œéƒ½æ¶‰åŠåˆ°äº†äºŒç»´çŸ©é˜µï¼Œè·¯å¾„å³ä»[0,0]ç‚¹å¼€å§‹åˆ°[n-1,n-1]ç»“æŸï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­æ›´åŠ å¤æ‚çš„æ¡ä»¶æ˜¯ç¡®å®šè·¯å¾„è¾¹ç•Œï¼ŒåŒæ—¶è€ƒè™‘ç»è¿‡ä½ç½®æ˜¯å¦æ»¡è¶³é¢˜è§£æ¡ä»¶ï¼Œä¸€èˆ¬æ“ä½œæ˜¯ä¸€å±‚forå¾ªç¯ï¼Œå³ä¸€è¡Œä¸€è¡Œçš„æ‰§è¡Œæ¢è·¯å’Œå›æº¯ï¼Œå°†ç»“æœå­˜å…¥solutionçŸ©é˜µï¼Œæœ€ç»ˆæ ¹æ®solutionæ±‚å¾—ç¬¦åˆé¢˜è§£çš„ç»“æœã€‚

### è§£é¢˜æ­¥éª¤

1. å®šä¹‰çŠ¶æ€ï¼šå®šä¹‰é—®é¢˜çš„çŠ¶æ€è¡¨ç¤ºæ–¹æ³•ã€‚çŠ¶æ€è¡¨ç¤ºéœ€è¦æ»¡è¶³å¯è¡Œã€å¯ç”¨ã€å”¯ä¸€çš„è¦æ±‚ã€‚
2. çŠ¶æ€è½¬ç§»ï¼šæ ¹æ®é—®é¢˜çš„å®šä¹‰ï¼Œåˆ†æé—®é¢˜çš„çŠ¶æ€è½¬ç§»è§„å¾‹ï¼Œå³æ¯ä¸ªçŠ¶æ€ä¸‹ä¸€æ­¥å¯ä»¥è½¬ç§»åˆ°å“ªäº›çŠ¶æ€ï¼Œä»¥åŠè½¬ç§»æ‰€éœ€çš„æ“ä½œã€‚
3. ç¡®å®šè¾¹ç•Œï¼šç¡®å®šå›æº¯ç®—æ³•åº”è¯¥ç»ˆæ­¢çš„è¾¹ç•Œæ¡ä»¶ï¼Œå³æœç´¢è¿‡ç¨‹åº”è¯¥ç»ˆæ­¢çš„æ¡ä»¶ã€‚è¿™å¾€å¾€ä¾èµ–äºé—®é¢˜çš„å®šä¹‰ã€‚
4. å®ç°å›æº¯ç®—æ³•ï¼šåœ¨ä»£ç ä¸­å®ç°å›æº¯ç®—æ³•ï¼ŒåŒ…æ‹¬è®¾ç½®çŠ¶æ€ã€çŠ¶æ€è½¬ç§»ã€å›æº¯ç­‰ä¸»è¦æ­¥éª¤ã€‚
5. å‰ªæï¼šå®é™…åº”ç”¨æ—¶ï¼Œå¯ä»¥å¯¹å›æº¯ç®—æ³•è¿›è¡Œå‰ªæä¼˜åŒ–ï¼Œä»¥æé«˜ç®—æ³•çš„æ•ˆç‡ã€‚å‰ªæçš„æ–¹å¼åŒ…æ‹¬å¯è¡Œæ€§å‰ªæã€å¯çº¦æŸæ€§å‰ªæã€æœ€ä¼˜æ€§å‰ªæç­‰ã€‚

åœ¨å®é™…åº”ç”¨å›æº¯ç®—æ³•æ—¶ï¼Œè¿˜éœ€è¦æ³¨æ„ä»¥ä¸‹é—®é¢˜ï¼š

1. åœ¨çŠ¶æ€è½¬ç§»æ—¶ï¼Œå¯èƒ½ä¼šæ¶‰åŠåˆ°å¤šä¸ªé€‰æ‹©ï¼Œå¿…é¡»æŒ‰ç…§æŸç§è§„åˆ™ä¾æ¬¡è¿›è¡Œé€‰æ‹©ï¼Œè€Œä¸èƒ½éšæ„å˜æ›´é€‰æ‹©é¡ºåºã€‚
2. å›æº¯ç®—æ³•å¯èƒ½ä¼šç”Ÿæˆå¤§é‡çš„ä¸­é—´çŠ¶æ€ï¼Œå¿…é¡»è€ƒè™‘å¦‚ä½•æœ‰æ•ˆçš„å­˜å‚¨å’Œæ¢å¤çŠ¶æ€ï¼Œä»¥é¿å…å†…å­˜å ç”¨å’Œæ—¶é—´æµªè´¹ç­‰é—®é¢˜ã€‚
3. å›æº¯ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦é€šå¸¸éå¸¸é«˜ï¼Œå¿…é¡»è€ƒè™‘å¦‚ä½•è¿›è¡Œå‰ªæä»¥æé«˜æ•ˆç‡ã€‚
## èµ„æ–™
carl å›æº¯ç®—æ³•ç®—æ³•é¢˜è§£
labuladong
labuladong å›æº¯ç®—æ³•é¢˜è§£
