# ç®—æ³•:å­—ç¬¦ä¸² 
## ä¾‹é¢˜
### åè½¬å­—ç¬¦ä¸²-ç®€å•
> ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä½œç”¨æ˜¯å°†è¾“å…¥çš„å­—ç¬¦ä¸²åè½¬è¿‡æ¥ã€‚è¾“å…¥å­—ç¬¦ä¸²ä»¥å­—ç¬¦æ•°ç»„ s çš„å½¢å¼ç»™å‡ºã€‚
> ä¸è¦ç»™å¦å¤–çš„æ•°ç»„åˆ†é…é¢å¤–çš„ç©ºé—´ï¼Œä½ å¿…é¡»**åŸåœ°ä¿®æ”¹**è¾“å…¥æ•°ç»„ã€ä½¿ç”¨ O(1) çš„é¢å¤–ç©ºé—´è§£å†³è¿™ä¸€é—®é¢˜ã€‚
> è¾“å…¥ï¼šs = ["h","e","l","l","o"] è¾“å‡ºï¼š["o","l","l","e","h"]
> æ¥æºï¼š[https://leetcode.cn/problems/reverse-string/](https://leetcode.cn/problems/reverse-string/)

#### ä»£ç å®ç°
```javascript
function reverseString(s: string[]): string[] {
  let left = 0
  let right = s.length - 1
  while (left < right) {
    // ;[s[left], s[right]] = [s[right], s[left]]
    let tmp = s[left]
    s[left] = s[right]
    s[right] = tmp
    left++
    right--
  }

  return s
}
```
åˆ©ç”¨åŒæŒ‡é’ˆï¼Œä»ä¸¤ç«¯å¾€ä¸­é—´è°ƒæ¢ï¼Œé€€å‡ºæ¡ä»¶æ˜¯left==right
### åè½¬å­—ç¬¦ä¸² II-ä¸­ç­‰
> ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªæ•´æ•° kï¼Œä»å­—ç¬¦ä¸²å¼€å¤´ç®—èµ·ï¼Œæ¯**è®¡æ•°è‡³ 2k **ä¸ªå­—ç¬¦ï¼Œå°±åè½¬è¿™ 2k å­—ç¬¦ä¸­çš„å‰ k ä¸ªå­—ç¬¦ã€‚
> å¦‚æœå‰©ä½™å­—ç¬¦å°‘äº k ä¸ªï¼Œåˆ™å°†**å‰©ä½™å­—ç¬¦å…¨éƒ¨åè½¬ã€‚**
> å¦‚æœå‰©ä½™å­—ç¬¦å°äº 2k ä½†å¤§äºæˆ–ç­‰äº k ä¸ªï¼Œåˆ™åè½¬å‰ k ä¸ªå­—ç¬¦ï¼Œå…¶ä½™å­—ç¬¦ä¿æŒåŸæ ·ã€‚
> è¾“å…¥ï¼šs = "abcdefg", k = 2 è¾“å‡ºï¼š"bacdfeg"
> æ¥æºï¼š[https://leetcode.cn/problems/reverse-string-ii/](https://leetcode.cn/problems/reverse-string-ii/)

#### ä»£ç å®ç°
```javascript
function reverseStr(s: string, k: number): string {
  let strArr = Array.from(s)

  const reverse = (left, right) => {
    while (left < right) {
      const temp = strArr[left]
      strArr[left] = strArr[right]
      strArr[right] = temp
      left++
      right--
    }
  }

  let n = strArr.length
  // ç‰ˆæœ¬1 åè½¬æ¯ä¸ªä¸‹æ ‡ä»2kçš„å€æ•°å¼€å§‹çš„ï¼Œé•¿åº¦ä¸ºkçš„å­ä¸²ï¼Œè‹¥è¯¥å­ä¸²ä¸è¶³kï¼Œåˆ™åè½¬æ•´ä¸ªå­ä¸²
  // for (let i = 0; i < n; i += 2 * k) {
  //   if (i + k < n) {
  //     console.log('i+k', i + k)
  //     reverse(i, i + k - 1)
  //   } else {
  //     reverse(i, n - 1)
  //   }

  //   // reverse(i, Math.min(i + k, n) - 1)
  // }

  // ç‰ˆæœ¬2
  // for (let i = 0; i < n; i += 2 * k) {
  //   // æ¯éš” 2k ä¸ªå­—ç¬¦çš„å‰ k ä¸ªå­—ç¬¦è¿›è¡Œåè½¬
  //   let l = i - 1,
  //     r = i + k > n ? n : i + k
  //   while (++l < --r) {
  //     ;[strArr[l], strArr[r]] = [strArr[r], strArr[l]]
  //   }
  // }

  // ç‰ˆæœ¬3 æ›´å¥½ç†è§£çš„
  for (let i = 0; i < n; ) {
    //å¦‚æœå‰©ä¸‹çš„é•¿åº¦å¤§äº2å€Kï¼Œè¯´æ˜éœ€è¦åè½¬å‰kä¸ªå­—ç¬¦ï¼ˆåŒ…æ‹¬å½“å‰å­—ç¬¦ï¼‰
    if (n - i >= 2 * k) {
      reverse(i, i + k - 1)
      i += 2 * k
      continue
    }
    // å¦‚æœå‰©ä¸‹çš„å­—ç¬¦å°äºkä¸ªï¼Œåˆ™æŠŠå‰©ä¸‹çš„å…¨éƒ¨åè½¬ï¼ˆåŒ…æ‹¬å½“å‰å­—ç¬¦ï¼‰
    if (n - i < k) {
      reverse(i, n - 1)
      break
    }
    // å¦åˆ™å°±æ˜¯å‰©ä¸‹çš„å­—ç¬¦é•¿åº¦å¤§äºç­‰äºkï¼Œå´å°äº2å€kçš„ï¼Œéœ€è¦åè½¬å‰kä¸ªå­—ç¬¦,å…¶ä½™å­—ç¬¦ä¸å˜
    if (n - i < 2 * k && n - i > k) {
      reverse(i, i + k - 1)
      break
    }
  }
  console.log('strArr', strArr)

  return strArr.join('')
}
```
å®ç°æ€è·¯ï¼Œå°†ä¸¤ä¸ªâ€œå¦‚æœâ€æ¡ä»¶è€ƒè™‘ï¼Œå¦‚æœæ»¡è¶³è¿™ä¸¤é¡¹æ¡ä»¶ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯åˆ°äº†2kçš„ååŠæ®µäº†ï¼Œå¾ªç¯å°±æ²¡å¿…è¦ç»§ç»­äº†ï¼Œå‰©ä½™çš„æƒ…å†µå°±æ˜¯æ»¡è¶³å­ä¸²é•¿åº¦å¤§äº2kï¼Œåˆ™å°†è¿™ä¸ªå­ä¸²çš„èµ·å§‹ä½ç½®åˆ°kåŒºé—´çš„å­å­ä¸²ç¿»è½¬ï¼Œå³å¯æ»¡è¶³æ¡ä»¶
ä¸Šé¢æ›´çŸ­çš„å®ç°æ–¹å¼é‡‡ç”¨â€œæ¨¡æ‹Ÿâ€æ€æƒ³ï¼Œè¿˜éœ€è¦å†ç¢ç£¨ä¸€ä¸‹ï¼ï¼

### æ›¿æ¢ç©ºæ ¼-ç®€å•
> è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠå­—ç¬¦ä¸² s ä¸­çš„æ¯ä¸ªç©ºæ ¼æ›¿æ¢æˆ"%20"ã€‚
> è¾“å…¥ï¼šs = "We are happy." è¾“å‡ºï¼š"We%20are%20happy."
> æ¥æºï¼š[https://leetcode.cn/problems/ti-huan-kong-ge-lcof/](https://leetcode.cn/problems/ti-huan-kong-ge-lcof/)

#### ä»£ç å®ç°
```javascript
function replaceSpace(s: string): string {
  let arr = Array.from(s)
  let emptyCount = 0
  // è®¡ç®—ç©ºæ ¼æ•°
  for (let i = 0; i < arr.length; i++) {
    if (arr[i] == ' ') {
      emptyCount++
    }
  }
  let left = arr.length - 1
  let right = arr.length + emptyCount * 2 - 1 // ç©ºæ ¼æœ¬èº«å°±å äº†ä¸€ä½æ‰€ä»¥åªéœ€è¦æ‰©å……ä¸¤ä½
  while (left >= 0) {
    if (arr[left] == ' ') {
      arr[right--] = '0'
      arr[right--] = '2'
      arr[right--] = '%'
      left--
    } else {
      arr[right--] = arr[left--]
    }
  }

  return arr.join('')
}
```
é‡ç‚¹æ˜¯æ„å»ºå­—ç¬¦ä¸²ç»„æˆçš„æ•°ç»„è¦è®¡ç®—å‡ºæ›¿æ¢ç©ºæ ¼åéœ€è¦çš„é•¿åº¦ï¼Œé‡‡ç”¨å¿«æ…¢æŒ‡é’ˆä»å°¾éƒ¨å¼€å§‹æ›¿æ¢ï¼Œé‡åˆ°ç©ºæ ¼å°±ä¾æ¬¡å¡«å…¥0 2 % å½“æ»¡æŒ‡é’ˆèµ°åˆ°å¤´è¡¨ç¤ºæ›¿æ¢å®Œæ¯•ï¼Œæ²¡é‡åˆ°ç©ºæ ¼çš„æ—¶å€™å¿«æ…¢æŒ‡é’ˆåŒæ­¥åé€€
### ç¿»è½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯
> ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·ä½ åè½¬å­—ç¬¦ä¸²ä¸­ å•è¯ çš„é¡ºåºã€‚
> å•è¯ æ˜¯ç”±éç©ºæ ¼å­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²ã€‚s ä¸­ä½¿ç”¨è‡³å°‘ä¸€ä¸ªç©ºæ ¼å°†å­—ç¬¦ä¸²ä¸­çš„ å•è¯ åˆ†éš”å¼€ã€‚
> è¿”å› å•è¯ é¡ºåºé¢ å€’ä¸” å•è¯ ä¹‹é—´ç”¨å•ä¸ªç©ºæ ¼è¿æ¥çš„ç»“æœå­—ç¬¦ä¸²ã€‚
> æ³¨æ„ï¼š**è¾“å…¥å­—ç¬¦ä¸² sä¸­å¯èƒ½ä¼šå­˜åœ¨å‰å¯¼ç©ºæ ¼ã€å°¾éšç©ºæ ¼æˆ–è€…å•è¯é—´çš„å¤šä¸ªç©ºæ ¼ã€‚è¿”å›çš„ç»“æœå­—ç¬¦ä¸²ä¸­ï¼Œå•è¯é—´åº”å½“ä»…ç”¨å•ä¸ªç©ºæ ¼åˆ†éš”ï¼Œä¸”ä¸åŒ…å«ä»»ä½•é¢å¤–çš„ç©ºæ ¼ã€‚**
> è¾“å…¥ï¼šs = "the sky is blue" è¾“å‡ºï¼š"blue is sky the"
> æ¥æºï¼š[https://leetcode.cn/problems/reverse-words-in-a-string/](https://leetcode.cn/problems/reverse-words-in-a-string/)

PS: [557ï¼šåè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯ III](https://leetcode.cn/problems/reverse-words-in-a-string-iii/)
#### ä»£ç å®ç°-ç®€å•
```javascript

function reverseWords(s: string): string {
  // åè½¬æŒ‡å®šåŒºé—´çš„å­—ç¬¦
  const reverse = (start: number, end: number) => {
    while (start < end) {
      ;[strArr[start], strArr[end]] = [strArr[end], strArr[start]]
      end--
      start++
    }
  }

  let strArr = s.split('')
  // console.log('strArr', strArr)
  // 1.å»é™¤å¤šä½™ç©ºæ ¼,ä¸å¯¹
  // let n = strArr.length
  // for (let i = 0; i < n; i++) {
  //   if (strArr[i] == ' ' && strArr[i - 1] == ' ') {
  //     strArr.splice(i, 1)
  //   }
  // }

  // 1.å»é™¤å¤šä½™ç©ºæ ¼ï¼Œè¿ç»­è¶…è¿‡ä¸€ä¸ªçš„
  let index = 0
  while (index < strArr.length) {
    if (strArr[index] === ' ' && strArr[index + 1] === ' ') {
      strArr.splice(index + 1, 1)
    } else {
      index++
    }
  }

  // åˆ é™¤é¦–ä½çš„ç©ºæ ¼
  if (strArr[0] == ' ') {
    strArr.splice(0, 1)
  }

  if (strArr[strArr.length - 1] == ' ') {
    strArr.splice(strArr.length - 1, 1)
  }
  console.log('strArr', strArr)
  // 2. æ•´ä½“åè½¬
  reverse(0, strArr.length - 1)
  // console.log('strArr', strArr)

  // 3.å•è¯åè½¬
  let start = 0
  for (let i = 0; i <= strArr.length; i++) {
    if (strArr[i] === ' ' || i === strArr.length) {
      // ç¿»è½¬å•è¯
      reverse(start, i - 1)
      start = i + 1
    }
  }
  // console.log('strArr', strArr.join(''))

  return strArr.join('')
}

// ç”¨ä¾‹
expect(reverseWords('the sky is blue')).toEqual('blue is sky the')
expect(reverseWords('  hello world  ')).toEqual('world hello')
expect(reverseWords('a good   example')).toEqual('example good a')
expect(reverseWords(' i am a  good boy   ')).toEqual('boy good a am i')
```
å®ç°æ€è·¯ï¼Œè€ƒè™‘å¦‚ä¸‹å‡ ç§æƒ…å†µ
> the sky is blue // æ¯”è¾ƒå¸¸è§„çš„
>   hello world   // ä¸¤ç«¯æœ‰è¶…è¿‡ä¸€ä¸ªç©ºæ ¼çš„
> a good   example  // ä¸­é—´æœ‰è¶…è¿‡ä¸€ä¸ªç©ºæ ¼çš„
>  i am a  good boy   // ä¸¤ç«¯å’Œä¸­é—´éƒ½æœ‰è¶…è¿‡ä¸€ä¸ªç©ºæ ¼çš„

æ ¹æ®â€œæ³¨æ„â€ä¸­æåˆ°çš„è¦ç‚¹ï¼Œéœ€è¦å°†å­—ç¬¦ä¸²è½¬æ¢æˆå¸¸è§„çš„æƒ…å†µæ‰æ˜¯æ¥è¿‘æœ€ç»ˆéœ€æ±‚çš„ï¼Œå†å°±æ˜¯ä¾æ¬¡è°ƒæ¢å•è¯çš„é¡ºåºï¼Œå› æ­¤åˆ†ä¸‰ä¸ªæ­¥éª¤
step1: å°†è¿ç»­è¶…è¿‡ä¸€ä¸ªç©ºæ ¼çš„æƒ…å†µå¤„ç†ä¸ºä¸€ä¸ªç©ºæ ¼,å°†é¦–ä½ç©ºæ ¼å»é™¤
step2: æ•´ä½“åè½¬å­—ç¬¦ä¸²
step3: æŒ‰ç…§ç”±å•è¯ä¸­é—´ç©ºæ ¼å½¢æˆçš„é—´éš”ä¾æ¬¡å°†å•è¯çš„å­—ç¬¦ç¿»è½¬æ­£ç¡®
### æœ‰æ•ˆçš„æ‹¬å·-ç®€å•
> ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ '('ï¼Œ')'ï¼Œ'{'ï¼Œ'}'ï¼Œ'['ï¼Œ']'Â çš„å­—ç¬¦ä¸² s ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚
> æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š
> å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚
> å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚
> æ¯ä¸ªå³æ‹¬å·éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç›¸åŒç±»å‹çš„å·¦æ‹¬å·ã€‚
> è¾“å…¥ï¼šs = "()" è¾“å‡ºï¼štrue
> æ¥æºï¼š[https://leetcode.cn/problems/valid-parentheses/](https://leetcode.cn/problems/valid-parentheses/)

#### ä»£ç å®ç°
```javascript
function isValid(s: string): boolean {
  if (s.length % 2 != 0) return false
  const map = new Map()
  map.set('}', '{')
  map.set(')', '(')
  map.set(']', '[')
  let arr: string[] = s.split('')
  let stack: string[] = []
  while (arr.length) {
    const cur: string = arr.shift() as string  
    if (['}', ')', ']'].includes(cur)) {
      const top = stack.pop()
      if (map.get(cur) != top) {
        return false
      }
    } else {
      stack.push(cur)
    }
  }
  return stack.length == 0
}

// ç”¨ä¾‹
expect(isValid('{[]}')).toEqual(true)
expect(isValid('([)]')).toEqual(false)
expect(isValid('()')).toEqual(true)
expect(isValid('()[]{}')).toEqual(true)
expect(isValid('(]')).toEqual(false)
```
å®ç°æ€è·¯
é‡‡ç”¨æ ˆï¼Œå½“é‡åˆ°å‰æ‹¬å·æ—¶ï¼Œå…¥æ ˆï¼Œå½“ä¸‹æ¬¡(ä¾æ¬¡)é‡åˆ°åæ‹¬å·çš„æ—¶å€™ï¼Œå†ä»æ ˆä¾æ¬¡å–å‡ºå‰æ‹¬å·ï¼Œçœ‹æ˜¯å¦æ„æˆç»„æˆåŒä¸€ä¸ªæ‹¬å·çš„æ¡ä»¶ï¼Œä¸æ»¡è¶³å°±falseï¼Œæ»¡è¶³å°±ç»§ç»­å…¥æ ˆpush->å‡ºæ ˆshiftï¼Œæ‰€æœ‰æ‹¬å·éƒ½æ¯”é…çš„æƒ…å†µä¸‹ï¼Œæœ€åæ ˆä¸€å®šæ˜¯ç©ºçš„ï¼Œå³æˆç«‹æ¡ä»¶æ˜¯length=0ã€‚
### â­ï¸å·¦æ—‹å­—ç¬¦ä¸²-ç®€å•
> å­—ç¬¦ä¸²çš„å·¦æ—‹è½¬æ“ä½œæ˜¯æŠŠå­—ç¬¦ä¸²å‰é¢çš„è‹¥å¹²ä¸ªå­—ç¬¦è½¬ç§»åˆ°å­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚è¯·å®šä¹‰ä¸€ä¸ªå‡½æ•°å®ç°å­—ç¬¦ä¸²å·¦æ—‹è½¬æ“ä½œçš„åŠŸèƒ½ã€‚æ¯”å¦‚ï¼Œè¾“å…¥å­—ç¬¦ä¸²"abcdefg"å’Œæ•°å­—2ï¼Œè¯¥å‡½æ•°å°†è¿”å›å·¦æ—‹è½¬ä¸¤ä½å¾—åˆ°çš„ç»“æœ"cdefgab"ã€‚
> è¾“å…¥: s = "abcdefg", k = 2 è¾“å‡º:Â "cdefgab"
> æ¥æºï¼š[https://leetcode.cn/problems/zuo-xuan-zhuan-zi-fu-chuan-lcof](https://leetcode.cn/problems/zuo-xuan-zhuan-zi-fu-chuan-lcof)

#### ä»£ç å®ç°
```javascript

function reverseLeftWords(s: string, n: number): string {
  let strArr = Array.from(s)

  const reverse = (left: number, right: number) => {
    while (left < right) {
      let tmp = strArr[right]
      strArr[right] = strArr[left]
      strArr[left] = tmp
      left++
      right--
    }
  }

  for (let i = 0; i <= strArr.length - 1; i++) {
    // å…ˆç¿»è½¬ 0-n åŒºé—´çš„å­—ç¬¦ä¸²
    if (i == n) {
      reverse(0, n - 1)
    }
    // å†ç¿»è½¬ n-ç»“å°¾çš„å­—ç¬¦ä¸²
    if (i == n) {
      reverse(n, strArr.length - 1)
    }
    // æœ€ååè½¬æ•´ä¸ªå­—ç¬¦ä¸²
    if (i == strArr.length - 1) {
      reverse(0, strArr.length - 1)
    }
  }

  console.log('strArr', strArr)

  return strArr.join('')
}
```
æ€è·¯å¦‚å›¾
![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1677840930762-6b9fd7a3-6683-4949-b7f3-246700ff4b68.png#averageHue=%23f6f5f5&clientId=u5fda37d9-3ab6-4&from=paste&height=383&id=u782e2e98&name=image.png&originHeight=868&originWidth=1360&originalType=binary&ratio=2&rotation=0&showTitle=false&size=77262&status=done&style=none&taskId=u44be51b4-4bee-44f4-93f0-83f3991578a&title=&width=600)
### â­ï¸å®ç° strStr()-ä¸­ç­‰
> ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸²Â haystack å’Œ needle ï¼Œè¯·ä½ åœ¨ haystack å­—ç¬¦ä¸²ä¸­æ‰¾å‡º needle å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ã€‚å¦‚æœÂ needle ä¸æ˜¯ haystack çš„ä¸€éƒ¨åˆ†ï¼Œåˆ™è¿”å›Â  -1 ã€‚
> è¾“å…¥ï¼šhaystack = "sadbutsad", needle = "sad"
> è¾“å‡ºï¼š0
> è§£é‡Šï¼š"sad" åœ¨ä¸‹æ ‡ 0 å’Œ 6 å¤„åŒ¹é…ã€‚
> ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡æ˜¯ 0 ï¼Œæ‰€ä»¥è¿”å› 0 ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/find-the-index-of-the-first-occurrence-in-a-string](https://leetcode.cn/problems/find-the-index-of-the-first-occurrence-in-a-string)

#### ä»£ç å®ç°
```javascript
// ä¸å‡1çš„ç‰ˆæœ¬
function strStr2(haystack: string, needle: string): number {
  // step1 å…ˆæ‰¾åˆ°needleçš„nextæ•°ç»„
  // step2 éå†haystack,ç§»åŠ¨jæŒ‡é’ˆä¸æ–­ç¼©å°needleå­ä¸²èŒƒå›´
  function getNext(str: string): number[] {
    let next: number[] = []
    let j: number = 0
    next[0] = j
    for (let i = 1, length = str.length; i < length; i++) {
      // æ­¤å¤„whileçš„æ„ä¹‰æ˜¯åŸºäºå½“å‰ä½ç½®ä¸€ç›´å¾€å‰æ‰¾åˆ°æœ€å¤§å‰ç¼€é•¿åº¦
      while (j > 0 && str[i] !== str[j]) {
        j = next[j - 1]
      }
      if (str[i] === str[j]) {
        j++
      }
      next[i] = j
    }
    return next
  }
  if (needle.length === 0) return 0
  let next: number[] = getNext(needle)
  let j: number = 0
  for (let i = 0, length = haystack.length; i < length; i++) {
    // æ­¤å¤„whileçš„æ„ä¹‰æ˜¯åŸºäºå½“å‰ä½ç½®ä¸€ç›´å¾€å‰æ‰¾æœ€å¤§å‰ç¼€çš„æœ«å°¾ï¼Œç„¶åå°†jåç§»ï¼Œç¼©å°needleå­ä¸²çš„åŒ¹é…é•¿åº¦
    while (j > 0 && haystack[i] !== needle[j]) {
      j = next[j - 1]
    }
    if (haystack[i] === needle[j]) {
      // è¿™æ—¶å€™å·²ç»å°†needleæ‰¾å®Œäº†
      if (j === needle.length - 1) {
        return i - j
      }
      j++
    }
  }
  return -1
}
```
KMPç®—æ³•
ç»“åˆåŠ¨ç”»
ä»¥ haystack = aabaabaaf ï¼Œneedle=aabaafä¸ºä¾‹
è·å–needleçš„æœ€é•¿ç›¸ç­‰å‰åç¼€è¿‡ç¨‹ï¼š
> æ¯æ¬¡å–ç›¸åŒé•¿åº¦çš„å‰åç¼€å­ä¸²å¯¹æ¯”æ˜¯å¦ç›¸åŒï¼Œå­˜åœ¨å°±è¿”å›å‰åç¼€å­ä¸²é•¿åº¦ï¼Œä¸å­˜åœ¨éƒ½æ˜¯0.
aï¼šå‰åç¼€éƒ½ä¸º0ï¼Œé•¿åº¦ä¸º0ï¼›
aaï¼šå‰åç¼€éƒ½ä¸ºaï¼Œé•¿åº¦ä¸º1ï¼›
aabï¼šå‰ç¼€abï¼Œåç¼€abï¼Œä¸ç›¸åŒï¼Œå†å–å‰ç¼€aï¼Œåç¼€bï¼Œä¸ç›¸åŒï¼Œé•¿åº¦ä¸º0ï¼›
aabaï¼šå‰ç¼€aabï¼Œåç¼€abaï¼Œä¸ç›¸åŒï¼Œå†å–å‰ç¼€aaï¼Œåç¼€baï¼Œä¸ç›¸åŒï¼Œå†å–å‰ç¼€aï¼Œåç¼€aï¼Œç›¸åŒï¼Œé•¿åº¦ä¸º1ï¼›
aabaaï¼šå‰ç¼€aabaï¼Œåç¼€abaaï¼Œä¸ç›¸åŒï¼Œå†å–å‰ç¼€aabï¼Œåç¼€baaï¼Œä¸ç›¸åŒï¼Œå†å–å‰ç¼€aaï¼Œåç¼€aaï¼Œç›¸åŒï¼Œé•¿åº¦ä¸º2ï¼›
aabaafï¼šå‰ç¼€aabaaï¼Œåç¼€abaafï¼Œä¸ç›¸åŒï¼Œå†å–å‰ç¼€aabaï¼Œåç¼€baafï¼Œä¸ç›¸åŒï¼Œå†å–å‰ç¼€aabï¼Œåç¼€aafï¼Œä¸ç›¸åŒï¼Œå†å–å‰ç¼€aaï¼Œåç¼€afï¼Œä¸ç›¸åŒï¼Œå†å–å‰ç¼€aï¼Œåç¼€fï¼Œä¸ç›¸åŒï¼Œé•¿åº¦ä¸º0.

ç»“åˆä»£ç ,ä¸å‡1çš„ç‰ˆæœ¬
> while (j > 0 && str[i] !== str[j]) çš„ä½œç”¨æ˜¯ï¼Œå½“jæ‰€å¤„ä½ç½®çš„å…ƒç´ ä¸iä½ç½®ä¸åŒæ—¶ï¼Œä¸€ç›´å¾€å‰æ‰¾ç›´åˆ°æ‰¾åˆ°å‰ç¼€ï¼Œæ‰¾ä¸åˆ°å°±ä¸º0

```javascript
let next: number[] = []
let j: number = 0
next[0] = 0  // ç¬¬ä¸€ä¸ªå…ƒç´ 
for (let i = 1, length = str.length; i < length; i++) {
  // eg: aaba çš„æ—¶å€™ï¼Œä¾æ¬¡å– aab&aba -> aa&ba -> a&a æ­¤æ—¶a=a whileå¾ªç¯ç»“æŸ i=3,j=0 str[i] = str[j] 
  // å› æ­¤è®¡ç®— next[3]=1
  while (j > 0 && str[i] !== str[j]) {
    j = next[j - 1] // jä¸æ–­å‘å‰å›é€€ï¼Œç›´åˆ°j>0 && str[i] !== str[j] ä¸æˆç«‹ï¼Œwhileé€€å‡ºï¼Œå¾—å‡ºj
  }
  if (str[i] === str[j]) {
    j++
  }
  next[i] = j
}
// nextæœ€åä¸º [0,1,0,1,2,0]
```
æ‰¾åˆ°needleçš„æœ€é•¿ç›¸ç­‰å‰åç¼€nextæ•°ç»„ä¹‹åï¼Œéå†haystackï¼Œä»0å·å…ƒç´ å¼€å§‹
> å½“iä¸º0æ—¶ï¼Œwhileä¸èµ°ï¼Œhaystack[0] = needle[0]  j++  jå˜ä¸º1
> å½“iä¸º1æ—¶ï¼Œwhileä¸­!==æ¡ä»¶ä¸æˆç«‹ï¼Œä¸èµ°ï¼Œhaystak[1]==needle[1]  j++ jå˜ä¸º2
> å½“iä¸º2æ—¶ï¼Œwhileä¸­!==æ¡ä»¶ä¸æˆç«‹ï¼Œä¸èµ°ï¼Œhaystack[2] ==needle[2] j++ jå˜ä¸º3
> å½“iä¸º5æ—¶ï¼Œwhileä¸­!==æ¡ä»¶æˆç«‹ï¼Œhaystack[5]!==needle[5] j=next[5-1] æ­¤æ—¶jå›é€€ï¼Œ jå˜ä¸º2(çº¢è‰²çš„ç¬¬ä¸€ä¸ªb)ï¼Œå³æ­¤æ—¶åªéœ€è¦ä»çº¢è‰²çš„ç¬¬ä¸€ä¸ªbå¼€å§‹åŒ¹é…haystackä¸­çš„å­—ç¬¦, haystack[5] = needle[2]  j++   jå˜ä¸º3 (å…³é”®è½¬æŠ˜ç‚¹)
> å½“iä¸º6æ—¶ï¼Œwhileä¸­!==æ¡ä»¶ä¸æˆç«‹ï¼Œhaystack[6]==needle[3]  j++ jå˜ä¸º4
> å½“iä¸º7æ—¶ï¼Œwhileä¸­!==æ¡ä»¶ä¸æˆç«‹ï¼Œhaystack[7]==needle[4]  j++  jå˜ä¸º5
> å½“iä¸º8æ—¶ï¼Œwhileä¸­!==æ¡ä»¶ä¸æˆç«‹ï¼Œhaystack[8]==needle[5] j++ j === needle.length - 1æˆç«‹ return 3


```javascript
// haystack = aabaabaaf,needle=aabaaf
let j: number = 0 // jæ˜¯needleçš„æŒ‡é’ˆï¼Œæœ€å¤§å€¼æ˜¯needle.length-1 å› æ­¤j==needleå°±åº”è¯¥è¿”å›è®¡ç®—çš„ç»“æœäº†
for (let i = 0, length = haystack.length; i < length; i++) {
  while (j > 0 && haystack[i] !== needle[j]) {
    j = next[j - 1]
  }
  if (haystack[i] === needle[j]) {
    // è¿™æ—¶å€™å·²ç»å°†needleæ‰¾å®Œäº†
    if (j === needle.length - 1) {
      return i - j
    }
    j++
  }
}
```
### é‡å¤çš„å­å­—ç¬¦ä¸²
> ç»™å®šä¸€ä¸ªéç©ºçš„å­—ç¬¦ä¸² s ï¼Œæ£€æŸ¥æ˜¯å¦å¯ä»¥é€šè¿‡ç”±å®ƒçš„ä¸€ä¸ªå­ä¸²é‡å¤å¤šæ¬¡æ„æˆã€‚
> è¾“å…¥: s = "abab" è¾“å‡º: true è§£é‡Š: å¯ç”±å­ä¸² "ab" é‡å¤ä¸¤æ¬¡æ„æˆã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/repeated-substring-pattern/](https://leetcode.cn/problems/repeated-substring-pattern/)

#### ä»£ç å®ç°
```javascript
function repeatedSubstringPattern(s: string): boolean {
  // step1 å…ˆè·å–åˆ°å‰ç¼€è¡¨
  // step2 ç»åˆ†æå½“æ»¡è¶³sæ˜¯æœ‰å¤šä¸ªé‡å¤çš„å­å­—ç¬¦ä¸²æ„æˆçš„è¯ï¼Œå…¶æ»¡è¶³ sé•¿åº¦ % (sé•¿åº¦ - next[æœ€åä¸€ä½]) === 0
  const getNext = (str: string): number[] => {
    let next: number[] = []
    let j: number = 0
    next[0] = 0
    for (let i = 1; i < str.length; i++) {
      while (j > 0 && str[i] !== str[j]) {
        j = next[j - 1]
      }
      if (str[i] === str[j]) {
        j++
      }
      next[i] = j
    }
    return next
  }

  const next = getNext(s)

  const n = s.length

  // console.log('next', getNext(s))
  if (next[n - 1] != 0 && n % (n - next[n - 1]) === 0) return true
  return false
}
```
å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²sæ˜¯ä½¿ç”¨å¤šä¸ªé‡å¤å­ä¸²æ„æˆçš„ï¼Œå­ä¸²çš„é•¿åº¦ä¸ºxï¼Œå³sæ˜¯ç”±nä¸ªxæ„æˆçš„ sä¸ºn*x
å› ä¸ºå­—ç¬¦sçš„æœ€é•¿ç›¸åŒå‰åç¼€çš„é•¿åº¦ä¸€å®šä¸åŒ…å«sæœ¬èº«ï¼Œå› æ­¤ç›¸åŒå‰åç¼€é•¿åº¦å¿…ç„¶æ˜¯m*xï¼Œè€Œä¸”n-m=1,æ‰€ä»¥å¦‚æœ nx % (n - m)x = 0ï¼Œå°±å¯ä»¥åˆ¤å®šæœ‰é‡å¤å‡ºç°çš„å­å­—ç¬¦ä¸²ã€‚
ä»¥s=asdfasdfasdfä¸ºä¾‹,s.lengthä¸º12ï¼Œå®ƒçš„å‰ç¼€è¡¨å¯¹åº”å¦‚ä¸‹
next=[0,0,0,0,1,2,3,4,5,6,7,8]
æ•°ç»„é•¿åº¦ä¸º12ï¼Œnext[next.length-1] ä¸º8
å¦‚æœ**s.length % (s.length-next[next.length-1])===0**ï¼Œåˆ™è¯´æ˜æ•°ç»„çš„é•¿åº¦æ­£å¥½å¯ä»¥è¢« (æ•°ç»„é•¿åº¦-æœ€é•¿ç›¸ç­‰å‰åç¼€çš„é•¿åº¦) æ•´é™¤ ï¼Œè¯´æ˜è¯¥å­—ç¬¦ä¸²æœ‰é‡å¤çš„å­å­—ç¬¦ä¸²ã€‚
### åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹
> ç»™å‡ºç”±å°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²Â Sï¼Œé‡å¤é¡¹åˆ é™¤æ“ä½œä¼šé€‰æ‹©ä¸¤ä¸ªç›¸é‚»ä¸”ç›¸åŒçš„å­—æ¯ï¼Œå¹¶åˆ é™¤å®ƒä»¬ã€‚
> åœ¨ S ä¸Šåå¤æ‰§è¡Œé‡å¤é¡¹åˆ é™¤æ“ä½œï¼Œç›´åˆ°æ— æ³•ç»§ç»­åˆ é™¤ã€‚
> åœ¨å®Œæˆæ‰€æœ‰é‡å¤é¡¹åˆ é™¤æ“ä½œåè¿”å›æœ€ç»ˆçš„å­—ç¬¦ä¸²ã€‚ç­”æ¡ˆä¿è¯å”¯ä¸€ã€‚
> è¾“å…¥ï¼š"abbaca"
> è¾“å‡ºï¼š"ca"
> è§£é‡Šï¼š
> ä¾‹å¦‚ï¼Œåœ¨ "abbaca" ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ é™¤ "bb" ç”±äºä¸¤å­—æ¯ç›¸é‚»ä¸”ç›¸åŒï¼Œè¿™æ˜¯æ­¤æ—¶å”¯ä¸€å¯ä»¥æ‰§è¡Œåˆ é™¤æ“ä½œçš„é‡å¤é¡¹ã€‚ä¹‹åæˆ‘ä»¬å¾—åˆ°å­—ç¬¦ä¸² "aaca"ï¼Œå…¶ä¸­åˆåªæœ‰ "aa" å¯ä»¥æ‰§è¡Œé‡å¤é¡¹åˆ é™¤æ“ä½œï¼Œæ‰€ä»¥æœ€åçš„å­—ç¬¦ä¸²ä¸º "ca"ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/remove-all-adjacent-duplicates-in-string](https://leetcode.cn/problems/remove-all-adjacent-duplicates-in-string)

#### ä»£ç å®ç°
```javascript
function removeDuplicatesString(s: string): string {
  let stack: string[] = []
  let strArr: string[] = Array.from(s)

  let i = 0
  while (i < strArr.length) {
    let top = stack[stack.length - 1]
    if (strArr[i] == top) {
      stack.pop()
    } else {
      stack.push(strArr[i])
    }
    i++
  }
  console.log('stack', stack)

  return stack.join('')
}
```
### åŒæ„å­—ç¬¦ä¸²
> ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²Â sÂ å’ŒÂ tÂ ï¼Œåˆ¤æ–­å®ƒä»¬æ˜¯å¦æ˜¯åŒæ„çš„ã€‚
> å¦‚æœÂ sÂ ä¸­çš„å­—ç¬¦å¯ä»¥æŒ‰æŸç§æ˜ å°„å…³ç³»æ›¿æ¢å¾—åˆ°Â tÂ ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯åŒæ„çš„ã€‚
> æ¯ä¸ªå‡ºç°çš„å­—ç¬¦éƒ½åº”å½“æ˜ å°„åˆ°å¦ä¸€ä¸ªå­—ç¬¦ï¼ŒåŒæ—¶ä¸æ”¹å˜å­—ç¬¦çš„é¡ºåºã€‚ä¸åŒå­—ç¬¦ä¸èƒ½æ˜ å°„åˆ°åŒä¸€ä¸ªå­—ç¬¦ä¸Šï¼Œç›¸åŒå­—ç¬¦åªèƒ½æ˜ å°„åˆ°åŒä¸€ä¸ªå­—ç¬¦ä¸Šï¼Œå­—ç¬¦å¯ä»¥æ˜ å°„åˆ°è‡ªå·±æœ¬èº«ã€‚
> è¾“å…¥ï¼šs = "egg", t = "add" è¾“å‡ºï¼štrue
> è¾“å…¥ï¼šs = "foo", t = "bar" è¾“å‡ºï¼šfalse
> æ¥æºï¼š[https://leetcode.cn/problems/isomorphic-strings](https://leetcode.cn/problems/isomorphic-strings)

```typescript

function isIsomorphic(s: string, t: string): boolean {
  // å¯¹åº”å­—ç¬¦ä¸²sã€tçš„ä¿å­˜map
  let S = new Map()
  let T = new Map()
  for (let i = 0; i < s.length; i++) {
    // å½“sã€tå‡ºç°äº†é‡å¤å­—ç¬¦çš„è¯
    if (S.has(s[i]) || T.has(t[i])) {
      // å¦‚æœå¯¹äºså’Œtåœ¨åŒä¸€ä½ç½®çš„å­—ç¬¦ï¼Œä¸Šä¸€æ¬¡å‡ºç°çš„indexä¸æƒ³ç­‰ å°±false
      if (S.get(s[i]) !== T.get(t[i])) return false
    }
    // ä¿å­˜ä¸‹å½“å‰ä½çš„å­—ç¬¦å’Œindex
    S.set(s[i], i)
    T.set(t[i], i)
  }
  return true
}
```
### æŸ¥æ‰¾å…¬å…±å­—ç¬¦
> ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ words ï¼Œè¯·ä½ æ‰¾å‡ºæ‰€æœ‰åœ¨ words çš„æ¯ä¸ªå­—ç¬¦ä¸²ä¸­éƒ½å‡ºç°çš„å…±ç”¨å­—ç¬¦ï¼ˆ åŒ…æ‹¬é‡å¤å­—ç¬¦ï¼‰ï¼Œå¹¶ä»¥æ•°ç»„å½¢å¼è¿”å›ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆã€‚
> è¾“å…¥ï¼šwords = ["bella","label","roller"] è¾“å‡ºï¼š["e","l","l"]
> è¾“å…¥ï¼šwords = ["cool","lock","cook"] è¾“å‡ºï¼š["c","o"]
> æ¥æºï¼š[https://leetcode.cn/problems/find-common-characters](https://leetcode.cn/problems/find-common-characters)

#### ä»£ç å®ç° 
```typescript

function commonChars(words: string[]): string[] {
  //q1. ä»¥ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ºåŸºå‡† è®°å½•å…¶æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°
  //q2. å†ç»Ÿè®¡å…¶ä»–å­—ç¬¦å‡ºç°çš„æ¬¡æ•°  åœ¨è¿™è¿‡ç¨‹ä¸­å– å‡ºç°æ¬¡æ•°çš„æœ€å°å€¼
  //q3. æœ€åå°†å­—æ¯è¡¨ä¸­å‡ºç°æ¬¡æ•°å¤§äº0çš„å­—ç¬¦è¾“å‡º
  const res: string[] = []
  const size = 26
  let firstHash = new Array(size)
  for (let i = 0; i < size; i++) {
    // åˆå§‹åŒ– hash æ•°ç»„
    firstHash[i] = 0
  }

  let a = 'a'.charCodeAt(0)
  let firstWord = words[0]
  for (let i = 0; i < firstWord.length; i++) {
    // ç¬¬ 0 ä¸ªå•è¯çš„ç»Ÿè®¡
    let idx = firstWord[i].charCodeAt(0)
    firstHash[idx - a] += 1
  }

  for (let i = 1; i < words.length; i++) {
    // 1-n ä¸ªå•è¯ç»Ÿè®¡
    let otherHash = new Array(size)
    for (let i = 0; i < size; i++) {
      // åˆå§‹åŒ– hash æ•°ç»„
      otherHash[i] = 0
    }

    for (let j = 0; j < words[i].length; j++) {
      let idx = words[i][j].charCodeAt(0)
      otherHash[idx - a] += 1
    }
    for (let i = 0; i < size; i++) {
      firstHash[i] = Math.min(firstHash[i], otherHash[i])
    }
  }

  //
  for (let i = 0; i < size; i++) {
    while (firstHash[i] > 0) {
      res.push(String.fromCharCode(i + a))
      firstHash[i]--
    }
  }
  return res
}
```
### â­ï¸é•¿æŒ‰é”®å…¥
> ä½ çš„æœ‹å‹æ­£åœ¨ä½¿ç”¨é”®ç›˜è¾“å…¥ä»–çš„åå­—Â nameã€‚å¶å°”ï¼Œåœ¨é”®å…¥å­—ç¬¦Â cÂ æ—¶ï¼ŒæŒ‰é”®å¯èƒ½ä¼šè¢«é•¿æŒ‰ï¼Œè€Œå­—ç¬¦å¯èƒ½è¢«è¾“å…¥ 1 æ¬¡æˆ–å¤šæ¬¡ã€‚
> ä½ å°†ä¼šæ£€æŸ¥é”®ç›˜è¾“å…¥çš„å­—ç¬¦Â typedã€‚å¦‚æœå®ƒå¯¹åº”çš„å¯èƒ½æ˜¯ä½ çš„æœ‹å‹çš„åå­—ï¼ˆå…¶ä¸­ä¸€äº›å­—ç¬¦å¯èƒ½è¢«é•¿æŒ‰ï¼‰ï¼Œé‚£ä¹ˆå°±è¿”å›Â Trueã€‚
> è¾“å…¥ï¼šname = "alex", typed = "aaleex" è¾“å‡ºï¼štrue è§£é‡Šï¼š'alex' ä¸­çš„ 'a' å’Œ 'e' è¢«é•¿æŒ‰ã€‚
> è¾“å…¥ï¼šname = "saeed", typed = "ssaaedd"  è¾“å‡ºï¼šfalse  è§£é‡Šï¼š'e' ä¸€å®šéœ€è¦è¢«é”®å…¥ä¸¤æ¬¡ï¼Œä½†åœ¨ typed çš„è¾“å‡ºä¸­ä¸æ˜¯è¿™æ ·ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/long-pressed-name](https://leetcode.cn/problems/long-pressed-name)

#### ä»£ç å®ç°1
```typescript
function isLongPressedName(name: string, typed: string): boolean {
  // Think for yourself for 5 minutes...
  // q1. è°é•¿è°çŸ­ä¸ç¡®å®šï¼Œå› æ­¤è¦å¤„ç†nameæ²¡å¤„ç†å®Œå’Œtypedæ²¡å¤„ç†å®Œçš„æƒ…å†µ
  // q2. nameæ²¡å¤„ç†å®Œè‚¯å®šæ˜¯false
  // q3. typedæ²¡å¤„ç†å®Œéœ€è¦çœ‹åé¢çš„å­—ç¬¦ä¸²æ˜¯ä¸æ˜¯éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä¸ä¸€æ ·å°±æ˜¯false
  let slow = 0
  let fast = 0

  while (fast < typed.length && slow < name.length) {
    if (name[slow] === typed[fast]) {
      slow++
      fast++
    } else {
      if (fast === 0) return false
      // typedæœ‰é‡å¤é¡¹ï¼Œå¾€åç§»åŠ¨
      while (fast < typed.length && typed[fast] === typed[fast - 1]) fast++
      if (name[slow] === typed[fast]) {
        slow++
        fast++
      } else {
        return false
      }
    }
  }

  // è¯´æ˜nameæ²¡æœ‰è¢«åŒ¹é…å®Œ,ä¾‹å¦‚ name:"pyplrzzzzdsfa" type:"ppyypllr"
  if (slow < name.length) return false

  // è¯´æ˜typedæ²¡æœ‰è¢«åŒ¹é…å®Œ,ä¾‹å¦‚ name:"alex" type:"alexxrrrrssda"
  while (fast < typed.length) {
    if (typed[fast] === typed[fast - 1]) fast++
    else return false
  }

  return true
}

```
#### ä»£ç å®ç°2
```typescript
/**
 * å¦‚æœæ»¡è¶³æ¡ä»¶slowå’Œfastéƒ½ä¼šèµ°åˆ°å¤´
 * @param name
 * @param typed
 * @returns
 */
function isLongPressedName(name: string, typed: string): boolean {
  let slow: number = 0
  let fast: number = 0

  while (slow < name.length && fast < typed.length) {
    if (name[slow] !== typed[fast]) return false
    slow++
    fast++

    // å½“slowèµ°åˆ°å¤´ï¼Œæˆ–è€…nameçš„ç›¸é‚»ä¸¤ä¸ªå­—ç¬¦ä¸æƒ³ç­‰æ—¶(ä¸”name[slow]==typed[fast],å› ä¸ºä¸Šé¢ä¸æƒ³ç­‰å°±falseäº†)ï¼Œ
    // typedç»§ç»­å‘å‰è¿›
    if (slow === name.length || name[slow] !== name[slow - 1]) {
      while (fast < typed.length && typed[fast] === typed[fast - 1]) fast++
    }
  }

  return slow === name.length && fast === typed.length
}
```
### é‡å¤çš„DNAåºåˆ—
> DNAåºåˆ—Â ç”±ä¸€ç³»åˆ—æ ¸è‹·é…¸ç»„æˆï¼Œç¼©å†™ä¸ºÂ 'A',Â 'C',Â 'G'Â å’ŒÂ 'T'.ã€‚
> ä¾‹å¦‚ï¼Œ"ACGAATTCCG"Â æ˜¯ä¸€ä¸ª DNAåºåˆ— ã€‚
> åœ¨ç ”ç©¶ DNA æ—¶ï¼Œè¯†åˆ« DNA ä¸­çš„é‡å¤åºåˆ—éå¸¸æœ‰ç”¨ã€‚
> ç»™å®šä¸€ä¸ªè¡¨ç¤º DNAåºåˆ— çš„å­—ç¬¦ä¸² s ï¼Œè¿”å›æ‰€æœ‰åœ¨ DNA åˆ†å­ä¸­å‡ºç°ä¸æ­¢ä¸€æ¬¡çš„Â é•¿åº¦ä¸ºÂ 10Â çš„åºåˆ—(å­å­—ç¬¦ä¸²)ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆã€‚
> è¾“å…¥ï¼šs = "AAAAACCCCCCAAAAAGGGTTT" è¾“å‡ºï¼š["AAAAACCCCC","CCCCCAAAAA"]
> æ¥æºï¼š[https://leetcode.cn/problems/repeated-dna-sequences](https://leetcode.cn/problems/repeated-dna-sequences)

#### ä»£ç å®ç°
```typescript
function findRepeatedDnaSequences(s: string): string[] {
  const L = 10
  const ans: string[] = []
  const hash = new Map()
  const n = s.length

  for (let i = 0; i <= n - L; i++) {
    // è®°å½•ä»¥iå¼€å¤´i+Lç»“å°¾çš„å­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•°ï¼Œå½“>=2è¯´æ˜å‡ºç°ä¸æ­¢ä¸€æ¬¡ï¼Œ
    // ä½†ä¸ºäº†ä¸è®°å½•é‡å¤æ•°æ®ï¼Œåªåœ¨===2æ—¶å­˜å‚¨ä¸€æ¬¡
    const sub = s.slice(i, i + L)
    hash.set(sub, (hash.get(sub) || 0) + 1)
    if (hash.get(sub) === 2) {
      ans.push(sub)
    }
  }

  return ans
}
```
æ€è·¯åˆ†æ,ä»¥ä¸Šæ–¹æ³•ä¾æ¬¡ä¼šè®°å½•
AAAAACCCCC
AAAACCCCCA
AAACCCCCAA
... æ¯ä¸ªé•¿åº¦ä¸º10çš„å­å­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•°
### æœ€é•¿å›æ–‡å­—ç¬¦ä¸²
> ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œæ‰¾åˆ° s ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚
> å¦‚æœå­—ç¬¦ä¸²çš„ååºä¸åŸå§‹å­—ç¬¦ä¸²ç›¸åŒï¼Œåˆ™è¯¥å­—ç¬¦ä¸²ç§°ä¸ºå›æ–‡å­—ç¬¦ä¸²ã€‚
> è¾“å…¥ï¼šs = "babad" è¾“å‡ºï¼š"bab" è§£é‡Šï¼š"aba" åŒæ ·æ˜¯ç¬¦åˆé¢˜æ„çš„ç­”æ¡ˆã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/longest-palindromic-substring/](https://leetcode.cn/problems/longest-palindromic-substring/)

#### ä»£ç å®ç°
```typescript
/**
 * åŠ¨æ€è§„åˆ’æ³•2
 * @param s
 */
function longestPalindrome(s: string): string {
  // q1. dp[i][j]è¡¨ç¤ºi->jæ˜¯å¦èƒ½æ„æˆå›æ–‡
  // q2. å› ä¸ºdp[i][j]ä¾èµ–äºi+1ä½ç½®å’Œj-1ä½ç½®çš„çŠ¶æ€å€¼ï¼Œå› æ­¤è€ƒè™‘ä»ä¸‹å¾€ä¸Šï¼Œä»å·¦å¾€å³éå†
  const n = s.length
  let maxStart = 0
  let maxLen = 0
  const dp = new Array(n).fill(false).map(() => new Array(n).fill(false))

  for (let i = n - 1; i >= 0; i--) {
    for (let j = i; j < n; j++) {
      // å½“aæˆ–aaçš„æ—¶å€™ j - i <= 1
      // j-i==0 a
      // j-i==1 aa
      // å½“s[i] === s[j]æ—¶ï¼Œå¾€ä¸­é—´æ”¶ç¼©å¦‚æœä¹Ÿæƒ³ç­‰é‚£ä¹ˆi->jèƒ½æ„æˆå›æ–‡
      if (s[i] === s[j] && (j - i <= 1 || dp[i + 1][j - 1])) {
        dp[i][j] = true
      }
      // åªè¦ dp[i][j] == true æˆç«‹ï¼Œå°±è¡¨ç¤ºå­ä¸² s[i..j] æ˜¯å›æ–‡ï¼Œæ­¤æ—¶è®°å½•å›æ–‡é•¿åº¦å’Œèµ·å§‹ä½ç½®
      if (dp[i][j] && j - i + 1 > maxLen) {
        maxLen = j - i + 1 // å›æ–‡ä¸²é•¿åº¦
        maxStart = i // èµ·å§‹ä½ç½®
      }
    }
  }

  return s.substr(maxStart, maxLen)
}
```
#### ä¸­å¿ƒæ‰©æ•£æ³•
```typescript
/**
 *  ä¸­å¿ƒæ‰©æ•£æ³•
 * @param s
 */
function longestPalindrome(s: string): string {
  // Think for yourself for 5 minutes...
  if (!s) return ''

  let left = 0
  let right = 0
  let len = 1 // è®¡æ•°
  let maxStart = 0
  let maxLen = 0
  const n = s.length

  for (let i = 0; i < n; i++) {
    left = i - 1
    right = i + 1
    //å‘å·¦æ‰©æ•£
    while (left >= 0 && s.charAt(left) === s.charAt(i)) {
      left-- // è¿˜èƒ½ç»§ç»­å¾€å·¦
      len++
    }

    // å‘å³æ‰©æ•£
    while (right >= 0 && right < n && s.charAt(right) === s.charAt(i)) {
      right++ // è¿˜èƒ½ç»§ç»­å¾€å³
      len++
    }

    // å‘ä¸¤è¾¹æ‰©æ•£
    while (left >= 0 && right < n && s.charAt(left) === s.charAt(right)) {
      len += 2
      left--
      right++
    }

    if (len > maxLen) {
      maxLen = len
      maxStart = left
    }
    // æ¯å®šä½å®Œä¸€ä¸ªä½ç½®é‡ç½®ä¸€ä¸‹è®¡æ•°
    len = 1
  }

  return s.substring(maxStart + 1, maxStart + maxLen + 1)
}
```
### æœ€é•¿å›æ–‡ä¸²-é•¿åº¦
> ç»™å®šä¸€ä¸ªåŒ…å«å¤§å†™å­—æ¯å’Œå°å†™å­—æ¯çš„å­—ç¬¦ä¸²Â sÂ ï¼Œè¿”å›Â é€šè¿‡è¿™äº›å­—æ¯æ„é€ æˆçš„ æœ€é•¿çš„å›æ–‡ä¸²Â ã€‚
> åœ¨æ„é€ è¿‡ç¨‹ä¸­ï¼Œè¯·æ³¨æ„ åŒºåˆ†å¤§å°å†™ ã€‚æ¯”å¦‚Â "Aa"Â ä¸èƒ½å½“åšä¸€ä¸ªå›æ–‡å­—ç¬¦ä¸²ã€‚
> è¾“å…¥:s = "abccccdd" è¾“å‡º:7  è§£é‡Š: æˆ‘ä»¬å¯ä»¥æ„é€ çš„æœ€é•¿çš„å›æ–‡ä¸²æ˜¯"dccaccd", å®ƒçš„é•¿åº¦æ˜¯ 7ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/longest-palindrome](https://leetcode.cn/problems/longest-palindrome)

#### ä»£ç å®ç°
```typescript

function longestPalindrome(s: string): number {
  // Think for yourself for 5 minutes...
  if (s.length == 0) return 0

  const hash = new Map()

  // è®°å½•æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°
  for (let i = 0; i < s.length; i++) {
    let a = hash.get(s[i]) || 0
    hash.set(s[i], a + 1)
  }

  let count = 0

  let mark = 0 // ç”¨æ¥æ ‡è®°æŸä¸ªå­—æ¯å‡ºç°äº†å¥‡æ•°æ¬¡æƒ…å†µ
  for (let item of hash) {
    if (item[1] % 2 == 0) {
      count += item[1]
    } else {
      // å¦‚æœå‡ºç°äº†å¥‡æ•°æ¬¡ï¼Œé‚£ä¹Ÿåªèƒ½ç”¨n-1æ¬¡
      count += item[1] > 1 ? item[1] - 1 : 0
      mark++
    }
  }
  // å¦‚æœå‡ºç°äº†å¤šä¸ªåªå‡ºç°å¥‡æ•°æ¬¡çš„å­—ç¬¦ï¼Œå¯¹äºå›æ–‡è€Œè¨€åªèƒ½ç”¨ä¸€ä¸ª
  return mark ? count + 1 : count
}
```



## ğŸ‘‰æ€»ç»“å½’çº³
### æ¢³ç†
å­—ç¬¦ä¸²è§£é¢˜å¸¸ç”¨æ–¹æ³•å…³é”®è¯ï¼š

1. åŒæŒ‡é’ˆï¼šå¿«æ…¢æŒ‡é’ˆï¼ŒäºŒåˆ†æ³•
2. åè½¬æ³•ï¼šå±€éƒ¨åè½¬ï¼Œæ•´ä½“åè½¬ï¼Œç¡®å®šåè½¬åŒºé—´
3. KMPï¼šç¡®å®šå‰ç¼€è¡¨ï¼ŒæŒ‡é’ˆä½ç½®ç”±å‰ç¼€è¡¨æ¨å‡º
4. æ ˆï¼šè®°å½•å·²å‡ºç°è¿‡çš„å­—ç¬¦
5. å“ˆå¸Œè¡¨ï¼šè®°å½•å­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œå‡ºç°çš„ä½ç½®

è§£é¢˜è¦è€ƒè™‘çš„è¦ç‚¹ï¼š

1. æ—¶é—´å¤æ‚åº¦ï¼Œforå¾ªç¯æ˜¯å¦èƒ½å‡å°‘
2. ç©ºé—´å¤æ‚åº¦ï¼Œæ˜¯å¦å¯åœ¨åŸå­—ç¬¦ä¸²ä¸Šæ“ä½œï¼Œæˆ–æœ€å°‘çš„å»ºç«‹æ–°çš„ç©ºé—´

### å¸¸ç”¨æ–¹æ³•
#### charCodeAt
è¿”å›å­—ç¬¦ä¸²ä¸­è§„å®šç´¢å¼•ï¼ˆä¸‹æ ‡ï¼‰å¤„å­—ç¬¦çš„ Unicodeã€‚  
> 'a'.charCodeAt()  // 97
> 'A'.charCodeAt()  // 65

#### charAt()
æ–¹æ³•è¿”å›å­—ç¬¦ä¸²ä¸­æŒ‡å®šç´¢å¼•ï¼ˆä¸‹æ ‡ï¼‰å¤„çš„å­—ç¬¦ã€‚
> let text = "HELLO WORLD";
> let letter = text.charAt(0);   // H

#### String.fromCharCode()
å°† Unicode ç¼–ç è½¬ä¸ºä¸€ä¸ªå­—ç¬¦:
> String.fromCharCode(65)  // A
> String.fromCharCode(97)  // a

#### substr()
ä»èµ·å§‹ç´¢å¼•å·æå–å­—ç¬¦ä¸²ä¸­æŒ‡å®šæ•°ç›®çš„å­—ç¬¦ã€‚
> 'Hello World'.substr(0,4)   // 'Hell'
> 'Hello World'.substring(4)  //  'o World'

#### substring()
æå–å­—ç¬¦ä¸²ä¸­ä¸¤ä¸ªæŒ‡å®šçš„ç´¢å¼•å·ä¹‹é—´çš„å­—ç¬¦ã€‚
> 'Hello World'.substring(4)  // 'o World'
> 'Hello World'.substring(0,4)  // 'Hell'


### å¯¼å›¾
![](https://cdn.nlark.com/yuque/0/2023/jpeg/1553840/1678510958700-1f37ff03-f6e8-4654-8166-6aa2f73aef0c.jpeg)
## èµ„æ–™

- 
- 
- 

[ç‚¹å‡»æŸ¥çœ‹ã€bilibiliã€‘](https://player.bilibili.com/player.html?bvid=BV1AY4y157yL)
