# ç®—æ³•:æ ˆä¸é˜Ÿåˆ— 
## å…³é”®è¯
- ä¸€è¿›ä¸€å‡º
- å•è°ƒæ ˆ/å•è°ƒé˜Ÿåˆ—
### æ ˆä½¿ç”¨æŠ€å·§

1.  å¤„ç†æ‹¬å·åŒ¹é…é—®é¢˜ï¼šä½¿ç”¨æ ˆæ¥å­˜å‚¨å·¦æ‹¬å·ï¼Œå¹¶åœ¨é‡åˆ°å³æ‹¬å·æ—¶æ£€æŸ¥æ ˆé¡¶å…ƒç´ æ˜¯å¦ä¸ºå¯¹åº”çš„å·¦æ‹¬å·ã€‚ 
2.  å®ç°å‡½æ•°è°ƒç”¨ï¼šæ¯æ¬¡å‡½æ•°è°ƒç”¨æ—¶ï¼Œåœ¨æ ˆä¸­ä¿å­˜å½“å‰å‡½æ•°çš„ä¸Šä¸‹æ–‡ï¼ŒåŒ…æ‹¬ç¨‹åºè®¡æ•°å™¨å’Œå±€éƒ¨å˜é‡ç­‰ä¿¡æ¯ï¼Œå½“å‡½æ•°è¿”å›æ—¶å†æ¢å¤ä¸Šä¸‹æ–‡ã€‚ 
3.  è®¡ç®—é€†æ³¢å…°è¡¨è¾¾å¼ï¼šä½¿ç”¨æ ˆæ¥å­˜å‚¨æ•°å­—ï¼Œå¹¶åœ¨é‡åˆ°æ“ä½œç¬¦æ—¶å¼¹å‡ºæ ˆé¡¶å…ƒç´ è¿›è¡Œè¿ç®—ï¼Œå†å°†ç»“æœå…¥æ ˆã€‚ 
4.  å®ç°æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼šä½¿ç”¨æ ˆæ¥å­˜å‚¨éœ€è¦éå†çš„èŠ‚ç‚¹ï¼Œæ¯æ¬¡ä»æ ˆä¸­å¼¹å‡ºä¸€ä¸ªèŠ‚ç‚¹å¹¶åŠ å…¥åˆ°å·²è®¿é—®é›†åˆä¸­ï¼Œå†å°†å…¶é‚»å±…èŠ‚ç‚¹åŠ å…¥æ ˆä¸­ã€‚ 
5.  å®ç°å›¾çš„æ‹“æ‰‘æ’åºï¼šä½¿ç”¨æ ˆæ¥å­˜å‚¨å…¥åº¦ä¸º0çš„èŠ‚ç‚¹ï¼Œå¹¶åœ¨æ¯æ¬¡å¼¹å‡ºä¸€ä¸ªèŠ‚ç‚¹åå°†å…¶æ‰€æœ‰å‡ºè¾¹çš„ç»ˆç‚¹å…¥åº¦å‡ä¸€ï¼Œè‹¥å‡ä¸º0åˆ™åŠ å…¥æ ˆä¸­ã€‚ 
6.  å®ç°è¡¨è¾¾å¼æ±‚å€¼ï¼šä½¿ç”¨ä¸¤ä¸ªæ ˆï¼Œä¸€ä¸ªå­˜å‚¨æ•°å­—ï¼Œä¸€ä¸ªå­˜å‚¨æ“ä½œç¬¦ï¼Œæ¯æ¬¡é‡åˆ°è¿ç®—ç¬¦æ—¶å¼¹å‡ºæ ˆé¡¶ä¸¤ä¸ªæ•°è¿›è¡Œè¿ç®—ï¼Œå†å°†ç»“æœå…¥æ ˆã€‚ 
### å•è°ƒæ ˆç†è§£
ä»¥å•è°ƒé€’å¢æ ˆä¸ºä¾‹ï¼Œå•è°ƒé€’å¢æ ˆå³æ ˆå†…å…ƒç´ ä¿æŒå•è°ƒé€’å¢çš„æ ˆ
**æ“ä½œè§„åˆ™ï¼š**
å¦‚æœæ–°çš„å…ƒç´ æ¯”æ ˆé¡¶å…ƒç´ å¤§ï¼Œå°±å…¥æ ˆ
**å¦‚æœæ–°çš„å…ƒç´ è¾ƒå°ï¼Œé‚£å°±ä¸€ç›´æŠŠæ ˆå†…å…ƒç´ å¼¹å‡ºæ¥ï¼Œç›´åˆ°æ ˆé¡¶æ¯”æ–°å…ƒç´ å°**
**æ“ä½œè¿‡ç¨‹ï¼š**
å½“å…ƒç´ å‡ºæ ˆæ—¶ï¼Œè¯´æ˜è¿™ä¸ª**æ–°å…ƒç´ **æ˜¯å‡ºæ ˆå…ƒç´ **å‘å**æ‰¾ç¬¬ä¸€ä¸ªæ¯”å…¶å°çš„å…ƒç´ 
> ä¸¾ä¸ªä¾‹å­ï¼Œé…åˆä¸‹å›¾ï¼Œç°åœ¨ç´¢å¼•åœ¨ 6 ï¼Œæ ˆé‡Œæ˜¯ 1 5 6 ã€‚
> æ¥ä¸‹æ¥æ–°å…ƒç´ æ˜¯ 2 ï¼Œé‚£ä¹ˆ 6 éœ€è¦å‡ºæ ˆã€‚
> å½“ 6 å‡ºæ ˆæ—¶ï¼Œå³è¾¹ 2 ä»£è¡¨æ˜¯ 6 å³è¾¹ç¬¬ä¸€ä¸ªæ¯” 6 å°çš„å…ƒç´ ã€‚

å½“å…ƒç´ å‡ºæ ˆåï¼Œè¯´æ˜æ–°**æ ˆé¡¶å…ƒç´ **æ˜¯å‡ºæ ˆå…ƒç´ **å‘å‰**æ‰¾ç¬¬ä¸€ä¸ªæ¯”å…¶å°çš„å…ƒç´ 
> å½“ 6 å‡ºæ ˆæ—¶ï¼Œ5 æˆä¸ºæ–°çš„æ ˆé¡¶ï¼Œé‚£ä¹ˆ 5 å°±æ˜¯ 6 å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯” 6 å°çš„å…ƒç´ ã€‚

![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1679233083919-672b05dd-da92-4127-b82e-768a637ba516.png#averageHue=%23f5f4f2&clientId=uef0a2d68-7096-4&from=paste&height=360&id=uf178a557&name=image.png&originHeight=720&originWidth=1492&originalType=binary&ratio=2&rotation=0&showTitle=false&size=428523&status=done&style=none&taskId=u7e132286-02df-4f7a-a726-356a75a4663&title=&width=746)
**PS: å•è°ƒæ ˆä¸€èˆ¬æ˜¯è®°å½•å…ƒç´ ä¸‹æ ‡çš„ï¼Œå› ä¸ºå­˜ä¸‹æ ‡å¯ä»¥é€šè¿‡å‡º/å…¥æ ˆä¸‹æ ‡ã€arr[stack[stack.length-1]ã€‘æ¥åšå‰åå¯¹æ¯”ï¼Œè€Œä¸€èˆ¬ä¸è€ƒè™‘å­˜æ•°å€¼**
## ä¾‹é¢˜
### æ¯æ—¥æ¸©åº¦
> ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„Â temperaturesÂ ï¼Œè¡¨ç¤ºæ¯å¤©çš„æ¸©åº¦ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„Â answerÂ ï¼Œå…¶ä¸­Â answer[i]Â æ˜¯æŒ‡å¯¹äºç¬¬ i å¤©ï¼Œä¸‹ä¸€ä¸ªæ›´é«˜æ¸©åº¦å‡ºç°åœ¨å‡ å¤©åã€‚å¦‚æœæ°”æ¸©åœ¨è¿™ä¹‹åéƒ½ä¸ä¼šå‡é«˜ï¼Œè¯·åœ¨è¯¥ä½ç½®ç”¨Â 0 æ¥ä»£æ›¿ã€‚
> è¾“å…¥: temperatures = [73,74,75,71,69,72,76,73] è¾“å‡º: [1,1,4,2,1,1,0,0]
> æ¥æºï¼š[https://leetcode.cn/problems/daily-temperatures](https://leetcode.cn/problems/daily-temperatures)

#### ä»£ç å®ç° 
```typescript
function dailyTemperatures(temperatures: number[]): number[] {
  // Think for yourself for 5 minutes...
  // [73, 74, 75, 71, 69, 72, 76, 73]
  // q1. ä¸‹ä¸€ä¸ªé«˜æ¸©åœ¨å‡ å¤©ä¹‹å å³iä¹‹åçš„ç›¸å¯¹äºiå‡æ¸©
  // å¦‚æœi+1 > i é‚£ä¹ˆ iä½ç½®çš„å°±æ˜¯1
  // å¦‚æœi+n > i é‚£ä¹ˆ iä½ç½®å°±æ˜¯n
  // å› ä¸ºç¬¬ä¸€é¡¹å‰é¢æ²¡æœ‰å…ƒç´ ï¼Œå…ˆæŠŠç¬¬ä¸€é¡¹æ¨å…¥æ ˆä¸­
  // æ ˆé¡¶(æ•°ç»„çš„å°¾éƒ¨)åªpush â€œè¾ƒå¤§â€çš„å…ƒç´ çš„ç´¢å¼•ï¼Œ(ä»æ ˆé¡¶åˆ°æ ˆåº•ä¾æ¬¡é€’å‡)
  // å½“ä¸‹æ¬¡é‡åˆ°å½“å‰å…ƒç´ å°äºæ ˆé¡¶å…ƒç´ æ—¶ï¼Œè¯´æ˜iä½ç½®ä»¥å‰çš„å·®å€¼éƒ½éœ€è¦æ›´æ–°äº†
  // ç›´åˆ°æŠŠæ ˆæç©ºä¸ºæ­¢ï¼Œæœ€åå†å°†å½“å‰å…ƒç´ å…¥æ ˆï¼Œå¼€å§‹ä¸‹ä¸€è½®å‡ºå…¥æ ˆæ“ä½œ

  const stack: number[] = [] // ç”¨äºå­˜å‚¨å…ƒç´ å³é¢ç¬¬ä¸€ä¸ªæ¯”ä»–å¤§çš„å…ƒç´ ä¸‹æ ‡
  const n: number = temperatures.length

  const result: number[] = Array(n).fill(0)

  const T: number[] = temperatures

  stack.push(0)

  for (let i = 1; i < n; i++) {
    const top = stack[stack.length - 1]
    if (T[i] <= T[top]) {
      stack.push(i)
    } else {
      while (stack.length && T[i] > T[stack[stack.length - 1]]) {
        const top = stack.pop()
        if (top != undefined) {
          result[top] = i - top
        }
      }
      stack.push(i)
    }
  }
  return result
}
```
#### å€’ç€æ‰«æ
```typescript
function dailyTemperatures(temperatures: number[]): number[] {
  const n: number = temperatures.length
  const T: number[] = temperatures

  const stack: number[] = []

  const result: number[] = Array(n).fill(0)

  for (let i = n - 1; i >= 0; i--) {
    while (stack.length && T[stack[stack.length - 1]] <= T[i]) {
      stack.pop()
    }
    result[i] = !stack.length ? 0 : stack[stack.length - 1] - i
    stack.push(i)
  }

  return result
}
```
### ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°I
> nums1Â ä¸­æ•°å­—Â xÂ çš„ ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  æ˜¯æŒ‡Â xÂ åœ¨Â nums2 ä¸­å¯¹åº”ä½ç½® å³ä¾§ çš„ ç¬¬ä¸€ä¸ª æ¯”Â xÂ å¤§çš„å…ƒç´ ã€‚
> ç»™ä½ ä¸¤ä¸ª æ²¡æœ‰é‡å¤å…ƒç´  çš„æ•°ç»„Â nums1 å’ŒÂ nums2 ï¼Œä¸‹æ ‡ä» 0 å¼€å§‹è®¡æ•°ï¼Œå…¶ä¸­nums1Â æ˜¯Â nums2Â çš„å­é›†ã€‚
> å¯¹äºæ¯ä¸ª 0 <= i < nums1.length ï¼Œæ‰¾å‡ºæ»¡è¶³ nums1[i] == nums2[j] çš„ä¸‹æ ‡ j ï¼Œå¹¶ä¸”åœ¨ nums2 ç¡®å®š nums2[j] çš„ ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  ã€‚å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œé‚£ä¹ˆæœ¬æ¬¡æŸ¥è¯¢çš„ç­”æ¡ˆæ˜¯ -1 ã€‚
> è¿”å›ä¸€ä¸ªé•¿åº¦ä¸ºÂ nums1.length çš„æ•°ç»„ ans ä½œä¸ºç­”æ¡ˆï¼Œæ»¡è¶³ ans[i] æ˜¯å¦‚ä¸Šæ‰€è¿°çš„ ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  ã€‚
> è¾“å…¥ï¼šnums1 = [4,1,2], nums2 = [1,3,4,2].   è¾“å‡ºï¼š[-1,3,-1]
> è§£é‡Šï¼šnums1 ä¸­æ¯ä¸ªå€¼çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ å¦‚ä¸‹æ‰€è¿°ï¼š
> - 4 ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 = [1,3,4,2]ã€‚ä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ -1 ã€‚
> - 1 ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 = [1,3,4,2]ã€‚ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ˜¯ 3 ã€‚
> - 2 ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 = [1,3,4,2]ã€‚ä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ -1 ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/next-greater-element-i](https://leetcode.cn/problems/next-greater-element-i)

#### ä»£ç å®ç°
```typescript
function nextGreaterElement(nums1: number[], nums2: number[]): number[] {
  // Think for yourself for 5 minutes...
  // q1. æ±‚nums1ä¸­çš„æ•°å­—x åœ¨nums2ä¸­çš„xçš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•° ï¼Œä¸¤ä¸ªæ•°ç»„éƒ½ä¸å«é‡å¤æ•°å­—
  // å°†nums1çš„å…ƒç´ ç”¨hashè¡¨å­˜èµ·æ¥ï¼Œkeyå¯¹åº”æ•°å­— ï¼Œvalueå¯¹åº”ä¸‹æ ‡
  // é€’å¢æ ˆ[1,2,3]
  // æ ˆé¡¶å­˜æ”¾ä¸Šä¸€ä¸ªè¾ƒå°çš„å…ƒç´ ï¼Œå½“å‰å…ƒç´ å¤§äºæ ˆé¡¶å…ƒç´ æ—¶ï¼Œå°±è¦å°†ä¸Šä¸€ä¸ª(å³æ ˆé¡¶å…ƒç´ )çš„"ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ "æ›´æ–°ä¸ºå½“å‰å…ƒç´ 
  const hash: Map<number, number> = new Map()

  for (let i = 0; i < nums1.length; i++) {
    hash.set(nums1[i], i)
  }

  const stack: number[] = []

  stack.push(0)

  const result: number[] = Array(nums1.length).fill(-1)

  for (let i = 1; i < nums2.length; i++) {
    let top = stack[stack.length - 1]
    while (stack.length > 0 && nums2[i] > nums2[top]) {
      let index = hash.get(nums2[top])
      if (index !== undefined) {
        // console.log('æ›´æ–°', i, nums2[i])
        result[index] = nums2[i]
      }
      stack.pop()
      top = stack[stack.length - 1]
    }
    if (hash.get(nums2[i]) !== undefined) {
      stack.push(i)
    }
  }
  // console.log('result', result)
  return result
}
```
#### å€’ç€æ‰«æ
```typescript
function nextGreaterElement(nums1: number[], nums2: number[]): number[] {
  // const result: number[] = []
  const stack: number[] = Array(nums2.length).fill(0)

  const hash: Map<number, number> = new Map()

  for (let i = nums2.length - 1; i >= 0; i--) {
    while (stack.length && stack[stack.length - 1] <= nums2[i]) {
      stack.pop()
    }
    // result[i] = stack.length ? stack[stack.length - 1] : -1
    hash.set(nums2[i], stack.length ? stack[stack.length - 1] : -1)
    stack.push(nums2[i])
  }

  return Array.from({ length: nums1.length }, (_, k) => hash.get(nums1[k]) || -1)
}
```
#### ç±»ä¼¼é¢˜ç›®
> 

### â­ï¸å•†å“æŠ˜æ‰£åçš„æœ€ç»ˆä»·æ ¼
> ç»™ä½ ä¸€ä¸ªæ•°ç»„Â pricesÂ ï¼Œå…¶ä¸­Â prices[i]Â æ˜¯å•†åº—é‡Œç¬¬Â iÂ ä»¶å•†å“çš„ä»·æ ¼ã€‚
> å•†åº—é‡Œæ­£åœ¨è¿›è¡Œä¿ƒé”€æ´»åŠ¨ï¼Œå¦‚æœä½ è¦ä¹°ç¬¬Â iÂ ä»¶å•†å“ï¼Œé‚£ä¹ˆä½ å¯ä»¥å¾—åˆ°ä¸ prices[j] ç›¸ç­‰çš„æŠ˜æ‰£ï¼Œå…¶ä¸­Â jÂ æ˜¯æ»¡è¶³Â j > iÂ ä¸”Â prices[j] <= prices[i]Â çš„Â æœ€å°ä¸‹æ ‡Â ï¼Œå¦‚æœæ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„Â jÂ ï¼Œä½ å°†æ²¡æœ‰ä»»ä½•æŠ˜æ‰£ã€‚
> è¯·ä½ è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­ç¬¬Â iÂ ä¸ªå…ƒç´ æ˜¯æŠ˜æ‰£åä½ è´­ä¹°å•†å“ iÂ æœ€ç»ˆéœ€è¦æ”¯ä»˜çš„ä»·æ ¼ã€‚
> è¾“å…¥ï¼šprices = [8,4,6,2,3] è¾“å‡ºï¼š[4,2,4,2,3]
> æ¥æºï¼š[https://leetcode.cn/problems/final-prices-with-a-special-discount-in-a-shop](https://leetcode.cn/problems/final-prices-with-a-special-discount-in-a-shop)

#### ä»£ç å®ç°
```typescript
// å¸¸è§„æ–¹æ³•
function finalPrices(prices: number[]): number[] {
  // Think for yourself for 5 minutes...
  // q1. ä¸‹ä¸€ä¸ªæ›´å°çš„æ•°,è¿”å›ç›¸å‡ä¹‹ååˆ°å€¼
  // q2. ä»¥å½“å‰iä½ç½®ä¸ºåŸºå‡†ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”ä»–å°çš„æ•°

  const n: number = prices.length

  const ans: number[] = []
  for (let i = 0; i < n; i++) {
    let p: number = i + 1
    while (p < n && prices[p] > prices[i]) p++
    // æ‰¾åˆ°pçš„ä½ç½®åï¼Œå¦‚æœpåˆ°ç»“å°¾äº†ï¼Œè¯´æ˜æ²¡æ‰¾åˆ°,å°±æ˜¯å½“å‰å€¼
    if (p == n) {
      ans[i] = prices[i]
    } else {
      const a = prices[i] - prices[p]
      ans[i] = a
    }
  }
  return ans
}
// å•è°ƒæ ˆ
function finalPrices(prices: number[]): number[] {
  const n: number = prices.length

  const stack: number[] = []

  const ans: number[] = []

  for (let i = n - 1; i >= 0; i--) {
    // å½“æ ˆé¡¶çš„å…ƒç´ æ¯”æ–°æ¥çš„å¤§ï¼Œè¯´æ˜æ–°æ¥çš„æ˜¯ä¹‹å‰çš„ä»·æ ¼çš„ç›¸å¯¹å°çš„å€¼äº†
    // å°±æŠŠæ ˆé¡¶çš„å…ƒç´ å¼¹å‡º
    while (stack.length && stack[stack.length - 1] > prices[i]) {
      stack.pop()
    }
    // å½“å‰ä½æ¯”æ ˆé¡¶å…ƒç´ å¤§æ‰ä¼šèµ°åˆ°è¿™é‡Œï¼Œå› ä¸ºæ˜¯å€’ç€æ‰«æï¼Œæ ˆé¡¶å°±æ˜¯å½“å‰å…ƒç´ ä¸‹ä¸€ä¸ªæ›´å°çš„å€¼
    ans[i] = stack.length == 0 ? prices[i] : prices[i] - stack[stack.length - 1]
    stack.push(prices[i])
  }
  return ans
}
```
### ![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1679325022502-173139b8-4fe7-4872-907a-5ec53f9f11a6.png#averageHue=%23f4f4f4&clientId=u344b011d-3c23-4&from=paste&height=180&id=u7b4cffc0&name=image.png&originHeight=360&originWidth=820&originalType=binary&ratio=2&rotation=0&showTitle=false&size=47974&status=done&style=none&taskId=u5d4332a8-5e75-4e44-b98a-367abc3c79e&title=&width=410)
### ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°II
> ç»™å®šä¸€ä¸ªå¾ªç¯æ•°ç»„Â numsÂ ï¼ˆÂ nums[nums.length - 1]Â çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯Â nums[0]Â ï¼‰ï¼Œè¿”å›Â numsÂ ä¸­æ¯ä¸ªå…ƒç´ çš„ ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  ã€‚
> æ•°å­— xÂ çš„ ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´  æ˜¯æŒ‰æ•°ç»„éå†é¡ºåºï¼Œè¿™ä¸ªæ•°å­—ä¹‹åçš„ç¬¬ä¸€ä¸ªæ¯”å®ƒæ›´å¤§çš„æ•°ï¼Œè¿™æ„å‘³ç€ä½ åº”è¯¥å¾ªç¯åœ°æœç´¢å®ƒçš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡º -1Â ã€‚
> è¾“å…¥: nums = [1,2,1]   è¾“å‡º: [2,-1,2]
> è§£é‡Š: ç¬¬ä¸€ä¸ª 1 çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°æ˜¯ 2ï¼›
> æ•°å­— 2 æ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ï¼› 
> ç¬¬äºŒä¸ª 1 çš„ä¸‹ä¸€ä¸ªæœ€å¤§çš„æ•°éœ€è¦å¾ªç¯æœç´¢ï¼Œç»“æœä¹Ÿæ˜¯ 2ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/next-greater-element-ii](https://leetcode.cn/problems/next-greater-element-ii)

PSï¼šæ¨¡æ‹Ÿç¯å½¢éå†
```typescript
let index = 0
while (index < 20) {
  console.log(nums[index % n])
  index++
}
```
#### ä»£ç å®ç°
```typescript

function nextGreaterElements(nums: number[]): number[] {
  // Think for yourself for 5 minutes...
  const n: number = nums.length

  const result: number[] = Array(n).fill(0)

  const stack: number[] = []

  // æ•°ç»„é•¿åº¦åŠ å€æ¨¡æ‹Ÿç¯å½¢æ•°ç»„
  for (let i = 2 * n - 1; i >= 0; i--) {
    while (stack.length && stack[stack.length - 1] <= nums[i % n]) {
      stack.pop()
    }

    result[i % n] = stack.length === 0 ? -1 : stack[stack.length - 1]
    stack.push(nums[i % n])
  }

  return result
}
```
### æ¥é›¨æ°´
> ç»™å®š n ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º 1 çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚
> ![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1679234546916-d52f7298-3bb6-4b2d-8979-b706133573ec.png#averageHue=%23bfbfbf&clientId=uef0a2d68-7096-4&from=paste&height=81&id=uabec87d7&name=image.png&originHeight=161&originWidth=412&originalType=binary&ratio=2&rotation=0&showTitle=false&size=10776&status=done&style=none&taskId=u9f2b12e2-56ab-44fd-9c56-706d6a424d2&title=&width=206)
> è¾“å…¥ï¼šheight = [0,1,0,2,1,0,1,3,2,1,2,1]
> è¾“å‡ºï¼š6
> è§£é‡Šï¼šä¸Šé¢æ˜¯ç”±æ•°ç»„ [0,1,0,2,1,0,1,3,2,1,2,1] è¡¨ç¤ºçš„é«˜åº¦å›¾ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¥ 6 ä¸ªå•ä½çš„é›¨æ°´ï¼ˆè“è‰²éƒ¨åˆ†è¡¨ç¤ºé›¨æ°´ï¼‰ã€‚ 
> æ¥æºï¼š[https://leetcode.cn/problems/trapping-rain-water](https://leetcode.cn/problems/trapping-rain-water)

#### ä»£ç å®ç°
```typescript

/**
 * å•è°ƒæ ˆ
 * @param height
 */
function trap(height: number[]): number {
  let sum: number = 0

  const stack: number[] = []
  stack[0] = 0
  for (let i = 1; i < height.length; i++) {
    // æ ˆä¸ä¸ºç©ºï¼Œä¸”å½“å‰å…ƒç´ ï¼ˆå³å¢™ï¼‰æ¯”æ ˆé¡¶ï¼ˆå³å¢™çš„å·¦ä¾§ï¼‰å¤§ï¼šè¯´æ˜å½¢æˆå‡¹æ§½äº†
    while (stack.length && height[i] > height[stack[stack.length - 1]]) {
      // å‡¹æ§½å¤„å¼¹å‡ºï¼Œå°è¯•ç»“ç®—æ­¤ä½æ´¼å¤„èƒ½ç§¯æ”’çš„é›¨æ°´
      const bottom = stack[stack.length - 1]
      stack.pop()

      let bottomHeight = height[bottom] // å‡¹æ§½å¤„çš„é«˜åº¦
      let rightHeight = height[i] // å‡¹æ§½å³è¾¹çš„é«˜åº¦
      let leftHeight = height[stack[stack.length - 1]] // å‡¹æ§½å·¦è¾¹çš„é«˜åº¦

      if (stack.length) {
        // èƒ½ç§¯æ”’çš„æ°´=(å³å¢™ä½ç½®-å·¦å¢™ä½ç½®-1) * (min(å³å¢™é«˜åº¦, å·¦å¢™é«˜åº¦)-å‡¹æ§½å¤„é«˜åº¦)
        let height = Math.min(rightHeight, leftHeight) - bottomHeight
        let width = i - stack[stack.length - 1] - 1 // æ³¨æ„å‡ä¸€ï¼Œåªæ±‚ä¸­é—´å®½åº¦
        sum += height * width
      }
    }

    stack.push(i)
  }

  return sum
}
```
#### åŠ¨æ€è§„åˆ’
```typescript
/**
 * åŠ¨æ€è§„åˆ’
 * @param height
 * @returns
 */
function trap2(height: number[]): number {
  const n: number = height.length
  if (n <= 2) return 0

  // è®°å½•æ¯æ ¹æŸ±å­å·¦è¾¹çš„æœ€å¤§é«˜åº¦
  const maxLeft: number[] = Array(n).fill(0)
  maxLeft[0] = height[0]

  for (let i = 1; i < height.length; i++) {
    maxLeft[i] = Math.max(height[i], maxLeft[i - 1])
  }

  // è®°å½•æ¯æ ¹æŸ±å­å³è¾¹çš„æœ€å¤§é«˜åº¦
  const maxRight: number[] = Array(n).fill(0)
  maxRight[n - 1] = height[n - 1]

  for (let j = n - 2; j >= 0; j--) {
    maxRight[j] = Math.max(height[j], maxRight[j + 1])
  }

  let sum = 0

  for (let i = 0; i < n; i++) {
    let count = Math.min(maxLeft[i], maxRight[i]) - height[i]
    if (count > 0) sum += count
  }

  return sum
}
```
### æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢
> ç»™å®š _n_ ä¸ªéè´Ÿæ•´æ•°ï¼Œç”¨æ¥è¡¨ç¤ºæŸ±çŠ¶å›¾ä¸­å„ä¸ªæŸ±å­çš„é«˜åº¦ã€‚æ¯ä¸ªæŸ±å­å½¼æ­¤ç›¸é‚»ï¼Œä¸”å®½åº¦ä¸º 1 ã€‚
> æ±‚åœ¨è¯¥æŸ±çŠ¶å›¾ä¸­ï¼Œèƒ½å¤Ÿå‹¾å‹’å‡ºæ¥çš„çŸ©å½¢çš„æœ€å¤§é¢ç§¯ã€‚
> 
> ![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1679235275447-b40aee47-779c-4ae5-8084-5971cf539334.png#averageHue=%23f5eeee&clientId=uef0a2d68-7096-4&from=paste&height=242&id=u6678a9a0&name=image.png&originHeight=484&originWidth=1044&originalType=binary&ratio=2&rotation=0&showTitle=false&size=109235&status=done&style=none&taskId=u2b97a079-40c3-434c-8a3d-ea3df8d8000&title=&width=522)
> è¾“å…¥ï¼šheights = [2,1,5,6,2,3] è¾“å‡ºï¼š10 è§£é‡Šï¼šæœ€å¤§çš„çŸ©å½¢ä¸ºå›¾ä¸­çº¢è‰²åŒºåŸŸï¼Œé¢ç§¯ä¸º 10
> æ¥æºï¼š[https://leetcode.cn/problems/largest-rectangle-in-histogram/](https://leetcode.cn/problems/largest-rectangle-in-histogram/)

#### ä»£ç å®ç°
```typescript

/**
 * å•è°ƒé€’å‡æ ˆ
 * @param heights
 * @returns
 */
function largestRectangleArea(heights: number[]): number {
  // Think for yourself for 5 minutes...

  const stack: number[] = []

  heights.unshift(0)
  heights.push(0)

  let result: number = 0

  for (let i = 0; i < heights.length; i++) {
    while (stack.length && heights[i] < heights[stack[stack.length - 1]]) {
      const curr = stack[stack.length - 1]
      stack.pop()
      let left = stack[stack.length - 1] + 1
      let right = i - 1
      result = Math.max(result, (right - left + 1) * heights[curr])
    }

    stack.push(i)
  }

  return result
}
```
æ€è·¯åˆ†æ
ä»¥heights [2, 1, 5, 6, 2, 3]ä¸ºä¾‹ï¼Œå½“éå†åˆ°ç¬¬ä¸€ä¸ªå…ƒç´ (heights[0])æ—¶ï¼Œé«˜åº¦ä¸º2çš„æœ€å¤§é¢ç§¯è¿˜ä¸ç¡®å®šï¼Œå› æ­¤ç»§ç»­å¾€åéå†ï¼Œåˆ°ä¸‹ä¸€ä½heights[1]æ—¶ï¼Œæˆ‘ä»¬å‘ç°é«˜åº¦å˜å°äº†ï¼Œå› æ­¤å¯ä»¥æš‚æ—¶ç¡®å®šä¸‹æ¥é«˜åº¦ä¸º2çš„æœ€å¤§é¢ç§¯
å½“å†è¿›å…¥heights[2]æ—¶ï¼ŒåŒæ ·ï¼Œé«˜åº¦ä¸º5çš„æœ€å¤§é¢ç§¯ä¹Ÿä¸èƒ½ç¡®å®šï¼Œç»§ç»­å¾€åï¼Œåˆ°heights[3]æ—¶ï¼Œé«˜åº¦ä¸º6çš„æœ€å¤§é¢ç§¯ä¹Ÿä¸èƒ½ç¡®å®šï¼Œå†ç»§ç»­heights[4]ï¼Œæ­¤æ—¶heights[4]å°äºheights[3]äº†ï¼Œå› æ­¤å¯ä»¥ç¡®å®šé«˜åº¦ä¸º6çš„æœ€å¤§é¢ç§¯ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ç¡®å®šé«˜åº¦ä¸º5çš„æœ€å¤§é¢ç§¯ã€‚

ç»è¿‡ä¸Šè¿°æ¨å¯¼æœ€å¤§é¢ç§¯çš„è¿‡ç¨‹æˆ‘ä»¬å‘ç°ï¼Œiä½ç½®æ‰€åœ¨é«˜åº¦çš„æœ€å¤§é¢ç§¯æ˜¯éœ€è¦è¿›å…¥i+né¡¹ä¹‹å(å°†è¦å‘ˆé€’å‡)æ‰èƒ½ç¡®å®šè¿™ä¸ªä½ç½®çš„æœ€å¤§é«˜åº¦ï¼Œå› æ­¤èƒ½å¤Ÿç¡®å®šæŸä¸ªä½ç½®æŸ±å½¢å®½åº¦çš„é¡ºåºæ˜¯**ä»å³æ¨å¯¼å·¦ã€‚**

å› æ­¤éœ€è¦å¼•å…¥å•è°ƒæ ˆï¼Œç”¨ä»¥è®°å½•æŸä¸ªä½ç½®ä¹‹å‰çš„â€œè¾ƒä½â€çš„æŸ±å­(æ ˆ)ï¼Œå¦‚æœå½“å‰iä½ç½®çš„é«˜åº¦å°äºæ ˆçš„æœ€åä¸€ä½å…ƒç´ äº†(æ ˆé¡¶å…ƒç´ )ï¼Œé‚£ä¹ˆå°±éœ€è¦æ›´æ–°è¿™ä¸ªåŒºé—´çš„çŸ©å½¢é¢ç§¯å€¼äº†ã€‚
#### æš´åŠ›è§£æ³•
```typescript
/**
 * æš´åŠ›è§£æ³•
 * @param heights
 */
function largestRectangleArea(heights: number[]): number {
  // å¯¹äºæ¯ä¸€ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬å»æ±‚å®ƒå¯ä»¥å‘ä¸¤è¾¹å»¶ä¼¸ï¼Œæ‰¾åˆ°èƒ½å¤Ÿæ„æˆçŸ©å½¢çš„å·¦å³ä¸¤ç«¯ç‚¹
  // èƒ½æœ‰æ„æˆçŸ©å½¢çš„æ¡ä»¶æ—¶è¿™ä¸ªç‚¹æ˜¯>=å½“å‰ç‚¹çš„
  let n: number = heights.length
  if (n == 0) return 0
  let result: number = 0

  for (let i = 0; i < n; i++) {
    let left = i
    let currHeight = heights[i]

    // æ‰¾å½“å‰å…ƒç´ å·¦è¾¹æœ€å 1 ä¸ªå¤§äºç­‰äº heights[i] çš„ä¸‹æ ‡
    while (left > 0 && heights[left - 1] >= currHeight) {
      left--
    }

    // æ‰¾å½“å‰å…ƒç´ å³è¾¹æœ€å 1 ä¸ªå¤§äºç­‰äº heights[i] çš„ä¸‹æ ‡
    let right = i
    while (right < n - 1 && heights[right + 1] >= currHeight) {
      right++
    }

    let width = right - left + 1
    result = Math.max(result, width * currHeight)
  }

  return result
}
```
### æœ‰æ•ˆçš„æ‹¬å·
> ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ '('ï¼Œ')'ï¼Œ'{'ï¼Œ'}'ï¼Œ'['ï¼Œ']'Â çš„å­—ç¬¦ä¸² s ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚
> æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š
> å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚
> å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚
> æ¯ä¸ªå³æ‹¬å·éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç›¸åŒç±»å‹çš„å·¦æ‹¬å·ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/valid-parentheses](https://leetcode.cn/problems/valid-parentheses)

#### ä»£ç å®ç°
```typescript
function isValid(s: string): boolean {
	if (s.length % 2 != 0) return false
  const map = new Map()
  map.set('}', '{')
  map.set(')', '(')
  map.set(']', '[')
  let arr: string[] = s.split('')
  let stack: string[] = []
  while (arr.length) {
    const cur: string = arr.shift() as string
    if (['}', ')', ']'].includes(cur)) {
      const top = stack.pop()
      if (map.get(cur) != top) {
        return false
      }
    } else {
      stack.push(cur)
    }
  }
  return stack.length == 0
};
```
### æ‹¬å·çš„åˆ†æ•°
> ç»™å®šä¸€ä¸ªå¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²Â Sï¼ŒæŒ‰ä¸‹è¿°è§„åˆ™è®¡ç®—è¯¥å­—ç¬¦ä¸²çš„åˆ†æ•°ï¼š
> () å¾— 1 åˆ†ã€‚
> AB å¾—Â A + BÂ åˆ†ï¼Œå…¶ä¸­ A å’Œ B æ˜¯å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²ã€‚
> (A) å¾—Â 2 * AÂ åˆ†ï¼Œå…¶ä¸­ A æ˜¯å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²ã€‚
> è¾“å…¥ï¼š "(()(()))" è¾“å‡ºï¼š 6
> æ¥æºï¼š[https://leetcode.cn/problems/score-of-parentheses](https://leetcode.cn/problems/score-of-parentheses)

#### ä»£ç å®ç° 
```typescript
function scoreOfParentheses(s: string): number {
  // Think for yourself for 5 minutes...

  const stack: number[] = [0]

  for (let i = 0; i < s.length; i++) {
    if (s[i] === '(') {
      stack.push(0)
    } else {
      // å¦‚æœé‡åˆ°å³æ‹¬å·ï¼Œè¯´æ˜Açš„åˆ†æ•°è¢«è®¡ç®—å‡ºæ¥äº†ï¼Œå¦‚æœæ˜¯0ï¼Œè¯´æ˜å½“å‰å…ƒç´ çš„å‰ä¸€é¡¹æ˜¯ å·¦æ‹¬å·
      // å¦‚æœä¸æ˜¯0 è¯´æ˜å½“å‰å…ƒç´ çš„å‰ä¸€é¡¹ç›¸éš”äº†å…¶ä»–å­—ç¬¦ 2*våˆ†
      const v = stack.pop() as number
      let top = (stack.pop() as number) + Math.max(2 * v, 1)
      stack.push(top)
    }
  }

  return stack[0]
}
```
### ç§»é™¤Kä¸ºæ•°å­—
> ç»™ä½ ä¸€ä¸ªä»¥å­—ç¬¦ä¸²è¡¨ç¤ºçš„éè´Ÿæ•´æ•° num å’Œä¸€ä¸ªæ•´æ•° k ï¼Œç§»é™¤è¿™ä¸ªæ•°ä¸­çš„ k_ _ä½æ•°å­—ï¼Œä½¿å¾—å‰©ä¸‹çš„æ•°å­—æœ€å°ã€‚è¯·ä½ ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›è¿™ä¸ªæœ€å°çš„æ•°å­—ã€‚
> è¾“å…¥ï¼šnum = "1432219", k = 3 è¾“å‡ºï¼š"1219" è§£é‡Šï¼šç§»é™¤æ‰ä¸‰ä¸ªæ•°å­— 4, 3, å’Œ 2 å½¢æˆä¸€ä¸ªæ–°çš„æœ€å°çš„æ•°å­— 1219 ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/remove-k-digits/](https://leetcode.cn/problems/remove-k-digits/)

#### ä»£ç å®ç° 
```typescript
function removeKdigits(num: string, k: number): string {
  // Think for yourself for 5 minutes...
  // q1. å‰©ä½™ä¸ºç©ºè¿”å›â€œ0â€
  // q2.ä½¿å¾—å‰©ä¸‹çš„æ•°å­—æœ€å°
  const stk: string[] = []
  const n: number = num.length

  for (const digit of num) {
    // q1. å¦‚æœæ ˆé¡¶å †å…ƒç´ å¤§äºæ–°æ¥çš„å…ƒç´ å°±ä¸æ–­å»é™¤æ ˆé¡¶å †å…ƒç´ ï¼Œ
    while (stk.length > 0 && stk[stk.length - 1] > digit && k) {
      stk.pop()
      k -= 1
    }
    stk.push(digit)
  }

  console.log('stk', stk)
  // q2.å¦‚æœåˆ é™¤äº†mä¸ªæ•°å­—ï¼Œä¸”m<k,è¿™ç§æƒ…å†µéœ€è¦ä»åºåˆ—å°¾éƒ¨åˆ é™¤k-mä¸ªæ•°å­—
  // removeKdigits('12345264', 5) ä¼šèµ°åˆ°è¿™é‡Œ
  for (; k > 0; --k) {
    stk.pop()
  }

  console.log('stk', stk)

  let ans: string = ''

  let isLeadingZero: boolean = true

  for (const val of stk) {
    // é‡åˆ°0å°±è·³è¿‡
    if (isLeadingZero && val === '0') {
      continue
    }
    isLeadingZero = false
    ans += val
  }
  // å¼€å¤´æœ‰0ä¹Ÿå¯ä»¥è¿™æ ·å¤„ç†
  // return parseInt(stk.join('')) == 0 || stk.length == 0 ? '0' : String(parseInt(stk.join('')))
  return ans === '' ? '0' : ans
}
```
### æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„
> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œä½ éœ€è¦æ‰¾å‡ºä¸€ä¸ª è¿ç»­å­æ•°ç»„ ï¼Œå¦‚æœå¯¹è¿™ä¸ªå­æ•°ç»„è¿›è¡Œå‡åºæ’åºï¼Œé‚£ä¹ˆæ•´ä¸ªæ•°ç»„éƒ½ä¼šå˜ä¸ºå‡åºæ’åºã€‚
> è¯·ä½ æ‰¾å‡ºç¬¦åˆé¢˜æ„çš„ æœ€çŸ­ å­æ•°ç»„ï¼Œå¹¶è¾“å‡ºå®ƒçš„é•¿åº¦ã€‚
> è¾“å…¥ï¼šnums = [2,6,4,8,10,9,15]  è¾“å‡ºï¼š5
> è§£é‡Šï¼šä½ åªéœ€è¦å¯¹ [6, 4, 8, 10, 9] è¿›è¡Œå‡åºæ’åºï¼Œé‚£ä¹ˆæ•´ä¸ªè¡¨éƒ½ä¼šå˜ä¸ºå‡åºæ’åºã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/shortest-unsorted-continuous-subarray](https://leetcode.cn/problems/shortest-unsorted-continuous-subarray)

#### ä»£ç å®ç°
```typescript
function findUnsortedSubarray(nums: number[]): number {
  const stack: number[] = []
  let start: number = Infinity
  let end: number = -1
  let max: number = -Infinity

  for (let i = 0; i < nums.length; i++) {
    while (stack.length && nums[stack[stack.length - 1]] > nums[i]) {
      // ä¿å­˜å·²ç»å‘ç°çš„æœ€å¤§å€¼
      max = Math.max(max, nums[stack[1.length - 1]])

      const curr = stack.pop()
      // startåªèƒ½å‘å‰ç§»åŠ¨
      if (curr && curr < start) {
        start = curr
      }
    }
    if (nums[i] < max) end = i
    stack.push(i)
  }

  if (start > end) return 0
  return end - start + 1
}
```
#### åŒæŒ‡é’ˆ
[ç®—æ³•:åŒæŒ‡é’ˆ](https://www.yuque.com/vannvan/tools/ta0fig2nzk9vfwnm?view=doc_embed&inner=hV897)
### æ¯”è¾ƒå«é€€æ ¼çš„å­—ç¬¦ä¸²
> ç»™å®š s å’Œ t ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå½“å®ƒä»¬åˆ†åˆ«è¢«è¾“å…¥åˆ°ç©ºç™½çš„æ–‡æœ¬ç¼–è¾‘å™¨åï¼Œå¦‚æœä¸¤è€…ç›¸ç­‰ï¼Œè¿”å› true ã€‚# ä»£è¡¨é€€æ ¼å­—ç¬¦ã€‚
> æ³¨æ„ï¼šå¦‚æœå¯¹ç©ºæ–‡æœ¬è¾“å…¥é€€æ ¼å­—ç¬¦ï¼Œæ–‡æœ¬ç»§ç»­ä¸ºç©ºã€‚
> è¾“å…¥ï¼šs = "ab#c", t = "ad#c" è¾“å‡ºï¼štrue è§£é‡Šï¼šs å’Œ t éƒ½ä¼šå˜æˆ "ac"ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/backspace-string-compare](https://leetcode.cn/problems/backspace-string-compare)

#### ä»£ç å®ç°
```typescript
function backspaceCompare(s: string, t: string): boolean {
  // Think for yourself for 5 minutes...
  const stack1: string[] = []
  const stack2: string[] = []

  for (const s1 of s) {
    if (s1 === '#') {
      stack1.pop()
    } else {
      stack1.push(s1)
    }
  }

  for (const t1 of t) {
    if (t1 === '#') {
      stack2.pop()
    } else {
      stack2.push(t1)
    }
  }

  return stack1.join('') === stack2.join('')
}
```
### æ•´ç†å­—ç¬¦ä¸²
> ç»™ä½ ä¸€ä¸ªç”±å¤§å°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² s ã€‚
> ä¸€ä¸ªæ•´ç†å¥½çš„å­—ç¬¦ä¸²ä¸­ï¼Œä¸¤ä¸ªç›¸é‚»å­—ç¬¦ s[i] å’Œ s[i+1]ï¼Œå…¶ä¸­ 0<= i <= s.length-2 ï¼Œè¦æ»¡è¶³å¦‚ä¸‹æ¡ä»¶:
> è‹¥ s[i] æ˜¯å°å†™å­—ç¬¦ï¼Œåˆ™ s[i+1] ä¸å¯ä»¥æ˜¯ç›¸åŒçš„å¤§å†™å­—ç¬¦ã€‚
> è‹¥ s[i] æ˜¯å¤§å†™å­—ç¬¦ï¼Œåˆ™ s[i+1] ä¸å¯ä»¥æ˜¯ç›¸åŒçš„å°å†™å­—ç¬¦ã€‚
> è¯·ä½ å°†å­—ç¬¦ä¸²æ•´ç†å¥½ï¼Œæ¯æ¬¡ä½ éƒ½å¯ä»¥ä»å­—ç¬¦ä¸²ä¸­é€‰å‡ºæ»¡è¶³ä¸Šè¿°æ¡ä»¶çš„ ä¸¤ä¸ªç›¸é‚» å­—ç¬¦å¹¶åˆ é™¤ï¼Œç›´åˆ°å­—ç¬¦ä¸²æ•´ç†å¥½ä¸ºæ­¢ã€‚
> è¯·è¿”å›æ•´ç†å¥½çš„ å­—ç¬¦ä¸² ã€‚é¢˜ç›®ä¿è¯åœ¨ç»™å‡ºçš„çº¦æŸæ¡ä»¶ä¸‹ï¼Œæµ‹è¯•æ ·ä¾‹å¯¹åº”çš„ç­”æ¡ˆæ˜¯å”¯ä¸€çš„ã€‚
> è¾“å…¥ï¼šs = "leEeetcode"   è¾“å‡ºï¼š"leetcode"
> è§£é‡Šï¼šæ— è®ºä½ ç¬¬ä¸€æ¬¡é€‰çš„æ˜¯ i = 1 è¿˜æ˜¯ i = 2ï¼Œéƒ½ä¼šä½¿ "leEeetcode" ç¼©å‡ä¸º "leetcode" ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/make-the-string-great](https://leetcode.cn/problems/make-the-string-great)

#### ä»£ç å®ç°
```typescript
function makeGood(s: string): string {
  // Think for yourself for 5 minutes...
  // q1.è‹¥ s[i] æ˜¯å°å†™å­—ç¬¦ï¼Œåˆ™ s[i+1] ä¸å¯ä»¥æ˜¯ç›¸åŒçš„å¤§å†™å­—ç¬¦ã€‚
  // è‹¥ s[i] æ˜¯å¤§å†™å­—ç¬¦ï¼Œåˆ™ s[i+1] ä¸å¯ä»¥æ˜¯ç›¸åŒçš„å°å†™å­—ç¬¦ã€‚

  const stack: string[] = []

  for (const s1 of s) {
    const top = stack[stack.length - 1]
    if (stack.length && top && top != s1 && top.toUpperCase() === s1.toUpperCase()) {
      stack.pop()
    } else {
      stack.push(s1)
    }
  }

  return stack.join('')
}
```
### â­ï¸å»é™¤é‡å¤å­—æ¯
> ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·ä½ å»é™¤å­—ç¬¦ä¸²ä¸­é‡å¤çš„å­—æ¯ï¼Œä½¿å¾—æ¯ä¸ªå­—æ¯åªå‡ºç°ä¸€æ¬¡ã€‚éœ€ä¿è¯ **è¿”å›ç»“æœçš„å­—å…¸åºæœ€å°**ï¼ˆè¦æ±‚ä¸èƒ½æ‰“ä¹±å…¶ä»–å­—ç¬¦çš„ç›¸å¯¹ä½ç½®ï¼‰ã€‚
> è¾“å…¥ï¼šs = "bcabc" è¾“å‡ºï¼š"abc"
æ¥æºï¼š[https://leetcode.cn/problems/remove-duplicate-letters/](https://leetcode.cn/problems/remove-duplicate-letters/)

PS:
#### ä»£ç å®ç°
```typescript
function removeDuplicateLetters(s: string): string {
  // Think for yourself for 5 minutes...
  // q1. è¦å»é‡
  // q2. ä¸èƒ½æ‰“ä¹±ç›¸å¯¹é¡ºåº
  // q3. å­—å…¸åºæœ€å°

  const count = {}
  
  for (let i = 0; i < s.length; i++) {
    count[s[i]] = count[s[i]] ? count[s[i]] + 1 : 1
  }

  const inStack = {}

  const stack: string[] = []

  for (const c of s) {
    count[c]--
    // å½“æ ˆé‡Œé¢æœ‰å½“å‰è¿™ä¸ªå­—ç¬¦ï¼Œå°±ç»•è¿‡
    if (inStack[c]) continue
    // console.log('æ­¤æ—¶æ ˆé‡Œçš„å…ƒç´ ä¸º:', stack)
    while (stack.length && stack[stack.length - 1] > c) {
      // è‹¥ä¹‹åä¸å­˜åœ¨æ ˆé¡¶å…ƒç´ äº†ï¼Œåˆ™åœæ­¢ pop,å› ä¸ºè¿™æ—¶å€™countå¯¹åº”çš„è¿™ä¸ªå­—ç¬¦éƒ½ç”¨å®Œäº†,åé¢å†ä¹Ÿæ²¡æœ‰è¿™ä¸ªå­—ç¬¦äº†ï¼Œ
      // æ ˆé‡Œé¢ä¸å­˜åœ¨é‡å¤å…ƒç´ 
      if (count[stack[stack.length - 1]] == 0) {
        // console.log('å‰©ä¸‹çš„å…ƒç´ :', stack)
        break
      }
      // console.log('æ­¤æ—¶å°†è¦å¼¹å‡ºçš„å…ƒç´ :', stack[stack.length - 1])
      inStack[stack.pop() as any] = false // å‡ºæ ˆäº†æ‰“ä¸Šæ ‡è®°
    }
    // è‹¥ä¹‹åä¸å­˜åœ¨æ ˆé¡¶å…ƒç´ äº†ï¼Œåˆ™åœæ­¢ pop);
    stack.push(c)
    inStack[c] = true // å…¥æ ˆäº†æ‰“ä¸Šæ ‡è®°
  }

  // console.log('stack', stack)

  return stack.join('')
}
```
æ€è·¯åˆ†æ
ä»¥cbacdcbcä¸ºä¾‹ï¼Œå½“ç¬¬ä¸€ä¸ªcå…¥æ ˆåï¼Œåœ¨bå…¥æ ˆæ—¶æ ˆé‡Œæœ‰å…ƒç´ ï¼Œä½†b<cï¼Œå› æ­¤bå…¥æ ˆï¼Œcå‡ºæ ˆï¼ŒåŒç†b->aä¹Ÿæ˜¯ä¸€æ ·ï¼Œä¾æ¬¡åˆ°cæ—¶ï¼Œæ ˆé‡Œå…ƒç´ ä¸ºaï¼Œwhileä¸æˆç«‹ï¼Œæ ˆé‡Œå…ƒç´ æ­¤æ—¶æœ‰[a,c]
å½“då…¥æ ˆåï¼Œcå†å…¥æ ˆï¼Œæ­¤æ—¶æ ˆé‡Œå·²ç»æœ‰cäº†ï¼Œç»•è¿‡å®ƒ


## å•è°ƒæ ˆ
### æ¨¡ç‰ˆğŸ‘†(å¯¹åº”å€’ç€æ‰«æ)
ä¾‹å¦‚ï¼Œä¸€ä¸ªæ•°ç»„nums = [2,1,2,4,3]ï¼Œè¿”å›æ•°ç»„ [4,2,4,-1,-1]ï¼Œå«ä¹‰æ˜¯æ¯ä¸€ä½æ•°å­—åé¢æ¯”ä»–å¤§çš„æ•°å­—
```typescript
const nextGreaterElement = function(nums) {
    const n = nums.length;
    // å­˜æ”¾ç­”æ¡ˆçš„æ•°ç»„
    const res = new Array(n).fill(0);
    const stack = []; 
    // å€’ç€å¾€æ ˆé‡Œæ”¾
    for (var i = n - 1; i >= 0; i--) { // å€’ç€å…¥æ ˆ
        // åˆ¤å®šä¸ªå­é«˜çŸ®
        while (stack.length && stack[stack.length - 1] <= nums[i]) {
            // çŸ®ä¸ªèµ·å¼€ï¼Œåæ­£ä¹Ÿè¢«æŒ¡ç€äº†ã€‚ã€‚ã€‚
            stack.pop();
        }
        // nums[i] èº«åçš„æ›´å¤§å…ƒç´ 
        res[i] = stack.length ? stack[stack.length - 1] : -1;
        stack.push(nums[i]);
    }
    return res;
};
```
![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1679218850374-d4f6eacc-ff34-4625-8030-c6b9a52829ae.png#averageHue=%23fbfaf6&clientId=ucd60b85c-53e4-4&from=paste&height=305&id=uf4888b21&name=image.png&originHeight=862&originWidth=1696&originalType=binary&ratio=1&rotation=0&showTitle=false&size=515641&status=done&style=none&taskId=u5cff84c8-5a92-4e14-a0bd-eac99d24f36&title=&width=600)
### å•è°ƒæ ˆå¥—è·¯æ€»ç»“

1. æ‰¾åˆ°æ¯ä¸ªå…ƒç´ å·¦è¾¹/å³è¾¹æœ€è¿‘çš„æ¯”å®ƒå¤§/å°çš„å…ƒç´ 

è¿™ç§é—®é¢˜é€šå¸¸å¯ä»¥ç”¨å•è°ƒæ ˆæ¥è§£å†³ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ ˆæ¥ä¿å­˜å…ƒç´ ï¼Œæ ˆä¸­å…ƒç´ ä¿æŒå•è°ƒé€’å¢æˆ–å•è°ƒé€’å‡ã€‚å½“æˆ‘ä»¬éå†åˆ°ä¸€ä¸ªæ–°å…ƒç´ æ—¶ï¼Œå¦‚æœå®ƒæ¯”æ ˆé¡¶å…ƒç´ å¤§ï¼ˆæˆ–å°ï¼‰ï¼Œåˆ™å¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼Œå¹¶è®°å½•æ ˆé¡¶å…ƒç´ çš„ç­”æ¡ˆã€‚ç„¶åå°†æ–°å…ƒç´ å‹å…¥æ ˆä¸­ã€‚æœ€åæ ˆä¸­å‰©ä½™çš„å…ƒç´ æ²¡æœ‰æ‰¾åˆ°æ¯”å®ƒä»¬å¤§ï¼ˆæˆ–å°ï¼‰çš„å…ƒç´ ï¼Œå®ƒä»¬çš„ç­”æ¡ˆå¯ä»¥è®¾ç½®ä¸ºç‰¹å®šçš„å€¼ï¼ˆä¾‹å¦‚ -1ï¼‰ã€‚

2. è®¡ç®—æ¯ä¸ªå…ƒç´ çš„ä¸€äº›ç›¸å…³ä¿¡æ¯

æœ‰äº›é—®é¢˜éœ€è¦è®¡ç®—æ¯ä¸ªå…ƒç´ çš„ä¸€äº›ç›¸å…³ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šæœ€å¤§å­æ®µå’Œã€æŸ±çŠ¶å›¾ä¸­çš„æœ€å¤§çŸ©å½¢é¢ç§¯ç­‰ã€‚å¯¹äºè¿™ç§é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å•è°ƒæ ˆæ¥ä»å·¦å¾€å³éå†æ¯ä¸ªå…ƒç´ ï¼Œè®¡ç®—å®ƒä»¬çš„ä¿¡æ¯ã€‚æ­¤æ—¶æ ˆä¸­ä¿å­˜çš„æ˜¯**æœªå¤„ç†å…ƒç´ çš„ä¸‹æ ‡**ã€‚æ¯å½“éå†ä¸€ä¸ªæ–°å…ƒç´ æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†æ ˆä¸­æ‰€æœ‰æ¯”å®ƒå°çš„å…ƒç´ å¼¹å‡ºï¼Œå¹¶è®¡ç®—å®ƒä»¬çš„ç›¸å…³ä¿¡æ¯ï¼ŒåŒæ—¶æ›´æ–°ç­”æ¡ˆã€‚ç„¶åå°†æ–°å…ƒç´ å‹å…¥æ ˆä¸­ï¼Œç»§ç»­éå†ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚

3. æ‰¾åˆ°æ»¡è¶³æŸäº›é™åˆ¶æ¡ä»¶çš„å­æ•°ç»„

æœ‰äº›é—®é¢˜è¦æ±‚æ‰¾åˆ°æ»¡è¶³æŸäº›é™åˆ¶æ¡ä»¶çš„å­æ•°ç»„ï¼Œä¾‹å¦‚ï¼šå’Œä¸ºå®šå€¼çš„å­æ•°ç»„ã€æœ€é•¿è¿ç»­é€’å¢å­æ•°ç»„ç­‰ç­‰ã€‚è¿™ç§é—®é¢˜é€šå¸¸å¯ä»¥ç”¨å•è°ƒæ ˆå’Œå‰ç¼€å’Œ/å·®åˆ†æ•°ç»„æ¥è§£å†³ã€‚æˆ‘ä»¬é¦–å…ˆè®¡ç®—å‡ºå‰ç¼€å’Œ/å·®åˆ†æ•°ç»„ï¼Œå¹¶ä½¿ç”¨å•è°ƒæ ˆä»å·¦å¾€å³éå†æ¯ä¸ªå…ƒç´ ã€‚å½“éå†åˆ°å…ƒç´  i æ—¶ï¼Œæˆ‘ä»¬å°†å…¶å‰ç¼€å’Œ/å·®åˆ†å€¼åŠ å…¥å•è°ƒæ ˆä¸­ã€‚å¦‚æœå½“å‰æ ˆä¸­å…ƒç´ ä¹‹é—´çš„å·®å€¼æ»¡è¶³é™åˆ¶æ¡ä»¶ï¼Œå°±æ›´æ–°ç­”æ¡ˆã€‚ç„¶åç»§ç»­éå†ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚


## èµ„æ–™

- 
- 
- 
