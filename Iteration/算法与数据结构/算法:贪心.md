# ç®—æ³•:è´ªå¿ƒ 
## ç‰¹å¾
è´ªå¿ƒç®—æ³•éµå¾ªä¸€ç§è¿‘ä¼¼è§£å†³é—®é¢˜çš„æŠ€æœ¯ï¼ŒæœŸç›¼é€šè¿‡æ¯ä¸ªé˜¶æ®µçš„å±€éƒ¨æœ€ä¼˜é€‰æ‹©ï¼ˆå½“å‰æœ€å¥½çš„è§£ï¼‰ï¼Œä»è€Œè¾¾åˆ°å…¨å±€çš„æœ€ä¼˜ï¼ˆå…¨å±€æœ€ä¼˜è§£ï¼‰ã€‚å®ƒä¸åƒåŠ¨æ€è§„åˆ’ç®—æ³•é‚£æ ·è®¡ç®—æ›´å¤§çš„æ ¼å±€ã€‚
## è´ªå¿ƒçš„æœ¬è´¨

1. è´ªå¿ƒé€‰æ‹©æ€§è´¨ã€‚æŒ‡åŸé—®é¢˜çš„æ•´ä½“æœ€ä¼˜è§£å¯ä»¥é€šè¿‡ä¸€ç³»åˆ—å±€éƒ¨æœ€ä¼˜çš„é€‰æ‹©å¾—åˆ°ã€‚åº”ç”¨åŒä¸€è§„åˆ™ï¼Œå°†åŸé—®é¢˜å˜ä¸ºä¸€ä¸ªç›¸ä¼¼çš„ã€ä½†è§„æ¨¡æ›´å°çš„å­é—®é¢˜ï¼Œ**è€Œåçš„æ¯ä¸€æ­¥éƒ½æ˜¯å½“å‰æœ€ä¼˜**çš„é€‰æ‹©ã€‚

ï¼ˆä¾‹å¦‚åœ¨æ¶‰åŠéƒ¨åˆ†â€œæœ€å°‘â€/â€œæœ€å¤šâ€çš„é—®é¢˜ä¸­ï¼Œä¸€èˆ¬åœ¨å¾ªç¯éå†ä¸­å‡å®šå½“å‰å€¼å°±æ˜¯é‚£ä¸ªæœ€å€¼ï¼Œç„¶åä¸æ–­æ›´æ–°ï¼‰

2. æœ€ä¼˜å­ç»“æ„æ€§è´¨ã€‚å½“ä¸€ä¸ªé—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£æ—¶ï¼Œç§°æ­¤é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„æ€§è´¨ã€‚

![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1678435639068-0487a56b-f29c-4b00-80e6-3a81c8b450dd.png#averageHue=%23fefefc&clientId=u534ee4df-dd47-4&from=paste&height=199&id=u28357ec0&name=image.png&originHeight=524&originWidth=1580&originalType=binary&ratio=2&rotation=0&showTitle=false&size=253558&status=done&style=none&taskId=u08a17e09-f01f-4422-ae25-aead3aa3664&title=&width=600)

## ä¾‹é¢˜
### æœ€å°‘ç¡¬å¸æ‰¾é›¶
å¤§éƒ¨åˆ†æƒ…å†µä¸‹çš„ç»“æœæ˜¯æœ€ä¼˜çš„ï¼Œä¸è¿‡å¯¹æœ‰äº›é¢é¢è€Œè¨€ï¼Œç»“æœä¸ä¼šæ˜¯æœ€ä¼˜çš„ã€‚
#### ä»£ç å®ç°
```javascript
/**
 * eg:[1, 2, 5, 10, 20], 36
 * @param coins ç¡¬å¸æ•°ç»„
 * @param amount é‡‘é¢
 */
const minCoinChange2 = (coins: number[], amount: number) => {
  const change: number[] = []
  let total = 0
  for (let i = coins.length; i >= 0; i--) {
    const coin = coins[i]
    while (total + coin <= amount) {
      change.push(coin)
      total += coin
    }
  }
  return change  // [20, 10, 5, 1]
}

```
æ¯”èµ·åŠ¨æ€è§„åˆ’ç®—æ³•è€Œè¨€ï¼Œè´ªå¿ƒç®—æ³•æ›´ç®€å•ã€æ›´å¿«ã€‚ç„¶è€Œï¼Œå¦‚æˆ‘ä»¬æ‰€è§ï¼Œå®ƒå¹¶ä¸æ€»æ˜¯å¾—åˆ°æœ€ä¼˜ç­”æ¡ˆã€‚
ç„¶è€Œï¼Œå¦‚æœç”¨[1, 3, 4]é¢é¢æ‰§è¡Œè´ªå¿ƒç®—æ³•ï¼Œä¼šå¾—åˆ°ç»“æœ[4, 1, 1]ã€‚å¦‚æœç”¨åŠ¨æ€è§„åˆ’çš„è§£æ³•ï¼Œä¼šå¾—åˆ°æœ€ä¼˜çš„ç»“æœ[3, 3]ã€‚
åœ¨æ‰¾é›¶è¿™ç±»é—®é¢˜ä¸­ï¼Œå½“å¸ç§é—´éš”è¶Šå¤§ï¼Œç®—æ³•çš„æ•ˆç‡å’Œå‡†ç¡®æ€§å°±è¶Šé«˜ï¼Œåä¹‹é‡‡ç”¨åŠ¨æ€è§„åˆ’æ‰æ˜¯æ›´é€‚åˆçš„æ‰¾å¯»æœ€ä¼˜è§£çš„æ–¹æ¡ˆã€‚
### è·³è·ƒæ¸¸æˆ
> ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ nums ï¼Œä½ æœ€åˆä½äºæ•°ç»„çš„ **ç¬¬ä¸€ä¸ªä¸‹æ ‡** ã€‚
> æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä»£è¡¨ä½ åœ¨è¯¥ä½ç½®å¯ä»¥è·³è·ƒçš„æœ€å¤§é•¿åº¦ã€‚
> åˆ¤æ–­ä½ æ˜¯å¦èƒ½å¤Ÿåˆ°è¾¾æœ€åä¸€ä¸ªä¸‹æ ‡ã€‚
> è¾“å…¥ï¼šnums = [2,3,1,1,4] è¾“å‡ºï¼štrue è§£é‡Šï¼šå¯ä»¥å…ˆè·³ 1 æ­¥ï¼Œä»ä¸‹æ ‡ 0 åˆ°è¾¾ä¸‹æ ‡ 1, ç„¶åå†ä»ä¸‹æ ‡ 1 è·³ 3 æ­¥åˆ°è¾¾æœ€åä¸€ä¸ªä¸‹æ ‡ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/jump-game/](https://leetcode.cn/problems/jump-game/)

#### ä»£ç å®ç°
```typescript
function canJump(nums: number[]): boolean {
  // Think for yourself for 5 minutes...

  let furthest: number = 0 // è®°å½•æ¯ä¸€æ­¥æœ€è¿œçš„è·ç¦»

  for (let i = 0; i < nums.length - 1; i++) {
    // å½“å‰ç´¢å¼•i+å½“å‰å¯ä»¥è·³çš„æ­¥æ•°num[i] å°±æ˜¯å½“å‰ä½ç½®å¯ä»¥è·³çš„æœ€è¿œçš„ä½ç½®
    furthest = Math.max(furthest, i + nums[i])
    if (furthest <= i) {
      // è·³ä¸åŠ¨äº†
      return false
    }
  }
  console.log('furthest', furthest)
  return furthest >= nums.length - 1
}
```
###  è·³è·ƒæ¸¸æˆ II
> ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„ 0 ç´¢å¼•æ•´æ•°æ•°ç»„ numsã€‚åˆå§‹ä½ç½®ä¸º nums[0]ã€‚
> æ¯ä¸ªå…ƒç´  nums[i] è¡¨ç¤ºä»ç´¢å¼• i å‘å‰è·³è½¬çš„æœ€å¤§é•¿åº¦ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœä½ åœ¨ nums[i] å¤„ï¼Œä½ å¯ä»¥è·³è½¬åˆ°ä»»æ„ nums[i + j] å¤„:
> 0 <= j <= nums[i]Â 
> i + j < n
> è¿”å›åˆ°è¾¾Â nums[n - 1] çš„**æœ€å°è·³è·ƒæ¬¡æ•°**ã€‚ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹å¯ä»¥åˆ°è¾¾ nums[n - 1]ã€‚
> è¾“å…¥: nums = [2,3,1,1,4]  è¾“å‡º: 2
> è§£é‡Š: è·³åˆ°æœ€åä¸€ä¸ªä½ç½®çš„æœ€å°è·³è·ƒæ•°æ˜¯ 2ã€‚ä»ä¸‹æ ‡ä¸º 0 è·³åˆ°ä¸‹æ ‡ä¸º 1 çš„ä½ç½®ï¼Œè·³Â 1Â æ­¥ï¼Œç„¶åè·³Â 3Â æ­¥åˆ°è¾¾æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/jump-game-ii](https://leetcode.cn/problems/jump-game-ii)

#### ä»£ç å®ç°1
```javascript
/**
 * åå‘æ‰¾åˆ°å‡ºå‘ä½ç½®
 * @param nums
 * @returns
 */
function jump(nums: number[]): number {
  // Think for yourself for 5 minutes...
  let minSteps: number = 0
  let position = nums.length - 1
  while (position > 0) {
    for (let i = 0; i < position; i++) {
      // è¯´æ˜å½“å‰ä½ç½®ç›´æ¥è·³ä¸åˆ°,ä¸‹ä¸€æ­¥è¦ä»å½“å‰ä½ç½®å‡ºå‘
      if (i + nums[i] >= position) {
        minSteps += 1
        position = i
        break
      }
    }
  }

  return minSteps
}
```
#### ä»£ç å®ç°2
```javascript

/**
 * æ­£å‘æ‰¾ å¯ä»¥è·³æœ€å¤§ä¸€æ­¥çš„ä½ç½®
 * @param nums
 * @returns
 */
function jump(nums: number[]): number {
  
  let minSteps: number = 0

  let end = 0
  let maxPosition = 0
  for (let i = 0; i < nums.length - 1; i++) {
    maxPosition = Math.max(maxPosition, i + nums[i])
    if (i === end) {
      end = maxPosition
      minSteps++
    }
  }

  return minSteps
}
```
![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1678374596747-518f6165-6ddc-437b-962e-fcfad7f9a6b9.png#averageHue=%23faf8f8&clientId=u4ed4ea98-64f7-4&from=paste&height=361&id=ub34ca2f9&name=image.png&originHeight=864&originWidth=1438&originalType=binary&ratio=2&rotation=0&showTitle=false&size=216130&status=done&style=none&taskId=u5106f664-4341-49ed-aa6d-94aa11ac68e&title=&width=600)
### åˆ†å‘é¥¼å¹²
> å‡è®¾ä½ æ˜¯ä¸€ä½å¾ˆæ£’çš„å®¶é•¿ï¼Œæƒ³è¦ç»™ä½ çš„å­©å­ä»¬ä¸€äº›å°é¥¼å¹²ã€‚ä½†æ˜¯ï¼Œæ¯ä¸ªå­©å­æœ€å¤šåªèƒ½ç»™ä¸€å—é¥¼å¹²ã€‚
> å¯¹æ¯ä¸ªå­©å­ iï¼Œéƒ½æœ‰ä¸€ä¸ªèƒƒå£å€¼Â g[i]ï¼Œè¿™æ˜¯èƒ½è®©å­©å­ä»¬æ»¡è¶³èƒƒå£çš„é¥¼å¹²çš„æœ€å°å°ºå¯¸ï¼›å¹¶ä¸”æ¯å—é¥¼å¹² jï¼Œéƒ½æœ‰ä¸€ä¸ªå°ºå¯¸ s[j]Â ã€‚å¦‚æœ s[j]Â >= g[i]ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªé¥¼å¹² j åˆ†é…ç»™å­©å­ i ï¼Œè¿™ä¸ªå­©å­ä¼šå¾—åˆ°æ»¡è¶³ã€‚ä½ çš„ç›®æ ‡æ˜¯å°½å¯èƒ½æ»¡è¶³è¶Šå¤šæ•°é‡çš„å­©å­ï¼Œå¹¶è¾“å‡ºè¿™ä¸ªæœ€å¤§æ•°å€¼ã€‚
> è¾“å…¥: g = [1,2,3], s = [1,1]  è¾“å‡º: 1
> è§£é‡Š: 
> ä½ æœ‰ä¸‰ä¸ªå­©å­å’Œä¸¤å—å°é¥¼å¹²ï¼Œ3ä¸ªå­©å­çš„èƒƒå£å€¼åˆ†åˆ«æ˜¯ï¼š1,2,3ã€‚
> è™½ç„¶ä½ æœ‰ä¸¤å—å°é¥¼å¹²ï¼Œç”±äºä»–ä»¬çš„å°ºå¯¸éƒ½æ˜¯1ï¼Œä½ åªèƒ½è®©èƒƒå£å€¼æ˜¯1çš„å­©å­æ»¡è¶³ã€‚
> æ‰€ä»¥ä½ åº”è¯¥è¾“å‡º1ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/assign-cookies](https://leetcode.cn/problems/assign-cookies)

#### ä»£ç å®ç°
```typescript
/**
 * å…ˆæ»¡è¶³å¤§èƒƒå£çš„æ€è·¯ï¼Œ->>> ä¹Ÿå¯ä»¥å…ˆæ»¡è¶³å°èƒƒå£
 * @param g
 * @param s
 * @returns
 */
function findContentChildren(g: number[], s: number[]): number {
  let count: number = 0

  g.sort((a, b) => a - b)
  s.sort((a, b) => a - b)

  let maxIndex = s.length - 1

  for (let i = g.length - 1; i >= 0; i--) { // å€’åº
    if (maxIndex >= 0 && s[maxIndex] >= g[i]) {
      count++
      maxIndex--
    }
  }

  return count
}
```
### åˆ†å‘ç³–æœ
> n ä¸ªå­©å­ç«™æˆä¸€æ’ã€‚ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ ratings è¡¨ç¤ºæ¯ä¸ªå­©å­çš„è¯„åˆ†ã€‚
> ä½ éœ€è¦æŒ‰ç…§ä»¥ä¸‹è¦æ±‚ï¼Œç»™è¿™äº›å­©å­åˆ†å‘ç³–æœï¼š
> æ¯ä¸ªå­©å­è‡³å°‘åˆ†é…åˆ° 1 ä¸ªç³–æœã€‚
> ç›¸é‚»ä¸¤ä¸ªå­©å­è¯„åˆ†æ›´é«˜çš„å­©å­ä¼šè·å¾—æ›´å¤šçš„ç³–æœã€‚
> è¯·ä½ ç»™æ¯ä¸ªå­©å­åˆ†å‘ç³–æœï¼Œè®¡ç®—å¹¶è¿”å›éœ€è¦å‡†å¤‡çš„ æœ€å°‘ç³–æœæ•°ç›® ã€‚
> è¾“å…¥ï¼šratings = [1,0,2]   è¾“å‡ºï¼š5   è§£é‡Šï¼šä½ å¯ä»¥åˆ†åˆ«ç»™ç¬¬ä¸€ä¸ªã€ç¬¬äºŒä¸ªã€ç¬¬ä¸‰ä¸ªå­©å­åˆ†å‘ 2ã€1ã€2 é¢—ç³–æœã€‚ 
> æ¥æºï¼š[https://leetcode.cn/problems/candy](https://leetcode.cn/problems/candy)

#### ä»£ç å®ç°
```typescript
// å½“é‡åˆ°ä¸¤ä¸ªç»´åº¦çš„æ¡ä»¶æ—¶ï¼Œä¸€å®šæ˜¯åˆ†ä¸¤æ­¥å»å®ç°
function candy(ratings: number[]): number {
  const solution: number[] = new Array(ratings.length).fill(1)
  // ä»å‰å¾€å
  for (let i = 1; i < ratings.length; i++) {
    // å½“å‰å­©å­è¯„åˆ†é«˜äºå‰ä¸€ä¸ªå­©å­ï¼Œå½“å‰å­©å­å°±æ¯”å‰ä¸€ä¸ªå­©å­å¤šä¸€ä¸ªç³–æœ
    if (ratings[i] > ratings[i - 1]) {
      solution[i] = solution[i - 1] + 1
    }
  }

  // ä»åå¾€å‰
  for (let i = ratings.length - 1; i >= 0; i--) {
    // å½“å‰å­©å­è¯„åˆ†é«˜äºåä¸€ä¸ªå­©å­ï¼Œæ¯”è¾ƒå½“å‰å­©å­ç›¸æ¯”å‰é¢çš„å¤šä¸ªå­©å­å’Œåé¢ä¸€ä¸ªå­©å­é‚£ç§å¯ä»¥è·å¾—æ›´å¤š
    if (ratings[i] > ratings[i + 1]) {
      solution[i] = Math.max(solution[i], solution[i + 1] + 1)
    }
  }

  return solution.reduce((prev, curr) => prev + curr)
}
```
#### å¦ä¸€ä¸ªç‰ˆæœ¬
```typescript
function candy(ratings: number[]): number {
  const n = ratings.length

  let res: number = 1 // ä»¥æœ€å°‘çš„å¼€å§‹è®¡æ•°ï¼Œç¬¬ä¸€ä¸ªåŒå­¦å°±æ˜¯1ä¸ªäº†ï¼Œå› æ­¤ä¸‹é¢iä»1å¼€å§‹
  let inc: number = 1 // é€’å¢åºåˆ—é•¿åº¦
  let dec: number = 0 // é€’å‡åºåˆ—é•¿åº¦
  let pre: number = 1

  for (let i = 1; i < n; i++) {
    // è¯´æ˜å‘ˆé€’å¢
    if (ratings[i] >= ratings[i - 1]) {
      dec = 0
      pre = ratings[i] == ratings[i - 1] ? 1 : pre + 1
      res += pre
      inc = pre
    } else {
      dec++ // é€’å‡
      if (dec == inc) {
        dec++
      }
      res += dec
      pre = 1
    }
  }

  return res
}
```
### æ‘†åŠ¨åºåˆ—
> å¦‚æœè¿ç»­æ•°å­—ä¹‹é—´çš„**å·®ä¸¥æ ¼åœ°åœ¨æ­£æ•°å’Œè´Ÿæ•°ä¹‹é—´äº¤æ›¿**ï¼Œåˆ™æ•°å­—åºåˆ—ç§°ä¸º æ‘†åŠ¨åºåˆ— ã€‚ç¬¬ä¸€ä¸ªå·®ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰å¯èƒ½æ˜¯æ­£æ•°æˆ–è´Ÿæ•°ã€‚ä»…æœ‰ä¸€ä¸ªå…ƒç´ æˆ–è€…å«ä¸¤ä¸ªä¸ç­‰å…ƒç´ çš„åºåˆ—ä¹Ÿè§†ä½œæ‘†åŠ¨åºåˆ—ã€‚
> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œè¿”å› nums ä¸­ä½œä¸º **æ‘†åŠ¨åºåˆ— **çš„ **æœ€é•¿å­åºåˆ—çš„é•¿åº¦** ã€‚
> è¾“å…¥ï¼šnums = [1,7,4,9,2,5] è¾“å‡ºï¼š6 è§£é‡Šï¼šæ•´ä¸ªåºåˆ—å‡ä¸ºæ‘†åŠ¨åºåˆ—ï¼Œå„å…ƒç´ ä¹‹é—´çš„å·®å€¼ä¸º (6, -3, 5, -7, 3) ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/wiggle-subsequence](https://leetcode.cn/problems/wiggle-subsequence)

#### ä»£ç å®ç°
```typescript
/**
* è®°å½•ä¸Šä¸€æ¬¡å·®å€¼å’Œå½“å‰å·®å€¼ï¼Œå½“å‰åå·®å€¼æ­£è´Ÿä¸åŒæ—¶å°±æ›´æ–°ä¸Šä¸€æ¬¡å·®å€¼ï¼Œç„¶åè®¡æ•°
*/
function wiggleMaxLength(nums: number[]): number {
  // Think for yourself for 5 minutes...
  if (nums.length <= 1) return nums.length

  let count: number = 1

  let curDiff = 0 
  let preDiff = 0
  // curDiffå’ŒpreDiffä¼šåœ¨æ­£è´Ÿæ•°ä¹‹é—´äº¤æ›¿å˜æ¢
  for (let i = 0; i < nums.length; i++) {
    curDiff = nums[i + 1] - nums[i]
    // å‡ºç°å³°å€¼,æ‹ç‚¹
    if ((preDiff <= 0 && curDiff > 0) || (preDiff >= 0 && curDiff < 0)) {
      count++
      preDiff = curDiff
    }
  }

  return count
}
```

æ€è·¯åˆ†æ

1. æƒ…å†µä¸€ï¼šä¸Šä¸‹å¡ä¸­æœ‰å¹³å¡
2. æƒ…å†µäºŒï¼šæ•°ç»„é¦–å°¾ä¸¤ç«¯ (åªæœ‰ä¸¤ä¸ªæ•°å­—çš„æƒ…å†µ)
3. æƒ…å†µä¸‰ï¼šå•è°ƒå¡ä¸­æœ‰å¹³å¡
#### åŠ¨æ€è§„åˆ’ç‰ˆ
```typescript

/**
 * åŠ¨æ€è§„åˆ’ O(n^2)
 * dp[i][0] è¡¨ç¤ºä»¥iä½ç½®ç»“å°¾çš„åŒºé—´å†…å‡ºç°å±±è°·çš„æ¬¡æ•°
 * dp[i][1] è¡¨ç¤ºä»¥iä½ç½®ç»“å°¾çš„åŒºé—´å†…å‡ºç°å±±å³°çš„æ¬¡æ•°
 * @param nums
 */
function wiggleMaxLength(nums: number[]): number {
  const n = nums.length
  const dp: number[][] = new Array(n).fill(0).map(() => new Array(n).fill(0))

  for (let i = 1; i < nums.length; i++) {
    dp[0][0] = 1
    dp[0][1] = 1

    // å±±è°·
    for (let j = 0; j < i; j++) {
      if (nums[j] > nums[i]) {
        dp[i][1] = Math.max(dp[i][1], dp[j][0] + 1)
      }
    }

    // å±±å³°
    for (let j = 0; j < i; j++) {
      if (nums[j] < nums[i]) {
        dp[i][0] = Math.max(dp[i][0], dp[j][1] + 1)
      }
    }
  }
  return Math.max(dp[n - 1][0], dp[n - 1][1])
}
```
æ€è·¯åˆ†æ
å¯¹äºiæ‰€åœ¨ä½ç½®çš„æ•°ï¼Œè¦ä¹ˆæ˜¯å±±å³°nums[i]>nums[i-1]ï¼Œè¦ä¹ˆæ˜¯å±±è°·nums[i]<nums[i-1]
è®¾dp[i][0]  // è¡¨ç¤ºè€ƒè™‘å‰iä¸ªæ•°ï¼Œç¬¬iä¸ªæ•°ä½œä¸ºå±±å³°çš„æœ€é•¿å­åºåˆ—é•¿åº¦
è®¾dp[i][1]  // è¡¨ç¤ºè€ƒè™‘å‰iä¸ªæ•°ï¼Œç¬¬iä¸ªæ•°ä½œä¸ºå±±è°·çš„æœ€é•¿å­åºåˆ—é•¿åº¦
å› æ­¤å¯å¾—çŠ¶æ€è½¬ç§»æ–¹ç¨‹
> dp[i][0] = max(dp[i][0], dp[j][1] + 1)ï¼Œå…¶ä¸­0 < j < iä¸”nums[j] < nums[i] ï¼Œè¡¨ç¤ºå°†nums[i]æ¥åˆ°å‰é¢æŸä¸ªå±±è°·åé¢ï¼Œä½œä¸ºå±±å³°ã€‚
> dp[i][1] = max(dp[i][1], dp[j][0] + 1)ï¼Œå…¶ä¸­0 < j < iä¸”nums[j] > nums[i]ï¼Œè¡¨ç¤ºå°†nums[i]æ¥åˆ°å‰é¢æŸä¸ªå±±å³°åé¢ï¼Œä½œä¸ºå±±è°·ã€‚

### â­ï¸æœ€å¤§å­æ•°ç»„å’Œ
> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œè¯·ä½ æ‰¾å‡ºä¸€ä¸ªå…·æœ‰**æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„**ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶**æœ€å¤§å’Œã€‚**
> **å­æ•°ç»„ **æ˜¯æ•°ç»„ä¸­çš„ä¸€ä¸ªè¿ç»­éƒ¨åˆ†ã€‚
> è¾“å…¥ï¼šnums = [-2,1,-3,4,-1,2,1,-5,4] è¾“å‡ºï¼š6 è§£é‡Šï¼šè¿ç»­å­æ•°ç»„Â [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸ºÂ 6 ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/maximum-subarray/](https://leetcode.cn/problems/maximum-subarray/)

#### ä»£ç å®ç°
```typescript
function maxSubArray(nums: number[]): number {
  let max = nums[0];
  let pre = 0;

  for (let i = 0; i < nums.length; i++) {
    pre = Math.max(pre + nums[i], nums[i]);  // å½“preè¶³å¤Ÿå¤§æ—¶åˆ°è¿™é‡Œå°±ä¼šè¢«æ›´æ–°ï¼Œå¦åˆ™è¯´æ˜preè¾ƒå°,ä¸è¢«ç®—ä½œç»“æœèŒƒå›´å†…
    max = Math.max(pre, max);
  }

  return max;
}
```
```typescript
// æ›´å¥½ç†è§£çš„ç‰ˆæœ¬
function maxSubArray(nums: number[]): number {
  let count = 0
  let res = Number.MIN_SAFE_INTEGER  // å°±ç®—å…¨æ˜¯è´Ÿæ•°ä¹Ÿä¼šæ›´æ–° 
  for (let i = 0; i < nums.length; i++) {
    count += nums[i]
    if (count > res) {
      res = count //  å–åŒºé—´ç´¯è®¡çš„æœ€å¤§å€¼ï¼ˆç›¸å½“äºä¸æ–­ç¡®å®šæœ€å¤§å­åºç»ˆæ­¢ä½ç½®)
    }
    if (count <= 0) count = 0 // ç›¸å½“äºé‡ç½®æœ€å¤§å­åºèµ·å§‹ä½ç½®ï¼Œå› ä¸ºé‡åˆ°è´Ÿæ•°ä¸€å®šæ˜¯æ‹‰ä½æ€»å’Œ
  }
  return res
}
```
#### åŠ¨æ€è§„åˆ’ç‰ˆ
```typescript
function maxSubArrayBydp(nums: number[]): number {
  // Think for yourself for 5 minutes...
  // dp[i]çš„å«ä¹‰æ˜¯ è¡¨ç¤ºiä½ç½®åŠä¹‹å‰çš„æœ€å¤§å’Œ
  // æ¯”è¾ƒä¸¤ç§æƒ…å†µ
  // a. å‰ä¸€é¡¹dp+å½“å‰é¡¹ dp[i-1] + nums[i]
  // b. nums[i]
  // å› ä¸ºè¦ä¾èµ–i-1ï¼Œç¬¬ 0é¡¹ä¸èƒ½ä¾èµ–äºforå¾ªç¯ dp[0]=nums[0]
  const n = nums.length
  if (n === 0) return 0
  
  const dp: number[] = Array(n).fill(0)
  dp[0] = nums[0]
  
  let result: number = dp[0]

  for (let i = 1; i < n; i++) {
    dp[i] = Math.max(dp[i - 1] + nums[i], nums[i])
    result = Math.max(dp[i], result)
  }

  return result
}
```
### åˆ’åˆ†å­—æ¯åŒºé—´
> ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ã€‚æˆ‘ä»¬è¦æŠŠè¿™ä¸ªå­—ç¬¦ä¸²åˆ’åˆ†ä¸ºå°½å¯èƒ½å¤šçš„ç‰‡æ®µï¼Œ**åŒä¸€å­—æ¯æœ€å¤šå‡ºç°åœ¨ä¸€ä¸ªç‰‡æ®µä¸­**ã€‚
> æ³¨æ„ï¼Œåˆ’åˆ†ç»“æœéœ€è¦æ»¡è¶³ï¼šå°†æ‰€æœ‰åˆ’åˆ†ç»“æœæŒ‰é¡ºåºè¿æ¥ï¼Œå¾—åˆ°çš„å­—ç¬¦ä¸²ä»ç„¶æ˜¯ s ã€‚
> è¿”å›ä¸€ä¸ªè¡¨ç¤ºæ¯ä¸ªå­—ç¬¦ä¸²ç‰‡æ®µçš„é•¿åº¦çš„åˆ—è¡¨ã€‚
> è¾“å…¥ï¼šs = "ababcbacadefegdehijhklij"   è¾“å‡ºï¼š[9,7,8]
> è§£é‡Šï¼šåˆ’åˆ†ç»“æœä¸º "ababcbaca"ã€"defegde"ã€"hijhklij" ã€‚
> æ¯ä¸ªå­—æ¯æœ€å¤šå‡ºç°åœ¨ä¸€ä¸ªç‰‡æ®µä¸­ã€‚
> åƒ "ababcbacadefegde", "hijhklij" è¿™æ ·çš„åˆ’åˆ†æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºåˆ’åˆ†çš„ç‰‡æ®µæ•°è¾ƒå°‘ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/partition-labels](https://leetcode.cn/problems/partition-labels)

#### ä»£ç å®ç°
```typescript
// æ­¤é¢˜çªç ´ç‚¹å°±æ˜¯â€œåŒä¸€å­—æ¯æœ€å¤šå‡ºç°åœ¨ä¸€ä¸ªç‰‡æ®µä¸­â€ï¼Œé‚£ä¹ˆåº”è¯¥æƒ³åˆ°å¦‚æœéœ€è¦æ»¡è¶³ï¼Œ
// å°±éœ€è¦æ‰¾åˆ°è¯¥å­—æ¯çš„æœ€åå‡ºç°ä½ç½®ï¼Œä»¥ä¾¿æŠŠå®ƒæ”¾åœ¨åŒä¸€ä¸ªæ•°ç»„é‡Œ

function partitionLabels(s: string): number[] {
  // Think for yourself for 5 minutes...
  const hash = {} // è®°å½•æ¯ä¸ªå­—ç¬¦æœ€åå‡ºç°çš„ä½ç½®
  for (let i = 0; i < s.length; i++) {
    hash[s[i]] = i  // è®¡æ•°
  }

  const result: number[] = []
  let nextStartIndex = 0 // ä¸‹ä¸€æ¬¡åˆ‡åˆ†çš„èµ·å§‹ç‚¹
  let curPoint = 0 // åˆ‡åˆ†ç‚¹
  for (let i = 0; i < s.length; i++) {
    curPoint = Math.max(curPoint, hash[s[i]])
    // å½“iåˆ°äº†æœ€åå‡ºç°ä½ç½®çš„æ—¶å€™
    if (curPoint === i) {
      result.push(curPoint - nextStartIndex + 1)
      nextStartIndex = i + 1 // ä¸‹ä¸€æ¬¡ä»å½“å‰åˆ‡åˆ†ç‚¹åç§»ä¸€ä½
    }
  }
  // console.log('result', result)

  return result
}
```
### â­ï¸Kæ¬¡å–ååçš„æœ€å¤§æ•°ç»„å’Œ
> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° k ï¼ŒæŒ‰ä»¥ä¸‹æ–¹æ³•ä¿®æ”¹è¯¥æ•°ç»„ï¼š
> é€‰æ‹©æŸä¸ªä¸‹æ ‡ iÂ å¹¶å°† nums[i] æ›¿æ¢ä¸º -nums[i] ã€‚
> é‡å¤è¿™ä¸ªè¿‡ç¨‹æ°å¥½ k æ¬¡ã€‚å¯ä»¥å¤šæ¬¡é€‰æ‹©åŒä¸€ä¸ªä¸‹æ ‡ i ã€‚
> ä»¥è¿™ç§æ–¹å¼ä¿®æ”¹æ•°ç»„åï¼Œè¿”å›æ•°ç»„ å¯èƒ½çš„æœ€å¤§å’Œ ã€‚
> è¾“å…¥ï¼šnums = [4,2,3], k = 1 è¾“å‡ºï¼š5 è§£é‡Šï¼šé€‰æ‹©ä¸‹æ ‡ 1 ï¼Œnums å˜ä¸º [4,-2,3] ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/maximize-sum-of-array-after-k-negations](https://leetcode.cn/problems/maximize-sum-of-array-after-k-negations)

#### ä»£ç å®ç°
```typescript
function largestSumAfterKNegations(nums: number[], k: number): number {
  // Think for yourself for 5 minutes...

  nums.sort((a, b) => Math.abs(b) - Math.abs(a))
  // å°†å°äº0çš„å…¨éƒ¨å˜ä¸ºæ­£æ•°,ç¬¬ä¸€æ¬¡è´ªå¿ƒ
  for (let i = 0; i < nums.length; i++) {
    if (nums[i] < 0 && k > 0) {
      nums[i] = -nums[i]
      k--
    }
  }
  // å¦‚æœkè¿˜å¤§äº0ï¼Œä¸æ–­å°†æœ€å°çš„æ•°å–åï¼Œç¬¬äºŒæ¬¡è´ªå¿ƒ
  while (k > 0) {
    nums[nums.length - 1] = -nums[nums.length - 1]
    k--
  }

  // æ±‚å’Œ
  return nums.reduce((prev, curr) => prev + curr)
}
```
æ€è·¯åˆ†æï¼Œæ—¢ç„¶è¦æ±‚æœ€å¤§å’Œï¼Œåˆèƒ½å–åï¼Œé‚£å°±å…ˆæŠŠç»å¯¹å€¼æœ€å¤§çš„è´Ÿæ•°å°½é‡ç»™ä»–æ•´æˆæ­£æ•°ï¼ˆå½“kè¿˜æœ‰å‰©ä½™ï¼‰ï¼Œè‹¥æŠŠè´Ÿæ•°éƒ½æ•´æˆæ­£æ•°kè¿˜æœ‰å‰©ä½™ï¼Œå°±æŠŠæœ€å°çš„æ•°å–åï¼Œå–åˆ°kä¸º0ä¸ºæ­¢ï¼Œï¼Œè´ªå¿ƒåœ¨è¿™é‡Œçš„ç²¾é«“å°±æ˜¯â€œèƒ½å¤§å°±å°½é‡å¾€å¤§æ•´â€
### å•è°ƒé€’å¢çš„æ•°å­—
> å½“ä¸”ä»…å½“æ¯ä¸ªç›¸é‚»ä½æ•°ä¸Šçš„æ•°å­—Â xÂ å’ŒÂ yÂ æ»¡è¶³Â x <= yÂ æ—¶ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªæ•´æ•°æ˜¯å•è°ƒé€’å¢çš„ã€‚
> ç»™å®šä¸€ä¸ªæ•´æ•° n ï¼Œè¿”å› **å°äºæˆ–ç­‰äº n çš„æœ€å¤§æ•°å­—**ï¼Œä¸”æ•°å­—å‘ˆ å•è°ƒé€’å¢ ã€‚
> è¾“å…¥: n = 10 è¾“å‡º: 9
> æ¥æºï¼š[https://leetcode.cn/problems/monotone-increasing-digits](https://leetcode.cn/problems/monotone-increasing-digits)

#### ä»£ç å®ç°
```typescript
function monotoneIncreasingDigits(n: number): number {
  // Think for yourself for 5 minutes...
  // q1. è¿”å›å°äºæˆ–ç­‰äºnçš„æœ€å¤§æ•°å­—ï¼Œé‚£ä¹ˆè€ƒè™‘åŸæ•°å­—ä¸æ˜¯å•è°ƒé€’å¢çš„è¯ï¼Œä»æœ€ä½ä½å¼€å§‹æ›¿æ¢æˆ9
  const numArr: number[] = String(n)
    .split('')
    .map((i) => parseInt(i))


  //flagç”¨æ¥æ ‡è®°èµ‹å€¼9ä»å“ªé‡Œå¼€å§‹
  let flag = numArr.length
  for (let i = numArr.length - 1; i >= 0; i--) {
    // ä»iä½ç½®å¼€å§‹ä¸æ»¡è¶³å•è°ƒé€’å¢äº†ï¼Œè®°ä¸‹æ¥
    if (numArr[i] > numArr[i + 1]) {
      numArr[i] -= 1
      flag = i + 1
    }
  }
  for (let i = flag; i < numArr.length; i++) {
    numArr[i] = 9
  }


  return parseInt(numArr.join(''))
}

// expect(monotoneIncreasingDigits(10)).toEqual(9)
// expect(monotoneIncreasingDigits(1234)).toEqual(1234)
// expect(monotoneIncreasingDigits(332)).toEqual(299)
```
æ€è·¯åˆ†æï¼Œæ³¨æ„é¢˜å¹²â€œ**è¿”å›å°äºæˆ–ç­‰äº n çš„æœ€å¤§æ•°å­—**â€ï¼Œé‚£ä¹ˆå°±è€ƒè™‘å°†åŸæ•°å­—è¿åå•è°ƒé€’å¢æ¡ä»¶çš„æœ€åä¸€ä¸ªæ•°å­—çš„ä½ç½®æ‰¾å‡ºæ¥å‡ ä¸‹(ä¸ºä»€ä¹ˆæ˜¯æœ€åä¸€ä¸ªï¼Œå› ä¸ºè¦æœ€å¤§çš„æ•°å­—å•Šå•Šå•Šå•Š)ï¼Œå†å°†ä»è¿™ä¸ªä½ç½®å¼€å§‹çš„æ•°å­—å…¨éƒ½æ›¿æ¢æˆ9ï¼Œæœ€åè®¡ç®—å‡ºæ¥å¯èƒ½ä¼šå­˜åœ¨[0,9,9]ï¼Œä¸è¿‡ä¸è¦ç´§ï¼ŒparseIntå°±æ˜¯å¹²è¿™ä¸ªäº‹æƒ…çš„ã€‚
### ä¸€æ‰‹é¡ºå­
> Alice æ‰‹ä¸­æœ‰ä¸€æŠŠç‰Œï¼Œå¥¹æƒ³è¦é‡æ–°æ’åˆ—è¿™äº›ç‰Œï¼Œåˆ†æˆè‹¥å¹²ç»„ï¼Œä½¿æ¯ä¸€ç»„çš„ç‰Œæ•°éƒ½æ˜¯ groupSize ï¼Œå¹¶ä¸”ç”± groupSize å¼ è¿ç»­çš„ç‰Œç»„æˆã€‚
> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ hand å…¶ä¸­ hand[i] æ˜¯å†™åœ¨ç¬¬ i å¼ ç‰Œï¼Œå’Œä¸€ä¸ªæ•´æ•° groupSize ã€‚å¦‚æœå¥¹å¯èƒ½é‡æ–°æ’åˆ—è¿™äº›ç‰Œï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚
> è¾“å…¥ï¼šhand = [1,2,3,6,2,3,4,7,8], groupSize = 3 è¾“å‡ºï¼štrue
> è§£é‡Šï¼šAlice æ‰‹ä¸­çš„ç‰Œå¯ä»¥è¢«é‡æ–°æ’åˆ—ä¸º [1,2,3]ï¼Œ[2,3,4]ï¼Œ[6,7,8]ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/hand-of-straights](https://leetcode.cn/problems/hand-of-straights)

#### ä»£ç å®ç°
```typescript
function isNStraightHand(hand: number[], groupSize: number): boolean {
  // Think for yourself for 5 minutes...
  // q1. ç”¨hashè¡¨è®°å½•æ¯å¼ ç‰Œå‡ºç°çš„æ¬¡æ•°ï¼Œç”¨ä¸€æ¬¡å°±å‡1
  // q2. èƒ½æ„æˆä¸€æ‰‹é¡ºå­çš„æ¡ä»¶ä¸€å®šæ˜¯ n%groupSize==0 ,å¦åˆ™å°±false

  const n: number = hand.length

  if (n % groupSize != 0) return false

  const hash = new Map()

  for (let i = 0; i < hand.length; i++) {
    let a = hash.get(hand[i]) || 0
    hash.set(hand[i], a + 1)
  }

  hand.sort((a, b) => a - b)

  for (let i = 0; i < hand.length; i++) {
    if (hash.get(hand[i]) == 0) continue // å¦‚æœæ²¡æœ‰è¿™å¼ ç‰Œäº†å°±è·³è¿‡
    let p: number = hand[i]

    let next: number = 1 // æ¯”å½“å‰å¤§ä¸€ä½çš„

    // æ‰§è¡Œåˆ°è¿™é‡Œè¯´æ˜å½“å‰ä½ç”¨äº†ä¸€æ¬¡
    hash.set(p, hash.get(p) - 1)

    while (next < groupSize) {
      // å–æ•°
      let a = hash.get(p + next)
      if (a) {
        // å–åˆ°äº†ç›¸é‚»çš„ä¸‹ä¸€ä½
        hash.set(p + next, a - 1)
        next++
      } else {
        // è¯´æ˜éƒ½ä¸è¿ç»­äº†ï¼Œç›´æ¥è¿”å›false
        console.log('æ²¡å–åˆ°')
        return false
      }
    }
  }

  // console.dir(hash)

  return true
}
```
### å¯è¢«ä¸‰æ•´é™¤çš„æœ€å¤§å’Œ
> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›èƒ½è¢«ä¸‰æ•´é™¤çš„å…ƒç´ æœ€å¤§å’Œã€‚
> è¾“å…¥ï¼šnums = [3,6,5,1,8] è¾“å‡ºï¼š18 è§£é‡Šï¼šé€‰å‡ºæ•°å­— 3, 6, 1 å’Œ 8ï¼Œå®ƒä»¬çš„å’Œæ˜¯ 18ï¼ˆå¯è¢« 3 æ•´é™¤çš„æœ€å¤§å’Œï¼‰ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/greatest-sum-divisible-by-three/](https://leetcode.cn/problems/greatest-sum-divisible-by-three/)

#### ä»£ç å®ç° 
```typescript
function maxSumDivThree(nums: number[]): number {
  // å–ä½™ä¸º1çš„æ•°
  const arr1 = nums.filter((item) => item % 3 === 1).sort((a, b) => a - b)

  // å–ä½™ä¸º2çš„æ•°
  const arr2 = nums.filter((item) => item % 3 === 2).sort((a, b) => a - b)

  let sum = nums.reduce((prev, curr) => prev + curr)

  if (sum % 3 == 0) {
    return sum
  } else if (sum % 3 === 1) {
    // ä¸º1: æ‰¾åˆ°sumå‡å»ä½™æ•°ä¸º1çš„æœ€å°å€¼æˆ–è€…ä¸¤ä¸ªä½™æ•°ä¸º2çš„æœ€å°å€¼ï¼ˆæ¯”è¾ƒï¼‰
    sum = Math.max(sum - arr1[0] || 0, sum - arr2[0] - arr2[1] || 0)
  } else {
    // ä¸º2: æ‰¾åˆ°sumå‡å»ä½™æ•°ä¸º2çš„æœ€å°å€¼æˆ–è€…ä¸¤ä¸ªä½™æ•°ä¸º1çš„æœ€å°å€¼ï¼ˆæ¯”è¾ƒï¼‰
    sum = Math.max(sum - arr2[0] || 0, sum - arr1[0] - arr1[1] || 0)
  }

  return sum
}
```
æ€è·¯åˆ†æï¼Œä¸ºä»€ä¹ˆ%3===1çš„å–å€¼æ˜¯Math.max(sum - arr1[0], (sum - arr2[0] - arr2[1]) | 0)     (**æ‰€æœ‰æ•´æ•°%3,ä½™æ•°å°±åªæœ‰0 1 2ä¸‰ç§æƒ…å†µï¼Œä½™æ•°ä¸º1çš„æ•°+ä½™æ•°ä¸º2çš„æ•°å°±èƒ½ç»„æˆä½™æ•°ä¸º0çš„æ•°**) 
sum - arr1[0]å¯å–çš„åŸå› ï¼š
å‡å¦‚æ•°ç»„ä¸­å­˜åœ¨[1,4,4,8,7,11] è¿™æ ·çš„æ•°æ® [4,4,7] å–ä½™ä¸º1  [1,8,11] å–ä½™ä¸º2ï¼Œå‡å»ä¸€ä¸ªarr1[0],å‰©ä½™çš„å–ä½™ä¸º1çš„æ•°å’Œå–ä½™ä¸º2çš„æ‰€æœ‰æ•°ç›¸åŠ è‚¯å®šèƒ½æ»¡è¶³%3==0,
sum - arr2[0] - arr2[1]å¯å–çš„åŸå› ï¼š
åŒæ ·ï¼Œå»æ‰ä¸¤ä¸ªå–ä½™ä¸º2çš„æ•°æ®ï¼Œå‰©ä½™çš„æ•°å’Œæ‰€æœ‰å–ä½™ä¸º1çš„æ•°æ®æƒ³åŠ ä¹Ÿèƒ½æ»¡è¶³%3==0
é‚£å°±æ¯”è¾ƒæ˜¯å»æ‰ä¸€ä¸ªä½™æ•°ä¸º1çš„åˆ’ç®—è¿˜æ˜¯å»æ‰ä¸¤ä¸ªä½™æ•°ä¸º2çš„åˆ’ç®—å’¯ã€‚
### äº¤æ¢å­—ç¬¦ä½¿å¾—å­—ç¬¦ä¸²ç›¸åŒ
> æœ‰ä¸¤ä¸ªé•¿åº¦ç›¸åŒçš„å­—ç¬¦ä¸²Â s1 å’ŒÂ s2ï¼Œä¸”å®ƒä»¬å…¶ä¸­Â åªå«æœ‰Â å­—ç¬¦Â "x" å’ŒÂ "y"ï¼Œä½ éœ€è¦é€šè¿‡ã€Œäº¤æ¢å­—ç¬¦ã€çš„æ–¹å¼ä½¿è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŒã€‚
> æ¯æ¬¡ã€Œäº¤æ¢å­—ç¬¦ã€çš„æ—¶å€™ï¼Œä½ éƒ½å¯ä»¥åœ¨ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­å„é€‰ä¸€ä¸ªå­—ç¬¦è¿›è¡Œäº¤æ¢ã€‚
> äº¤æ¢åªèƒ½å‘ç”Ÿåœ¨ä¸¤ä¸ªä¸åŒçš„å­—ç¬¦ä¸²ä¹‹é—´ï¼Œç»å¯¹ä¸èƒ½å‘ç”Ÿåœ¨åŒä¸€ä¸ªå­—ç¬¦ä¸²å†…éƒ¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥äº¤æ¢Â s1[i] å’ŒÂ s2[j]ï¼Œä½†ä¸èƒ½äº¤æ¢Â s1[i] å’ŒÂ s1[j]ã€‚
> æœ€åï¼Œè¯·ä½ è¿”å›ä½¿ s1 å’Œ s2 ç›¸åŒçš„æœ€å°äº¤æ¢æ¬¡æ•°ï¼Œå¦‚æœæ²¡æœ‰æ–¹æ³•èƒ½å¤Ÿä½¿å¾—è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŒï¼Œåˆ™è¿”å›Â -1 ã€‚
> è¾“å…¥ï¼šs1 = "xx", s2 = "yy" è¾“å‡ºï¼š1 è§£é‡Šï¼š äº¤æ¢ s1[0] å’Œ s2[1]ï¼Œå¾—åˆ° s1 = "yx"ï¼Œs2 = "yx"ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/minimum-swaps-to-make-strings-equal](https://leetcode.cn/problems/minimum-swaps-to-make-strings-equal)

#### ä»£ç å®ç°
```typescript
function minimumSwap(s1: string, s2: string): number {
  // Think for yourself for 5 minutes...
  if (s1.length != s2.length) return -1
  // ä¸¤ç§æƒ…å†µ
  // s1[i] = x, s2[i] = y  è®°åšxy
  // s1[i] = y, s2[i] = x  è®°åšyx
  const n: number = s1.length

  let xy: number = 0
  let yx: number = 0

  for (let i = 0; i < n; i++) {
    const a = s1[i]
    const b = s2[i]
    if (a === 'x' && b === 'y') {
      xy++
    }
    if (a === 'y' && b === 'x') {
      yx++
    }
  }

  // å¦‚æœä¸ºå¥‡æ•°ï¼Œè‚¯å®šæ— æ³•å®Œæˆäº¤æ¢
  if ((xy + yx) % 2 === 1) {
    return -1
  }
  // xy / 2 å’Œ yx / 2 è¡¨ç¤ºå†…éƒ¨é…å¯¹ï¼Œæ¯ä¸¤ä¸ªé…æˆä¸€å¯¹äº¤æ¢ä¸€æ¬¡
  // å¦‚æœä¸¤ä¸ªéƒ½æ˜¯å¶æ•°å¯¹ï¼Œxy % 2 + yx % 2 = 0 + 0 = 0
  // å¦‚æœä¸¤ä¸ªéƒ½æ˜¯å¥‡æ•°å¯¹ï¼Œxy % 2 + yx % 2 = 1 + 1 = 2ï¼Œåˆšå¥½è¡¨ç¤ºå„å‰©ä¸€ä¸ªéœ€è¦äº¤æ¢ä¸¤æ¬¡
  return Math.floor(xy / 2) + Math.floor(yx / 2) + (xy % 2) + (yx % 2)
}
```
### ç©ç­¹ç 
> æœ‰Â nÂ ä¸ªç­¹ç ã€‚ç¬¬ i ä¸ªç­¹ç çš„ä½ç½®æ˜¯Â position[i]Â ã€‚
> æˆ‘ä»¬éœ€è¦æŠŠæ‰€æœ‰ç­¹ç ç§»åˆ°åŒä¸€ä¸ªä½ç½®ã€‚åœ¨ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç¬¬ i ä¸ªç­¹ç çš„ä½ç½®ä»Â position[i]Â æ”¹å˜ä¸º:
> position[i] + 2Â æˆ–Â position[i] - 2Â ï¼Œæ­¤æ—¶Â cost = 0
> position[i] + 1Â æˆ–Â position[i] - 1Â ï¼Œæ­¤æ—¶Â cost = 1
> è¿”å›å°†æ‰€æœ‰ç­¹ç ç§»åŠ¨åˆ°åŒä¸€ä½ç½®ä¸Šæ‰€éœ€è¦çš„ æœ€å°ä»£ä»· ã€‚
> è¾“å…¥ï¼šposition = [1,2,3]   è¾“å‡ºï¼š1
> è§£é‡Šï¼šç¬¬ä¸€æ­¥:å°†ä½ç½®3çš„ç­¹ç ç§»åŠ¨åˆ°ä½ç½®1ï¼Œæˆæœ¬ä¸º0ã€‚
> ç¬¬äºŒæ­¥:å°†ä½ç½®2çš„ç­¹ç ç§»åŠ¨åˆ°ä½ç½®1ï¼Œæˆæœ¬= 1ã€‚ æ€»æˆæœ¬æ˜¯1ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/minimum-cost-to-move-chips-to-the-same-position](https://leetcode.cn/problems/minimum-cost-to-move-chips-to-the-same-position)

#### ä»£ç å®ç°
```typescript
function minCostToMoveChips(position: number[]): number {
  // Think for yourself for 5 minutes...
  // q1. æŒªä¸¤ä½ä¸è¦é’±ï¼ŒæŒªä¸€ä½æ¶ˆè€—1
  // q2. é‚£ä¹ˆè€ƒè™‘ä»¥å¥‡æ•°ä½ä¸ºåŸºå‡†æŒªçš„è¯ï¼Œå¶æ•°ä½å°±è¦æ¶ˆè€—ï¼Œ
  // åä¹‹å¥‡æ•°ä½å°±è¦æ¶ˆè€—ï¼Œé’ˆå¯¹ä¸¤ç§æƒ…å†µçš„æœ€å°å€¼è®¡æ•°ï¼Œç»“æœå°±æ˜¯ä¸¤è€…çš„æœ€å°å€¼

  let odd: number = 0 // å¥‡æ•°
  let even: number = 0 //å¶æ•°
  for (let i = 0; i < position.length; i++) {
    if (position[i] % 2 == 0) {
      odd++
    } else {
      even++
    }
  }

  return Math.min(odd, even)
}
```
### æœ€é•¿å›æ–‡ä¼ 
> ç»™å®šä¸€ä¸ªåŒ…å«å¤§å†™å­—æ¯å’Œå°å†™å­—æ¯çš„å­—ç¬¦ä¸²Â sÂ ï¼Œè¿”å›Â é€šè¿‡è¿™äº›å­—æ¯æ„é€ æˆçš„** æœ€é•¿çš„å›æ–‡ä¸²Â ã€‚**
> åœ¨æ„é€ è¿‡ç¨‹ä¸­ï¼Œè¯·æ³¨æ„ åŒºåˆ†å¤§å°å†™ ã€‚æ¯”å¦‚Â "Aa"Â ä¸èƒ½å½“åšä¸€ä¸ªå›æ–‡å­—ç¬¦ä¸²ã€‚
> è¾“å…¥:s = "abccccdd" è¾“å‡º:7 è§£é‡Š: æˆ‘ä»¬å¯ä»¥æ„é€ çš„æœ€é•¿çš„å›æ–‡ä¸²æ˜¯"dccaccd", å®ƒçš„é•¿åº¦æ˜¯ 7ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/longest-palindrome](https://leetcode.cn/problems/longest-palindrome)

#### ä»£ç å®ç°
```typescript
function longestPalindrome(s: string): number {
  // Think for yourself for 5 minutes...
  if (s.length == 0) return 0

  const hash = new Map()

  // è®°å½•æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°
  for (let i = 0; i < s.length; i++) {
    let a = hash.get(s[i]) || 0
    hash.set(s[i], a + 1)
  }

  let count = 0

  let mark = 0 // ç”¨æ¥æ ‡è®°æŸä¸ªå­—æ¯å‡ºç°äº†å¥‡æ•°æ¬¡æƒ…å†µ
  for (let item of hash) {
    if (item[1] % 2 == 0) {
      count += item[1]
    } else {
      // å¦‚æœå‡ºç°äº†å¥‡æ•°æ¬¡ï¼Œé‚£ä¹Ÿåªèƒ½ç”¨n-1æ¬¡
      count += item[1] > 1 ? item[1] - 1 : 0
      mark++
    }
  }
  // å¦‚æœå‡ºç°äº†å¤šä¸ªåªå‡ºç°å¥‡æ•°æ¬¡çš„å­—ç¬¦ï¼Œè¦æ»¡è¶³å›æ–‡æœ€å¤šåªèƒ½ç”¨1ä¸ª
  return mark ? count + 1 : count
}
```
æ€è·¯åˆ†æï¼Œæ„æˆå›æ–‡æœ€ä½³çš„å­—ç¬¦ä¸²è‚¯å®šæ˜¯å¯¹äºå‡ºç°å¶æ•°æ¬¡çš„å­—ç¬¦å…¨éƒ¨é‡‡ç”¨ï¼Œå‰©ä½™å¥‡æ•°ä¸ªå­˜åœ¨ä¸¤ç§æƒ…å†µï¼Œa:å¤§äº1çš„å¥‡æ•°ï¼Œä½¿ç”¨n-1æ¬¡ï¼Œb:ç­‰äº1çš„å¥‡æ•°ï¼Œæœ€åç”¨ä¸ç”¨è¿˜ä¸ä¸€å®šï¼Œå› ä¸ºå¯èƒ½å¦‚æœå­˜åœ¨å¤§äº1çš„å­—ç¬¦çš„è¯ï¼Œå¯èƒ½éƒ½è½®ä¸åˆ°å®ƒå“ˆå“ˆï¼Œå› æ­¤å¯¹äºæ‰€æœ‰å‡ºç°å¥‡æ•°æ¬¡çš„å­—ç¬¦ï¼Œåªåœ¨ç»“æœä¸­å¯¹ä»–åŠ ä¸Šn-1æ¬¡ï¼Œæœ€ç»ˆç»“æœè€ƒè™‘å¦‚æœæœ‰å­˜åœ¨å¥‡æ•°æ¬¡çš„å­—ç¬¦ï¼Œå°±ç»™æ•´ä½“åŠ 1ã€‚
###  éªŒè¯å›æ–‡ä¸² II
> ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œ**æœ€å¤š** å¯ä»¥ä»ä¸­åˆ é™¤ä¸€ä¸ªå­—ç¬¦ã€‚
> è¯·ä½ åˆ¤æ–­ s æ˜¯å¦èƒ½æˆä¸ºå›æ–‡å­—ç¬¦ä¸²ï¼šå¦‚æœèƒ½ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚
è¾“å…¥ï¼šs = "aba" è¾“å‡ºï¼štrue 
è¾“å…¥ï¼šs = "abc" è¾“å‡ºï¼šfalse
> æ¥æºï¼š[https://leetcode.cn/problems/valid-palindrome-ii/](https://leetcode.cn/problems/valid-palindrome-ii/)

#### ä»£ç å®ç°
```typescript
function isPalindrome(s: string, left: number, right: number) {
  for (let i = left, j = right; i <= j; i++, j--) {
    if (s[i] !== s[j]) {
      return false
    }
  }
  return true
}

function validPalindrome(s: string): boolean {
  for (let i = 0, j = s.length - 1; i < j; i++, j--) {
    if (s[i] !== s[j]) {
      //  å·¦è¾¹å¾€å³æŒªä¸€æ­¥æˆ–å³è¾¹å¾€å·¦æŒªä¸€æ­¥çš„åŒºé—´æ˜¯å¦æ»¡è¶³å›æ–‡æ¡ä»¶
      return isPalindrome(s, i + 1, j) || isPalindrome(s, i, j - 1)
    }
  }
  return true
}
```
### ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II
> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ prices ï¼Œå…¶ä¸­Â prices[i] è¡¨ç¤ºæŸæ”¯è‚¡ç¥¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚
> åœ¨æ¯ä¸€å¤©ï¼Œä½ å¯ä»¥å†³å®šæ˜¯å¦è´­ä¹°å’Œ/æˆ–å‡ºå”®è‚¡ç¥¨ã€‚ä½ åœ¨ä»»ä½•æ—¶å€™Â æœ€å¤šÂ åªèƒ½æŒæœ‰ ä¸€è‚¡ è‚¡ç¥¨ã€‚ä½ ä¹Ÿå¯ä»¥å…ˆè´­ä¹°ï¼Œç„¶ååœ¨ åŒä¸€å¤© å‡ºå”®ã€‚
> è¿”å› ä½ èƒ½è·å¾—çš„**æœ€å¤§åˆ©æ¶¦Â ã€‚**
> è¾“å…¥ï¼šprices = [7,1,5,3,6,4]    è¾“å‡ºï¼š7
> è§£é‡Šï¼šåœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 3 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 5 - 1 = 4 ã€‚
> éšåï¼Œåœ¨ç¬¬ 4 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 3ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 6 - 3 = 3 ã€‚
> æ€»åˆ©æ¶¦ä¸º 4 + 3 = 7 ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii)

PSï¼š
#### ä»£ç å®ç°
```typescript
function maxProfit(prices: number[]): number {
  // Think for yourself for 5 minutes...

  let max: number = 0

  // q1. åªå…è®¸ä¸€æ”¯è‚¡ç¥¨
  // q2. æƒ³è¦è·åˆ©è‡³å°‘ä¸¤å¤©ä¸€ä¸ªåˆ©æ¶¦å•å…ƒ
  // q3. æ¯å¤©çš„åˆ©æ¶¦åºåˆ— (p[i+1]-p[i-1])...(p[1]-p[0])
  // q4. åªå–åˆ©æ¶¦ä¸ºæ­£æ•°çš„
  // q5. ç¬¬ä¸€å¤©æ²¡åˆ©æ¶¦

  for (let i = 1; i < prices.length; i++) {
    max += Math.max(prices[i] - prices[i - 1], 0) // åªå–æ­£æ•°
    // ä¹Ÿå¯ä»¥æ¢æˆ
    // if (prices[i] - prices[i - 1] > 0) {
    //   max += prices[i] - prices[i - 1]
    // }
  }

  return max
}
```
#### åŠ¨æ€è§„åˆ’ç‰ˆæœ¬
```typescript
const maxProfit = (prices: number[]) => {
  let dp = Array.from(Array(prices.length), () => Array(2).fill(0))
  // dp[i][0] è¡¨ç¤ºç¬¬iå¤©æŒæœ‰è‚¡ç¥¨æ‰€å¾—ç°é‡‘ã€‚
  // dp[i][1] è¡¨ç¤ºç¬¬iå¤©ä¸æŒæœ‰è‚¡ç¥¨æ‰€å¾—æœ€å¤šç°é‡‘
  dp[0][0] = 0 - prices[0]
  dp[0][1] = 0
  for (let i = 1; i < prices.length; i++) {
    // å¦‚æœç¬¬iå¤©æŒæœ‰è‚¡ç¥¨å³dp[i][0]ï¼Œ é‚£ä¹ˆå¯ä»¥ç”±ä¸¤ä¸ªçŠ¶æ€æ¨å‡ºæ¥
    // ç¬¬i-1å¤©å°±æŒæœ‰è‚¡ç¥¨ï¼Œé‚£ä¹ˆå°±ä¿æŒç°çŠ¶ï¼Œæ‰€å¾—ç°é‡‘å°±æ˜¯æ˜¨å¤©æŒæœ‰è‚¡ç¥¨çš„æ‰€å¾—ç°é‡‘ å³ï¼šdp[i - 1][0]
    // ç¬¬iå¤©ä¹°å…¥è‚¡ç¥¨ï¼Œæ‰€å¾—ç°é‡‘å°±æ˜¯æ˜¨å¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æ‰€å¾—ç°é‡‘å‡å» ä»Šå¤©çš„è‚¡ç¥¨ä»·æ ¼ å³ï¼šdp[i - 1][1] - prices[i]
    dp[i][0] = Math.max(dp[i - 1][0], dp[i - 1][1] - prices[i])


    // åœ¨æ¥çœ‹çœ‹å¦‚æœç¬¬iå¤©ä¸æŒæœ‰è‚¡ç¥¨å³dp[i][1]çš„æƒ…å†µï¼Œ ä¾ç„¶å¯ä»¥ç”±ä¸¤ä¸ªçŠ¶æ€æ¨å‡ºæ¥
    // ç¬¬i-1å¤©å°±ä¸æŒæœ‰è‚¡ç¥¨ï¼Œé‚£ä¹ˆå°±ä¿æŒç°çŠ¶ï¼Œæ‰€å¾—ç°é‡‘å°±æ˜¯æ˜¨å¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æ‰€å¾—ç°é‡‘ å³ï¼šdp[i - 1][1]
    // ç¬¬iå¤©å–å‡ºè‚¡ç¥¨ï¼Œæ‰€å¾—ç°é‡‘å°±æ˜¯æŒ‰ç…§ä»Šå¤©è‚¡ç¥¨ä½³ä»·æ ¼å–å‡ºåæ‰€å¾—ç°é‡‘å³ï¼šprices[i] + dp[i - 1][0]
    dp[i][1] = Math.max(dp[i - 1][1], dp[i - 1][0] + prices[i])
  }


  return dp[prices.length - 1][1]
}
```
### åŠ æ²¹ç«™
> åœ¨ä¸€æ¡ç¯è·¯ä¸Šæœ‰ nÂ ä¸ªåŠ æ²¹ç«™ï¼Œå…¶ä¸­ç¬¬ iÂ ä¸ªåŠ æ²¹ç«™æœ‰æ±½æ²¹Â gas[i]Â å‡ã€‚
> ä½ æœ‰ä¸€è¾†æ²¹ç®±å®¹é‡æ— é™çš„çš„æ±½è½¦ï¼Œä»ç¬¬ i ä¸ªåŠ æ²¹ç«™å¼€å¾€ç¬¬ i+1Â ä¸ªåŠ æ²¹ç«™éœ€è¦æ¶ˆè€—æ±½æ²¹Â cost[i]Â å‡ã€‚ä½ ä»å…¶ä¸­çš„ä¸€ä¸ªåŠ æ²¹ç«™å‡ºå‘ï¼Œå¼€å§‹æ—¶æ²¹ç®±ä¸ºç©ºã€‚
> ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„ gas å’Œ cost ï¼Œå¦‚æœä½ å¯ä»¥ç»•ç¯è·¯è¡Œé©¶ä¸€å‘¨ï¼Œåˆ™è¿”å›å‡ºå‘æ—¶åŠ æ²¹ç«™çš„ç¼–å·ï¼Œå¦åˆ™è¿”å› -1 ã€‚å¦‚æœå­˜åœ¨è§£ï¼Œåˆ™ ä¿è¯ å®ƒæ˜¯ å”¯ä¸€ çš„ã€‚
> è¾“å…¥: gas = [1,2,3,4,5], cost = [3,4,5,1,2] è¾“å‡º: 3
> è§£é‡Š:
> ä» 3 å·åŠ æ²¹ç«™(ç´¢å¼•ä¸º 3 å¤„)å‡ºå‘ï¼Œå¯è·å¾— 4 å‡æ±½æ²¹ã€‚æ­¤æ—¶æ²¹ç®±æœ‰ = 0 + 4 = 4 å‡æ±½æ²¹
> å¼€å¾€ 4 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 4 - 1 + 5 = 8 å‡æ±½æ²¹
> å¼€å¾€ 0 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 8 - 2 + 1 = 7 å‡æ±½æ²¹
> å¼€å¾€ 1 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 7 - 3 + 2 = 6 å‡æ±½æ²¹
> å¼€å¾€ 2 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 6 - 4 + 3 = 5 å‡æ±½æ²¹
> å¼€å¾€ 3 å·åŠ æ²¹ç«™ï¼Œä½ éœ€è¦æ¶ˆè€— 5 å‡æ±½æ²¹ï¼Œæ­£å¥½è¶³å¤Ÿä½ è¿”å›åˆ° 3 å·åŠ æ²¹ç«™ã€‚
> å› æ­¤ï¼Œ3 å¯ä¸ºèµ·å§‹ç´¢å¼•ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/gas-station](https://leetcode.cn/problems/gas-station)

#### ä»£ç å®ç°
```typescript
/**
 *
 * @param gas åŠ æ²¹ç«™æ±½æ²¹é‡
 * @param cost éœ€è¦æ¶ˆè€—çš„é‡
 * @returns
 */
function canCompleteCircuit(gas: number[], cost: number[]): number {
  // Think for yourself for 5 minutes...

  let curSum: number = 0 // ä¸æ–­åœ¨æ¯ä¸€ç«™è¿­ä»£çš„

  let min: number = Number.MAX_SAFE_INTEGER // æ²¹ç®±é‡Œçš„å‰©ä½™å€¼

  // æ¯èµ°å®Œä¸€ç«™æ¶ˆè€—å®Œå‰©ä½™çš„åŠ ä¸Šè¿™ä¸€ç«™å¯ä»¥åŠ çš„ curSum = curSum + cost[i] - gas[i]
  // q1. è¿”å›åŠ æ²¹ç«™çš„ç¼–å·
  // q2. å¦‚æœåŠ æ²¹ç«™æ²¹é‡å°äºéœ€è¦çš„æ€»å’Œ è¿”å›-1
  // q3. å¦‚æœä»0å¼€å§‹ï¼Œä»0å¼€å§‹ï¼Œæœ€åå‰©ä½™>=0 é‚£ä¹ˆ0ç‚¹å°±æ˜¯èµ·ç‚¹
  // q4. å¦‚æœ0ç‚¹ä¸æ˜¯èµ·ç‚¹ï¼Œä»åŠ æ²¹ç«™åå¾€å‰æ‰¾ï¼Œç¬¬ä¸€ä¸ªå¯ä»¥æŠŠå‰©ä½™å¡«æ»¡çš„å°±æ˜¯èµ·ç‚¹

  for (let i = 0; i < gas.length; i++) {
    let a = gas[i] - cost[i]
    curSum += a
    if (curSum < min) {
      min = curSum
    }
  }

  if (curSum < 0) return -1 // èµ°ä¸å®Œ
  if (min >= 0) return 0 // å‰©ä½™å¤§äº0 å¯ä»¥ä»0ç‚¹èµ°

  for (let i = gas.length - 1; i >= 0; i--) {
    let a = gas[i] - cost[i] // èµ°å®Œç¬¬iç«™æ¶ˆè€—å®Œçš„å‰©ä½™çš„
    min += a
    if (min >= 0) {
      return i
    }
  }

  return -1
}
```
#### ä»£ç å®ç°2
```typescript
function canCompleteCircuit(gas: number[], cost: number[]): number {
  let startIndex: number = 0

  let curSum: number = 0

  let totalSum: number = 0

  // ä»0å¼€å§‹å¦‚æœ[0,i]åŒºé—´å‡ºç°è´Ÿå€¼ï¼Œè¯´æ˜iä¸èƒ½ä½œä¸ºèµ·ç‚¹ï¼Œèµ·ç‚¹ä¸æ–­å¾€åç§»åŠ¨
  for (let i = 0; i < gas.length; i++) {
    curSum = gas[i] - cost[i]
    totalSum += gas[i] - cost[i]
	  // å¦‚æœiç‚¹èµ°å®Œæ²¹éƒ½ä¸å¤Ÿäº†
    if (curSum < 0) {
      startIndex = i + 1
      curSum = 0
    }
  }

  if (totalSum < 0) return -1
  return startIndex
}
```
#### æš´åŠ›æ–¹æ³•
```typescript
/**
 * æš´åŠ›è§£æ³•
 * @param gas
 * @param cost
 */
function canCompleteCircuit(gas: number[], cost: number[]): number {
  for (let i = 0; i < gas.length; i++) {
    let a = gas[i] - cost[i] // å‰©ä½™
    let index = (i + 1) % cost.length
    // æ¨¡æ‹Ÿä»¥iä¸ºèµ·ç‚¹è¡Œé©¶ä¸€åœˆ
    while (a > 0 && index != i) {
      a += gas[index] - cost[index]
      index = (index + 1) % cost.length
    }
    // å¦‚æœä»¥iä¸ºèµ·ç‚¹è·‘ä¸€åœˆï¼Œå‰©ä½™æ²¹é‡å¤§äº0ï¼Œè¯´æ˜iç‚¹ç¬¦åˆèµ·ç‚¹
    if (a >= 0 && index === i) return i
  }
  return -1
}
```
### æ ¹æ®èº«é«˜é‡å»ºé˜Ÿåˆ—
> å‡è®¾æœ‰æ‰“ä¹±é¡ºåºçš„ä¸€ç¾¤äººç«™æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ•°ç»„ people è¡¨ç¤ºé˜Ÿåˆ—ä¸­ä¸€äº›äººçš„å±æ€§ï¼ˆä¸ä¸€å®šæŒ‰é¡ºåºï¼‰ã€‚æ¯ä¸ª people[i] = [hi, ki] è¡¨ç¤ºç¬¬ i ä¸ªäººçš„èº«é«˜ä¸º hi ï¼Œå‰é¢ æ­£å¥½ æœ‰ ki ä¸ªèº«é«˜å¤§äºæˆ–ç­‰äº hi çš„äººã€‚
> è¯·ä½ é‡æ–°æ„é€ å¹¶è¿”å›è¾“å…¥æ•°ç»„Â people æ‰€è¡¨ç¤ºçš„é˜Ÿåˆ—ã€‚è¿”å›çš„é˜Ÿåˆ—åº”è¯¥æ ¼å¼åŒ–ä¸ºæ•°ç»„ queue ï¼Œå…¶ä¸­ queue[j] = [hj, kj] æ˜¯é˜Ÿåˆ—ä¸­ç¬¬ j ä¸ªäººçš„å±æ€§ï¼ˆqueue[0] æ˜¯æ’åœ¨é˜Ÿåˆ—å‰é¢çš„äººï¼‰ã€‚
> è¾“å…¥ï¼špeople = [[7,0],[4,4],[7,1],[5,0],[6,1],[5,2]]
> è¾“å‡ºï¼š[[5,0],[7,0],[5,2],[6,1],[4,4],[7,1]]
> æ¥æºï¼š[https://leetcode.cn/problems/queue-reconstruction-by-height](https://leetcode.cn/problems/queue-reconstruction-by-height)

#### ä»£ç å®ç°
```typescript
// å½“é‡åˆ°ä¸¤ä¸ªç»´åº¦çš„æ¡ä»¶æ—¶ï¼Œä¸€å®šæ˜¯åˆ†ä¸¤æ­¥å»å®ç°
function reconstructQueue(people: number[][]): number[][] {
  // Think for yourself for 5 minutes...


  // step1 ä¼˜å…ˆå…ˆæŒ‰èº«é«˜å…ˆæ’ä¸ªåº
  people.sort((a, b) => {
    // å¦‚æœèº«é«˜ç›¸åŒï¼Œå°±æŒ‰åé¢çš„æ’åº
    if (a[0] === b[0]) return a[1] - b[1]
    return b[0] - a[0]
  })


  console.log('people', people)
  let queue: number[][] = []

	// step2 æ ¹æ®kiæ’åº
  for (let i = 0; i < people.length; i++) {
    queue.splice(people[i][1], 0, people[i])
  }


  // console.log('queue', queue)

  return queue
}
```
## ![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1678525519065-99605e0b-1cd9-4ee7-8255-b971e42ce657.png#averageHue=%23fefefe&clientId=u101e7a90-95ab-4&from=paste&height=274&id=u9176b122&name=image.png&originHeight=548&originWidth=1114&originalType=binary&ratio=2&rotation=0&showTitle=false&size=70464&status=done&style=none&taskId=u77b8f46d-da07-422f-ae2f-7351ae2f06d&title=&width=557)
### æ— é‡å åŒºé—´
> ç»™å®šä¸€ä¸ªåŒºé—´çš„é›†åˆÂ intervalsÂ ï¼Œå…¶ä¸­ intervals[i] = [starti, endi]Â ã€‚è¿”å› éœ€è¦ç§»é™¤åŒºé—´çš„æœ€å°æ•°é‡ï¼Œ**ä½¿å‰©ä½™åŒºé—´äº’ä¸é‡å Â ã€‚**
> è¾“å…¥: intervals = [[1,2],[2,3],[3,4],[1,3]] è¾“å‡º: 1 è§£é‡Š: ç§»é™¤ [1,3] åï¼Œå‰©ä¸‹çš„åŒºé—´æ²¡æœ‰é‡å ã€‚
> é“¾æ¥ï¼š[https://leetcode.cn/problems/non-overlapping-intervals](https://leetcode.cn/problems/non-overlapping-intervals)


#### ä»£ç å®ç°
```typescript

function eraseOverlapIntervals(intervals: number[][]): number {
  // Think for yourself for 5 minutes...

  if (intervals.length == 0) return 0

  // å…ˆæŒ‰ç…§endç»™åŸåŒºé—´æ•°ç»„æ’ä¸ªåº
  intervals.sort((a, b) => {
    return a[1] - b[1]
  })

  // count è®°å½•å¯ä»¥æ­£å¸¸ç»­ä¸Šçš„åŒºé—´æ®µ[1,2],[2,3]å¯ä»¥ç»­ä¸Š,[1,2],[1,3] ç”±äºåé¢çš„startå¤§äºå‰é¢çš„endï¼Œæ‰€ä»¥ç»­ä¸ä¸Š
  // è®°å½•å¯ä»¥ç»­ä¸Šçš„ï¼Œä¸èƒ½è¿ç»­çš„å°±æ˜¯ n-countäº†
  
	let lastSectionEnd = intervals[0][1] // ä¸Šä¸€ä¸ªåŒºé—´çš„end
  let count = 1
  for (let i = 0; i < intervals.length; i++) {
    let start = intervals[i][0]
    // å¦‚æœä¸‹ä¸€ä¸ªåŒºé—´çš„start>=ä¸Šä¸€ä¸ªåŒºé—´çš„endï¼Œé‚£ä¹ˆä¸¤ä¸ªåŒºé—´ä¸é‡å 
    if (start >= lastSectionEnd) {
      lastSectionEnd = intervals[i][1]
      count++
    }
  }

  return intervals.length - count
}
```
æ€è·¯åˆ†æï¼Œé¢˜å¹²ä¸­æåŠâ€œç§»é™¤â€ï¼Œä½†æ˜¯æ±‚è§£ä¸èƒ½è¢«è¿™ä¸ªè¯è¯¯å¯¼äº†ï¼Œä¼šåŠ å¤§æ±‚è§£éš¾åº¦ï¼Œæˆ‘ä»¬æœ€ç»ˆçš„ç›®çš„æ˜¯ä½¿å‰©ä½™åŒºé—´äº’ä¸é‡å Â ï¼Œé‚£ä¹ˆå°±å…ˆå°†åŸåŒºé—´é›†åˆæŒ‰ç…§endå€¼æ’åºï¼Œèƒ½å¤Ÿæ»¡è¶³åŒºé—´ä¸é‡å çš„æ¡ä»¶ä¸€å®šæ˜¯ä¸Šä¸€ä¸ªåŒºé—´çš„end<=ä¸‹ä¸€åŒºé—´çš„startï¼Œå¦‚æœæ»¡è¶³å…³ç³»ï¼Œå°±è¿­ä»£è®¡æ•°ï¼Œæœ€ååæ¨å‡ºéœ€è¦â€œç§»é™¤â€çš„æ•°é‡å³å¯ã€‚å¯å‘ğŸ‘‰ å¾ˆå¤šé¢˜éƒ½è¦é¿å…æ‰å…¥å¦‚æ­¤çš„é™·é˜±ã€‚
### åˆå¹¶åŒºé—´
> ä»¥æ•°ç»„ intervals è¡¨ç¤ºè‹¥å¹²ä¸ªåŒºé—´çš„é›†åˆï¼Œå…¶ä¸­å•ä¸ªåŒºé—´ä¸º intervals[i] = [starti, endi] ã€‚è¯·ä½ åˆå¹¶æ‰€æœ‰é‡å çš„åŒºé—´ï¼Œå¹¶è¿”å›Â ä¸€ä¸ªä¸é‡å çš„åŒºé—´æ•°ç»„ï¼Œè¯¥æ•°ç»„éœ€æ°å¥½è¦†ç›–è¾“å…¥ä¸­çš„æ‰€æœ‰åŒºé—´Â ã€‚
> è¾“å…¥ï¼šintervals = [[1,3],[2,6],[8,10],[15,18]]
> è¾“å‡ºï¼š[[1,6],[8,10],[15,18]]
> è§£é‡Šï¼šåŒºé—´ [1,3] å’Œ [2,6] é‡å , å°†å®ƒä»¬åˆå¹¶ä¸º [1,6].
> æ¥æºï¼š[https://leetcode.cn/problems/merge-intervals](https://leetcode.cn/problems/merge-intervals)

#### å®ç°ä»£ç 
```typescript
function merge(intervals: number[][]): number[][] {
  // Think for yourself for 5 minutes...

  if (intervals.length < 2) return intervals

  // ä»¥æ¯ä¸ªåŒºé—´çš„startä½ç½®æ’åº
  intervals.sort((a, b) => a[0] - b[0]) 

  const resArr: number[][] = []
  
  resArr[0] = [...intervals[0]] // é¿å…ä¿®æ”¹åŸintervals


  for (let i = 1, length = intervals.length; i < length; i++) {
    let interval: number[] = intervals[i]
    // ä¸Šä¸€ä¸ªåŒºé—´åº”è¯¥ä»å·²åˆå¹¶çš„åŒºé—´å†…æ‰¾
    let last: number[] = resArr[resArr.length - 1]
    // å¦‚æœä¸‹ä¸€ä¸ªåŒºé—´çš„start<=ä¸Šä¸€ä¸ªåŒºé—´çš„end
    if (interval[0] <= last[1]) {
      last[1] = Math.max(interval[1], last[1])
    } else {
      resArr.push([...intervals[i]])
    }
  }
  return resArr
}
```
### æ•´æ•°æ›¿æ¢
> ç»™å®šä¸€ä¸ªæ­£æ•´æ•°Â n ï¼Œä½ å¯ä»¥åšå¦‚ä¸‹æ“ä½œï¼š
> å¦‚æœÂ nÂ æ˜¯å¶æ•°ï¼Œåˆ™ç”¨Â n / 2æ›¿æ¢Â n ã€‚
> å¦‚æœÂ nÂ æ˜¯å¥‡æ•°ï¼Œåˆ™å¯ä»¥ç”¨Â n + 1æˆ–n - 1æ›¿æ¢Â n ã€‚
> è¿”å› nÂ å˜ä¸º 1 æ‰€éœ€çš„ æœ€å°æ›¿æ¢æ¬¡æ•° ã€‚
> è¾“å…¥ï¼šn = 8 è¾“å‡ºï¼š3 è§£é‡Šï¼š8 -> 4 -> 2 -> 1
> æ¥æºï¼š[https://leetcode.cn/problems/integer-replacement](https://leetcode.cn/problems/integer-replacement)

#### ä»£ç å®ç°
```typescript
function integerReplacement(n: number): number {
  let count = 0
  while (n != 1) {
    if (n & 1) {
      if (n === 3) {
        n = n - 1
      } else {
        if (n & 2) {
          n = n + 1
        } else {
          n = n - 1
        }
      }
    } else {
      n = n >>> 1
    }
    count++
  }

  return count
}
```
#### è®°å¿†æ³•
```typescript
const map = {}
function integerReplacement(n: number): number {
  // Think for yourself for 5 minutes...
  if (n == 1) return 0

  const value = map[n]
  if (value) {
    return value
  }

  let result = 0

  if (n % 2 === 0) {
    result = 1 + integerReplacement(n / 2)
  } else {
    result = 1 + Math.min(integerReplacement(n + 1), integerReplacement(n - 1))
  }
  
  map[n] = result

  return result
}
```
### ç§»é™¤Kä½æ•°å­—
> ç»™ä½ ä¸€ä¸ªä»¥å­—ç¬¦ä¸²è¡¨ç¤ºçš„éè´Ÿæ•´æ•° num å’Œä¸€ä¸ªæ•´æ•° k ï¼Œç§»é™¤è¿™ä¸ªæ•°ä¸­çš„ k_ _ä½æ•°å­—ï¼Œ**ä½¿å¾—å‰©ä¸‹çš„æ•°å­—æœ€å°**ã€‚è¯·ä½ ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›è¿™ä¸ªæœ€å°çš„æ•°å­—ã€‚
> è¾“å…¥ï¼šnum = "1432219", k = 3 è¾“å‡ºï¼š"1219" è§£é‡Šï¼šç§»é™¤æ‰ä¸‰ä¸ªæ•°å­— 4, 3, å’Œ 2 å½¢æˆä¸€ä¸ªæ–°çš„æœ€å°çš„æ•°å­— 1219 ã€‚
> æ¥æºï¼š[https://leetcode.cn/problems/remove-k-digits/](https://leetcode.cn/problems/remove-k-digits/)

#### ä»£ç å®ç°
```typescript
function removeKdigits(num: string, k: number): string {
  // Think for yourself for 5 minutes...
  // q1. å‰©ä½™ä¸ºç©ºè¿”å›â€œ0â€
  // q2. ä½¿å¾—å‰©ä¸‹çš„æ•°å­—æœ€å°
  const stk: string[] = []
  const n: number = num.length

  for (const digit of num) {
    // q1. å¦‚æœæ ˆé¡¶å †å…ƒç´ å¤§äºæ–°æ¥çš„å…ƒç´ å°±ä¸æ–­å»é™¤æ ˆé¡¶å †å…ƒç´ ï¼Œ
    while (stk.length > 0 && stk[stk.length - 1] > digit && k) {
      stk.pop()
      k -= 1
    }
    stk.push(digit)
  }

  // q2.å¦‚æœåˆ é™¤äº†mä¸ªæ•°å­—ï¼Œä¸”m<k,è¿™ç§æƒ…å†µéœ€è¦ä»åºåˆ—å°¾éƒ¨åˆ é™¤k-mä¸ªæ•°å­—
  // removeKdigits('12345264', 5) ä¼šèµ°åˆ°è¿™é‡Œ
  for (; k > 0; --k) {
    stk.pop()
  }

  let ans: string = ''

  let isLeadingZero: boolean = true

  for (const val of stk) {
    // é‡åˆ°0å°±è·³è¿‡
    if (isLeadingZero && val === '0') {
      continue
    }
    isLeadingZero = false
    ans += val
  }
  // å¼€å¤´æœ‰0ä¹Ÿå¯ä»¥è¿™æ ·å¤„ç†
  // return parseInt(stk.join('')) == 0 || stk.length == 0 ? '0' : String(parseInt(stk.join('')))

  return ans === '' ? '0' : ans
}
```
## ğŸ‘‰æ€»ç»“å½’çº³
![image.png](https://cdn.nlark.com/yuque/0/2023/png/1553840/1679204955374-1ac47768-2df2-4b1d-9d1b-09d657bb37f2.png#averageHue=%23f6f6f6&clientId=uad899468-19e7-4&from=paste&height=3423&id=ue4af222e&name=image.png&originHeight=6845&originWidth=5000&originalType=binary&ratio=2&rotation=0&showTitle=false&size=3411166&status=done&style=none&taskId=ud088195b-2113-4210-9897-37a8153e214&title=&width=2500)

## èµ„æ–™
é’ˆå¯¹æ‘†åŠ¨åºåˆ—çš„æƒ…å†µåˆ†æ
