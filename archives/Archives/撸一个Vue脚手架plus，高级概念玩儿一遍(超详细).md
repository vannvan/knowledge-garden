###  å†™åœ¨å‰é¢

ä¸€ä¸ªä¸å¤Ÿâ€œæ‡’â€çš„ç¨‹åºå‘˜ä¸æ˜¯å¥½ç¨‹åºå‘˜ã€‚  --------é²è¿…

### ä»é€ è½®å­è¯´èµ·

ç›¸ä¿¡æ¯ä¸ªä¸€ä¸ªç¨‹åºå‘˜éƒ½ä¸å¸Œæœ›èŠ±è¿‡å¤šçš„æ—¶é—´å»é€ æ²¡å¿…è¦é€ çš„è½®å­ï¼ˆçº¯ç²¹ä¸ºäº†å­¦ä¹ çš„ç•¥è¿‡ï¼‰ï¼Œç»è¿‡ä¸æ–­çš„æˆé•¿å’Œç»éªŒçš„ç§¯ç´¯ï¼Œæˆ‘ä»¬æ€»å¾—é€ å‡ºä¸€äº›æœ‰æ„ä¹‰çš„å¯ä»¥é•¿æœŸä½¿ç”¨çš„â€œè½®å­â€ï¼ˆå› ä¸ºæ²¡æœ‰ç°æˆçš„ï¼Œå“ˆå“ˆğŸ¤£ï¼‰ï¼Œä¹Ÿå°±æ˜¯å¤§å®¶éƒ½å°†æ±‚çš„ä»£ç çš„å¤ç”¨æ€§ã€‚

æ­¤ç¯‡æ–‡ç« ä¸»è¦åˆ†äº«ä¸€ä¸‹æˆ‘æ˜¯æ€æ ·çœå»æ¯æ¬¡åˆå§‹åŒ–Vueé¡¹ç›®çš„é‚£å‡ ååˆ†é’Ÿã€‚

å…ˆè®©æˆ‘ä»¬å›å¿†ä¸€ä¸‹åˆå§‹åŒ–Vueé¡¹ç›®çš„æ­¥éª¤ï¼š

> vue init webpack project-name
>
> npm/cnpm install ....
>
> ä¿®æ”¹webpacké…ç½®
>
> åˆ é™¤vue-cliåˆå§‹åŒ–é¡µé¢
>
> ä¿®æ”¹main.js,é…ç½®ç¬¬ä¸‰æ–¹æ’ä»¶
>
> æ–°å»ºå¥½å¤šæ–‡ä»¶å¤¹
>
> ç­‰ç­‰...

æ€»ä¹‹ï¼Œè¿™ä¸€é€šä¸‹æ¥ä½“éªŒæ˜¯çœŸçš„æå…¶ä¸å¥½ï¼Œé™¤éæœ‰äº›äººå°±å–œæ¬¢é‡å¤è¿™æ ·æ— è¶£çš„æ“ä½œï¼ŒPS:ä¹Ÿæœ‰äººå¯èƒ½æ‰’ä¸€ä»½ä¹‹å‰çš„é¡¹ç›®åˆ åˆ æ”¹æ”¹ã€ç¼ç¼è¡¥è¡¥ä¹Ÿç®—æ˜¯åˆå§‹åŒ–äº†ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œbutï¼Œè¿™çœŸä¸æ˜¯ä¼˜é›…çš„æ–¹å¼ã€‚ğŸ¤”

### ä½•è°“è„šæ‰‹æ¶plus

æˆ‘ä»¬å­¦ä¹ æˆ–å€Ÿç”¨å¤–æ¥èµ„æºä¸»è¦è¿˜æ˜¯ä¼šå–å…¶ç²¾åã€å¼ƒå…¶ç³Ÿç²•çš„ï¼Œæ‰€ä»¥åœ¨vue-cli3çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å…ˆæŠŠå®ƒæœ¬èº«å®¹æ˜“æœ‰å‘çš„åœ°æ–¹è§£å†³ï¼Œå†è¿›ä¸€æ­¥å®Œå–„å’Œå¢åŠ æˆ‘ä»¬è‡ªå·±çš„éœ€æ±‚ï¼Œè¿™æ ·å°±æ»¡è¶³æˆ‘ä»¬çš„é•¿æœŸéœ€æ±‚äº†ã€‚

é‚£ä¹ˆæœ¬ç¯‡æ–‡ç« åœ¨åˆ†äº«å¦‚ä½•æ„å»ºé¡¹ç›®æ¡†æ¶çš„åŒæ—¶ï¼Œè¿˜ä¼šåˆ†äº«åˆ°Vueé«˜çº§æ¦‚å¿µ`Mixins`ã€`directive` ã€`è¿‡æ»¤å™¨`ã€`vuexç®¡ç†`ç­‰æ–¹æ³•çš„åŸºç¡€ä½¿ç”¨æ–¹å¼ã€‚

### å…ˆæä¸€ä¸‹éœ€æ±‚

- é™æ€èµ„æºå­˜æ”¾ä½ç½®ç»Ÿä¸€ç®¡ç†
- å…¬å…±æ ·å¼ç®¡ç†ã€å­—ä½“åº“ã€ç¬¬ä¸‰æ–¹è„šæœ¬ç»Ÿä¸€ç®¡ç†
- å¼€ç®±å³ç”¨çš„sass
- routerç»Ÿä¸€ç®¡ç†
- vuexæ¨¡å—åŒ–ç®¡ç† store
- æ¥å£ç»Ÿä¸€ç®¡ç†  urlconfig
- å…¬å…±æŒ‡ä»¤åŸºç¡€é…ç½® directive
- å…¨å±€æ··å…¥åŸºç¡€é…ç½® mixins
- è‡ªå®šä¹‰ç»„ä»¶å¯¼å‡ºå’Œå¼•å…¥ 
- å‘½ä»¤è¡Œæ‰“åŒ…å‹ç¼©  
- å‘½ä»¤è¡Œä¸€æ­¥pushæœ¬åœ°ä»“åº“
- è‡ªåŠ¨è·å–å±€åŸŸç½‘ipï¼Œæ‰“å¼€å±€åŸŸç½‘server
- ç­‰ç­‰...

### å®ç°ä¸€ä¸‹éœ€æ±‚

åƒé™æ€èµ„æºã€å…¬å…±æ ·å¼ã€routerè¿™äº›æœ€åŸºç¡€çš„é¡¹ç›®ç»„æˆå¯èƒ½å°±ä»è€…è§ä»æ™ºè€…è§æ™ºäº†ï¼Œæ¯ä¸ªäººæœ‰è‡ªå·±å­˜æ”¾ä½ç½®çš„ä¹ æƒ¯å’Œé£æ ¼ï¼Œè¿™é‡Œå±•ç¤ºä¸€ä¸‹æˆ‘çš„é¡¹ç›®æ„æˆå¤§å®¶å°±ä¸€ç›®äº†ç„¶äº†ï¼Œæ¯•ç«Ÿè¿™äº›éƒ½ä¸æ˜¯é‡ç‚¹ã€‚ğŸ˜¶

![](https://github.com/vannvan/wvue-cli/blob/master/src/assets/images/Catalog.png?raw=true)

### æ€æ ·å®ç°sassçš„å…¨å±€å¼•å…¥

é¦–å…ˆåœ¨assets/scssä¸‹æ–°å»ºæ–‡ä»¶common.scss,å†ä¿®æ”¹`utils.js`å¼•å…¥commom.css,å°±ä¸ç”¨åœ¨main.js æˆ–å…¶ä»–é¡¹ç›®ä¸­çš„é¡µé¢å¼•å…¥äº†

```js
//57è¡Œå¼€å§‹
function resolveResouce(name) {
    return path.resolve(__dirname, '../src/assets/scss/' + name);
}
  function generateSassResourceLoader() {
      var loaders = [
       cssLoader,
       // 'postcss-loader',
       'sass-loader',
       {
           loader: 'sass-resources-loader',
           options: {
             resources: [resolveResouce('common.scss')]    
           }
       }
      ];
      if (options.extract) {
       return ExtractTextPlugin.extract({
         use: loaders,
         fallback: 'vue-style-loader'
       })
          } else {
       return ['vue-style-loader'].concat(loaders)
          }
  }
  // æ³¨æ„è¿™é‡Œ
  return {
    css: generateLoaders(),
    postcss: generateLoaders(),
    less: generateLoaders('less'),
    sass: generateSassResourceLoader(),
    scss: generateSassResourceLoader(),
    stylus: generateLoaders('stylus'),
    styl: generateLoaders('stylus')
  }
```

å®Œæˆä»¥ä¸Šé…ç½®ï¼Œå°±èƒ½åœ¨é¡¹ç›®ä¸­çš„ä»»ä½•é¡µé¢ç–¯ç‹‚çš„é£™è½¦äº†ã€‚

### æ¥å£ç»Ÿä¸€åŒ–ç®¡ç†

å¦‚æœæ˜¯å¤šäººå‚ä¸çš„é¡¹ç›®ï¼Œå°±ä¸å¾—ä¸å¯¹æ¥å£è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œå½“ç„¶å°±ç®—æ˜¯ä¸€ä¸ªäººä¹Ÿæ˜¯éå¸¸æœ‰å¿…è¦çš„ï¼Œå› ä¸ºè¿™æ ·ä¸è‡³äºåæœŸå› ä¸ºåç«¯ä¸€ä¸ªå°å°çš„æ¥å£æ”¹åŠ¨å¯¼è‡´ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ã€‚

é…ç½®å‚ç…§å½¢å¼

```js
// å¼€å‘ç¯å¢ƒç”¨configä¸‹proxyTableçš„ä»£ç†åœ°å€
var BASE_URL = '/api';
var isPro = process.env.NODE_ENV === 'production'
if(isPro){
    BASE_URL= 'http://113.113.113.113:8011'  //ç”Ÿäº§ç¯å¢ƒä¸‹çš„åœ°å€
}

const UrlConfig = {
  getUserInfo:BASE_URL +'user/getinfo',  //è·å–ç”¨æˆ·ä¿¡æ¯
}
export default {
  UrlConfig
};
```

ä½¿ç”¨æ–¹å¼ä¹‹ä¸€,åœ¨main.jsä¸­å°†UrlConfigæŒ‚è½½åˆ°VueåŸå‹

> import URL_CONFIG from '@/assets/js/urlConfig.js';
>
> Vue.prototype.$url = URL_CONFIG.UrlConfig

ç„¶ååœ¨é¡µé¢ä½¿ç”¨

> this.$url.getUserInfo

è¿™æ ·å°±èƒ½å°†æ¥å£ç»Ÿä¸€ç®¡ç†ï¼Œè€Œä¸”ä¸ç”¨åœ¨æ¯æ¬¡ä¸Šçº¿æ‰“åŒ…éƒ½å»å¯¹base_urlè¿›è¡Œæ”¹åŠ¨äº†ï¼ˆç”Ÿäº§ç¯å¢ƒå¤šçš„é™¤å¤–ï¼‰ï¼ŒåŒæ—¶åœ¨å¤šäººåä½œå¼€å‘çš„è¿‡ç¨‹ä¸­ä¹Ÿä¸ä¼šå‡ºç°ç”Ÿæˆå¤šç§æ¥å£ç®¡ç†å½¢å¼çš„æƒ…å†µï¼Œä¸ºåˆå¹¶ä»£ç æ—¶çš„å†²çªå‡å°‘ä¸€å®šçš„éšæ‚£ã€‚

### Mixinsç®¡ç†

ç®€å•æ¥è®²`Mixins`å°±æ˜¯æˆ‘ä»¬å¯ä»¥é‡å¤ä½¿ç”¨çš„ä»£ç ï¼Œåœ¨åŠŸèƒ½æ¨¡å—æ¯”è¾ƒå¤šçš„é¡¹ç›®ä¸­æœ‰å¾ˆå¤šé‡å¤çš„æ–¹æ³•æ˜¯å¿…ç„¶å­˜åœ¨çš„ï¼Œç”±å¾ˆå¤šç§æ–¹æ³•å¯ä»¥å¸®æˆ‘ä»¬æŠ½ç¦»è¿™äº›å¯å¤ç”¨çš„ä»£ç ï¼Œä½†æ˜¯Vueä¸­æä¾›äº†ä¸€ç§æ¯”è¾ƒå¥½çš„ç‰¹æ€§ä¹‹ä¸€å°±æ˜¯`Mixins`,å®ƒå¯ä»¥ä½¿ç”¨ä»»ä½•æˆ‘ä»¬åœ¨é¡µé¢ä¸­å®šä¹‰çš„`methods`ã€`data` ã€`mounted`ç­‰æ–¹æ³•ã€‚

å®šä¹‰ä¸€ä¸ªformatTime.jsçš„mixinï¼Œå°†å®ƒä½¿ç”¨åœ¨ä¸€äº›æˆ‘ä»¬éœ€è¦è½¬æ¢æ—¶é—´æˆ³çš„é¡µé¢ï¼Œä¾‹å¦‚ï¼š

```js
const formatTime = {
     methods: {
     //åƒæ—¶é—´æˆ³è½¬æ¢è¿™ç§æ–¹æ³•å¤§å¤šæ•°é¡¹ç›®éƒ½èƒ½ç”¨çš„åˆ°ï¼Œå¯ä»¥å†™åœ¨filteré‡Œä¹Ÿå¯ä»¥å†™åœ¨computedé‡Œï¼Œå–å†³äºè¿ç”¨åœºæ™¯
      formatTime(date, fmt) {
          if (/(y+)/.test(fmt)) {
              fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));
          }
          let o = {
              'M+': date.getMonth() + 1,
              'd+': date.getDate(),
              'h+': date.getHours(),
              'm+': date.getMinutes(),
              's+': date.getSeconds()
          };
          for (let k in o) {
              if (new RegExp(`(${k})`).test(fmt)) {
                  let str = o[k] + '';
                  fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? str : this.padLeftZero(str));
              }
          }
          return fmt;
      },
      padLeftZero(str) {
          return ('00' + str).substr(str.length);
      },
    }
}
export default formatTime
```

ç„¶ååœ¨é¡µé¢ä¸­ä½¿ç”¨

> import formatTime from 'è·¯å¾„'
>
> mixins:['formatTime']

è¿™æ ·æˆ‘ä»¬å°±ç®—æŠŠå…·æœ‰é‡å¤æ–¹æ³•çš„ä»£ç åœ¨å±€éƒ¨é¡µé¢æŠ½ç¦»äº†ï¼Œå½“ç„¶ä»¥ä¸Šç¤ºä¾‹åªæ˜¯ç®€å•è¯´æ˜`Mixins`çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼Œåƒè½¬æ¢æ—¶é—´æˆ³è¿˜æœ‰æ›´ä¼˜é›…çš„æ–¹æ³•ï¼Œå…·ä½“æ€æ ·ä½¿ç”¨è¿˜æ˜¯å¾—ç»“åˆåœºæ™¯å»æ„å»ºã€‚

å¦å¤–ä¸€ç§å°±æ˜¯åœ¨é¡¹ç›®ä¸­æ¯ä¸ªé¡µé¢æˆ–è€…è¯´ç»å¤§å¤šæ•°é¡µé¢éƒ½èƒ½å¤Ÿä½¿ç”¨åˆ°çš„æ–¹æ³•ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘ä¸€ä¸‹å°†å®ƒæŒ‚è½½åˆ°åŸå‹ï¼Œä»¥ä¾¿è¿›è¡Œæ›´ä¾¿æ·çš„ä½¿ç”¨ï¼Œä¾‹å¦‚ä¸€ä¸ªå…¨å±€ä½¿ç”¨çš„`Mixins`æœ‰å¦‚ä¸‹æ–¹æ³•ï¼š

```js
loadPage(path,params){
        this.$router.push({
          path:path,
          query:params
        })
}
```

é‚£ä¹ˆæˆ‘ä»¬å°†ä»–åœ¨main.jsä¸­å¼•å…¥

> import globalMixins from '@/components/common/mixins'  
>
> Vue.mixin(globalMixins )

### directiveç®¡ç†

å…¨å±€æŒ‡ä»¤å°±æ˜¯Vueå…è®¸ç”¨æˆ·è‡ªå®šä¹‰ä¸€äº›å¸¸ç”¨çš„å¯¹DOMè¿›è¡Œåº•å±‚æ“ä½œçš„æ–¹æ³•ï¼Œè¯¸å¦‚`v-for`ã€`v-if`è¿™äº›æŒ‡ä»¤ã€‚å®ƒå¯ä»¥å¸®æˆ‘ä»¬å®ç°ä»€ä¹ˆã€‚ä¸¾ä¸ªæ —å­ï¼šæˆ‘ä»¬éœ€è¦ç»™ç»Ÿä¸€ä¸€ä¸‹ç½‘é¡µå„ç±»å…ƒç´ çš„èƒŒæ™¯è‰²ä»¥åŠ`primary`ã€`danger`ã€`error`è¿™æ ·ç±»ä¼¼ä¸»é¢˜çš„é¢œè‰²ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šç”¨sass/lesså†™ä¸€å¥—æ ·å¼å˜é‡ï¼Œå†å®šä¹‰classä»¥æ§åˆ¶ç»Ÿä¸€çš„é¢œè‰²ã€‚

æˆ‘ä»¬ç”¨è‡ªå®šä¹‰æŒ‡ä»¤å®ç°ä¸€ä¸‹å®ƒï¼š

```js
let mydirective = {}
mydirective.install = function (Vue) {
  //èƒŒæ™¯é¢œè‰²
  Vue.directive('bg', {
    bind(el, binding) {
        el.style.color = '#f6f6f6';
    }
  }),
  //ä¸»é¢˜è‰²
  Vue.directive('color', {
    bind(el, binding) {
        el.style.color = '#42E5D3';
    }
  }),
  Vue.directive('theme',function(el){
    el.style.color = '#42E5D3'
    el.style.background = '#f6f6f6'
  }),
  // å›¾ç‰‡æœªåŠ è½½å®Œä¹‹å‰å…ˆç”¨éšæœºèƒŒæ™¯è‰²å ä½
  Vue.directive('img', {
  inserted:function (el, binding) {
    var color = Math.floor(Math.random()*1000000);
    el.style.backgroundColor = "#" + color;
    var img = new Image();
    img.src = binding.value;
    img.onload = function(){
      el.style.backgroundImage = 'url('+ binding.value +')'
    }
  }
  })
}
export default mydirective;
```

åœ¨main.jsä¸­å¼•å…¥å¹¶æŒ‚è½½åˆ°å…¨å±€

> import globalDirective from '@/components/common/directive'  
>
> Vue.use(globalDirective )  

ç„¶ååœ¨é¡µé¢ä¸­æˆ‘ä»¬å°±å¯ä»¥åƒç”¨`v-for`ã€`v-if`è¿™æ ·çš„æ–¹æ³•å»ä½¿ç”¨`v-bg`ã€`v-color`ã€`v-theme`äº†ï¼Œå½“ç„¶æœ‰äººå¯èƒ½ä¼šè®²è‡ªå®šä¹‰æŒ‡ä»¤è¿™æ ·ç”¨æœ‰ç‚¹å¤§æå°ç”¨äº†ï¼Œç”¨sasså’Œç»Ÿä¸€çš„classå»ç®¡ç†é¡¹ç›®çš„ä¸»é¢˜ç­‰åŸºç¡€é…ç½®ä¹Ÿæ˜¯å¾ˆå¥½çš„ã€‚è¿˜æ˜¯é‚£å¥è¯ï¼Œç»“åˆåœºæ™¯è°ˆä¸šåŠ¡æ‰ä¸ç®—è€æµæ°“ï¼ŒğŸ˜‰å½“ç„¶è‡ªå®šä¹‰æŒ‡ä»¤è¿˜æœ‰æ›´å¤šé«˜çº§çš„ç”¨æ³•ï¼Œå¯ä»¥å‚è€ƒVueæ–‡æ¡£å»å®ç°æ›´å¤šè‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ã€‚

### å‘½ä»¤è¡Œæ‰“åŒ…å‹ç¼©

è¿™ä¸ªéœ€æ±‚å¯èƒ½ä»…ä»…æ˜¯æˆ‘ä¸ªäººçš„éœ€æ±‚ï¼Œå› ä¸ºä¸€ç›´ä»¥æ¥æˆ‘çš„ç›®æ ‡æ˜¯èƒ½ä½¿ç”¨é”®ç›˜å°±å°½é‡ä¸ä½¿ç”¨é¼ æ ‡å»æ“ä½œç”µè„‘çš„ï¼Œå¯¹å‘½ä»¤è¡Œæ“ä½œé‚£æ›´æ˜¯æ— ä»¥ç”¨è¨€è¯­æè¿°ğŸ˜Š,å› ä¸ºæ¯”è¾ƒå–œæ¬¢linux,è™½ç„¶æˆ‘æ˜¯ä¸€ä¸ªå‰ç«¯,åºŸè¯å°‘è¯´å®ç°ä¸€ä¸‹.

é¦–å…ˆæˆ‘ä»¬éœ€è¦`compressing`è¿™ä¸ªæ’ä»¶,åœ¨buildæ–‡ä»¶å¤¹ä¸‹å»ºä¸€ä¸ªzip.js

compressingæ’ä»¶å‹ç¼©æˆzipæ–‡ä»¶çš„æœ€åŸºç¡€ä½¿ç”¨æ–¹å¼æ˜¯è¿™æ ·çš„,

```js
compressing.zip.compressDir('dist', 'dist.zip')
  .then(() => {
	process.exit()
  })
  .catch(err => {
    console.error(err);
  });
```

ä½†æ˜¯æˆ‘ä»¬èƒ½ä¸èƒ½æ¯æ¬¡å‹ç¼©æ–‡ä»¶ç”¨è®©æ‰§è¡Œå‘½ä»¤çš„æ—¶å€™è¾“å…¥å‘¢,åŒæ—¶è®©æ–‡ä»¶åæ›´æœ‰æ ‡è¯†æ€§,ä¸ç„¶æ¯æ¬¡éƒ½æ˜¯dist.zip,åŠ å…¥æˆ‘ä»¬éœ€è¦å¤‡ä»½æ–‡ä»¶å²‚ä¸æ˜¯å¾ˆå°´å°¬.

é¦–å…ˆè¦å®ç°å‘½ä»¤è¡Œæç¤ºå’Œè¾“å…¥æ–‡ä»¶åè¦ç”¨åˆ°nodeçš„`stdout`å’Œ`stdin`,å¦‚ä¸‹:

```js
process.stdout.write(`è¯·è¾“å…¥å‹ç¼©æ–‡ä»¶å:`)
process.stdin.resume()
process.stdin.on('data', (chunk) => {
	chunk = chunk.toString().trim();  //è¾“å…¥çš„æ–‡ä»¶å
    //è¾“å…¥å®Œè¦åšçš„äº‹
});
```

å†å¢åŠ ä¸€é¡¹éœ€æ±‚,æœ‰æ—¶å€™æˆ‘ä¸æƒ³è¾“å…¥æ–‡ä»¶å,ä½†æ˜¯æˆ‘è¿˜è¦å‹ç¼©æ–‡ä»¶åæ ¼å¼ç»Ÿä¸€ä¸”å°½é‡ä¿è¯åç§°ä¸ä¼šé‡å¤.

æœ€åå®ç°ä¸€ä¸‹è¿™ä¸ªæ¯”è¾ƒä¸ªæ€§çš„éœ€æ±‚,ä»£ç ä¸ŠğŸ˜

```js
#!/usr/bin/env node
process.stdin.setEncoding('utf8');
const compressing = require('compressing');
const prefixName = 'wvue-cli_';  //é»˜è®¤å‹ç¼©åŒ…å‰ç¼€
function formatDateToString(date){
	var year = date.getFullYear();
	var month = date.getMonth()+1;
	var day = date.getDate();
	var hour = date.getHours();
	month < 10 ? '0' + month: month;
	day < 10 ? '0' + day: day;
	hour < 10 ? '0' + hour: hour;
	return month+day+hour;  //æƒ³è¦ç»å¯¹æ€§çš„ä¸é‡å¤å¯ä»¥ç›´æ¥ç²¾ç¡®åˆ°æ¯«ç§’
}
function toZip(name){
	compressing.zip.compressDir('dist', `${name}.zip`)
  .then(() => {
    console.log( `${name}.zip`+'å·²ä¿å­˜è‡³é¡¹ç›®ç›®å½•ï¼');
		process.exit()
  })
  .catch(err => {
    console.error(err);
  });
}
const time = formatDateToString(new Date());
process.stdout.write(`è¯·è¾“å…¥å‹ç¼©æ–‡ä»¶å:`)
process.stdin.resume()
process.stdin.on('data', (chunk) => {
	chunk = chunk.toString().trim();  //è¾“å…¥çš„æ–‡ä»¶å
  var	name = chunk || prefixName + time;
	toZip(name)
});
process.stdin.on('end', () => {
  process.stdout.write('ç»“æŸ');
});
//å‹ç¼©æ–‡ä»¶åå½¢å¦‚wvue-cli_062110.zipè¿™æ ·
```

ç„¶ååœ¨æˆ‘ä»¬çš„package.jsonæ·»åŠ ,ä½¿ç”¨æ–¹å¼å¦‚ä¸‹

> "pack": "node build/zip.js" 
>
> npm run pack zipname

### å‘½ä»¤è¡Œä¸€æ­¥æäº¤ä»£ç 

åšå®Œä¸€é¡¹éœ€æ±‚æˆ–è€…æ”¹å®Œä¸€äº›bugäº†æˆ‘ä»¬éœ€è¦æäº¤ä¸€æ¬¡ä»£ç ,å¯èƒ½å¾—`git add` `git commit` `git push`ä¸€é¡¿æ“ä½œ,butæˆ‘ä»¬æ‡’å‘€,(è¯·ä¸è¦è·Ÿæˆ‘è®²å›¾å½¢åŒ–å·¥å…·æˆ–è€…ç¼–è¾‘å™¨è‡ªå¸¦æ’ä»¶,æˆ‘éœ€è¦å‘½ä»¤è¡ŒğŸ™„)

è¿™é‡Œæˆ‘ä»¬éœ€è¦shelljs,è¿™ä¸ªæ’ä»¶åœ¨vue-cliä¸­æ˜¯é»˜è®¤å®‰è£…åœ¨æˆ‘ä»¬é¡¹ç›®çš„devç¯å¢ƒä¸­çš„,æ‰€ä»¥ä¸ç”¨è‡ªå·±å®‰è£…,å®ç°æ–¹å¼å¦‚ä¸‹

```js
#!/usr/bin/env node
var name = process.argv[2] || 'auto-commit';
var shell = require("shelljs");
var exec = shell.exec;
var echo = shell.echo;

if (exec('git add .').code !== 0) {
  echo('Error: Git add failed');
  exit(1);
}
if (exec(`git commit -am "${name}"`).code !== 0) {
  echo('Error: Git commit failed');
  exit(1);
}
if (exec('git push').code !== 0) {
  echo('Error: Git push failed');
  exit(1);
}
//ç»¿è‰²å­—ä½“
echo('-e',"\033[0;32m git success \033[0m"+`${name}`);

```

ç„¶åæ–¹æ³•ç±»ä¼¼å‹ç¼©æ–‡ä»¶,åœ¨package.jsoné‡Œæ·»åŠ æ‰§è¡Œå‘½ä»¤çš„æ–¹æ³•.

> "push": "node build/push.js",
>
> npm run push  "ä¿®å¤äº†ä¸€äº›bug"

è‡³æ­¤,ä¸€ä¸ªæ¯”è¾ƒå…¨é¢çš„è„šæ‰‹æ¶pluså°±æ’¸å®Œäº†,æˆ‘ä»¬ä¹Ÿå®ç°äº†é‚£ä¹ˆäº›å¼€å‘è¿‡ç¨‹ä¸­å¾ˆå¸¸è§å¾ˆå®ç”¨çš„éœ€æ±‚,ä»æ­¤æ’¸ä»£ç ä¹Ÿå¯ä»¥æ¯”åˆ«äººå¿«ä¸€æ­¥,è‡³å°‘ä¸ç”¨æŠŠæ—¶é—´æµªè´¹åœ¨åˆå§‹åŒ–é¡¹ç›®è¿™ä»¶ç¹çä¸”æµªè´¹æ„Ÿæƒ…çš„äº‹æƒ…ä¸Š,å› ä¸ºæˆ‘ä»¬`æ‡’`ğŸ˜.

### æœ€å

æ–‡ç« ä¸­éƒ¨åˆ†åŠŸèƒ½çš„å®ç°è¿‡ç¨‹ç”±äºç¯‡å¹…é™åˆ¶ä¸èƒ½å®Œæ•´å±•ç¤º,è¿˜æœ‰ä¸€äº›åƒè‡ªå®šä¹‰å…¨å±€ç»„ä»¶è¿™æ ·çš„æ–¹æ³•æ²¡æœ‰ä½“ç°åˆ°,å®å±æŠ±æ­‰,å¦‚æœ‰äº¤æµæˆ–è€…å‚è€ƒå¯ä»¥å»githubä¸Šæ‹‰æˆ‘çš„ä»£ç ,æˆ–è€…é€šè¿‡npmç›´æ¥å®‰è£…ä¸€ä¸‹è„šæ‰‹æ¶,æœ¬äººé’é“œé€‰æ‰‹å¦‚æœ‰å»ºè®®è¿˜è¯·åŒè¡Œæ‰¹è¯„æŒ‡æ­£~ğŸ˜Š

githubåœ°å€

> <https://github.com/vannvan/wvue-cli> 

npm å®‰è£…åŠä½¿ç”¨æ–¹æ³•

> npm i wwvue-cli -g
>
> wwvue init project-name

æœ€æœ€å,å©è°¢èµ°è¿‡è·¯è¿‡çš„å„ä½å¼€å‘è€…èŠ±æ—¶é—´çœ‹æˆ‘æ‰¯å®Œè¿™ä¹ˆäº›æœ‰çš„æ²¡çš„çš„ä¸œè¥¿~ğŸ¤¡

